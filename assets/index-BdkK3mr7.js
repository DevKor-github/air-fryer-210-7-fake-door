(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hh={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function rb(){if(bm)return Yo;bm=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Yo.Fragment=t,Yo.jsx=i,Yo.jsxs=i,Yo}var Am;function ab(){return Am||(Am=1,Hh.exports=rb()),Hh.exports}var Kn=ab(),jh={exports:{}},Xo={},Gh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function sb(){return Sm||(Sm=1,function(r){function t(rt,mt){var vt=rt.length;rt.push(mt);t:for(;0<vt;){var Ct=vt-1>>>1,D=rt[Ct];if(0<o(D,mt))rt[Ct]=mt,rt[vt]=D,vt=Ct;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var mt=rt[0],vt=rt.pop();if(vt!==mt){rt[0]=vt;t:for(var Ct=0,D=rt.length,tt=D>>>1;Ct<tt;){var ft=2*(Ct+1)-1,ut=rt[ft],lt=ft+1,Tt=rt[lt];if(0>o(ut,vt))lt<D&&0>o(Tt,ut)?(rt[Ct]=Tt,rt[lt]=vt,Ct=lt):(rt[Ct]=ut,rt[ft]=vt,Ct=ft);else if(lt<D&&0>o(Tt,vt))rt[Ct]=Tt,rt[lt]=vt,Ct=lt;else break t}}return mt}function o(rt,mt){var vt=rt.sortIndex-mt.sortIndex;return vt!==0?vt:rt.id-mt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],m=[],E=1,S=null,C=3,M=!1,P=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(rt){for(var mt=i(m);mt!==null;){if(mt.callback===null)s(m);else if(mt.startTime<=rt)s(m),mt.sortIndex=mt.expirationTime,t(p,mt);else break;mt=i(m)}}function $(rt){if(j=!1,X(rt),!P)if(i(p)!==null)P=!0,Gt();else{var mt=i(m);mt!==null&&Ft($,mt.startTime-rt)}}var nt=!1,st=-1,N=5,w=-1;function A(){return!(r.unstable_now()-w<N)}function O(){if(nt){var rt=r.unstable_now();w=rt;var mt=!0;try{t:{P=!1,j&&(j=!1,Q(st),st=-1),M=!0;var vt=C;try{e:{for(X(rt),S=i(p);S!==null&&!(S.expirationTime>rt&&A());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,C=S.priorityLevel;var D=Ct(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof D=="function"){S.callback=D,X(rt),mt=!0;break e}S===i(p)&&s(p),X(rt)}else s(p);S=i(p)}if(S!==null)mt=!0;else{var tt=i(m);tt!==null&&Ft($,tt.startTime-rt),mt=!1}}break t}finally{S=null,C=vt,M=!1}mt=void 0}}finally{mt?V():nt=!1}}}var V;if(typeof H=="function")V=function(){H(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,I=x.port2;x.port1.onmessage=O,V=function(){I.postMessage(null)}}else V=function(){F(O,0)};function Gt(){nt||(nt=!0,V())}function Ft(rt,mt){st=F(function(){rt(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){P||M||(P=!0,Gt())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(rt){switch(C){case 1:case 2:case 3:var mt=3;break;default:mt=C}var vt=C;C=mt;try{return rt()}finally{C=vt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,mt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var vt=C;C=rt;try{return mt()}finally{C=vt}},r.unstable_scheduleCallback=function(rt,mt,vt){var Ct=r.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?Ct+vt:Ct):vt=Ct,rt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=vt+D,rt={id:E++,callback:mt,priorityLevel:rt,startTime:vt,expirationTime:D,sortIndex:-1},vt>Ct?(rt.sortIndex=vt,t(m,rt),i(p)===null&&rt===i(m)&&(j?(Q(st),st=-1):j=!0,Ft($,vt-Ct))):(rt.sortIndex=D,t(p,rt),P||M||(P=!0,Gt())),rt},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(rt){var mt=C;return function(){var vt=C;C=mt;try{return rt.apply(this,arguments)}finally{C=vt}}}}(Fh)),Fh}var wm;function ob(){return wm||(wm=1,Gh.exports=sb()),Gh.exports}var Qh={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function ub(){if(Rm)return At;Rm=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function F(D,tt,ft){this.props=D,this.context=tt,this.refs=j,this.updater=ft||M}F.prototype.isReactComponent={},F.prototype.setState=function(D,tt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,tt,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function H(D,tt,ft){this.props=D,this.context=tt,this.refs=j,this.updater=ft||M}var X=H.prototype=new Q;X.constructor=H,P(X,F.prototype),X.isPureReactComponent=!0;var $=Array.isArray,nt={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function N(D,tt,ft,ut,lt,Tt){return ft=Tt.ref,{$$typeof:r,type:D,key:tt,ref:ft!==void 0?ft:null,props:Tt}}function w(D,tt){return N(D.type,tt,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var tt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ft){return tt[ft]})}var V=/\/+/g;function x(D,tt){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):tt.toString(36)}function I(){}function Gt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(tt){D.status==="pending"&&(D.status="fulfilled",D.value=tt)},function(tt){D.status==="pending"&&(D.status="rejected",D.reason=tt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ft(D,tt,ft,ut,lt){var Tt=typeof D;(Tt==="undefined"||Tt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Tt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case E:return Et=D._init,Ft(Et(D._payload),tt,ft,ut,lt)}}if(Et)return lt=lt(D),Et=ut===""?"."+x(D,0):ut,$(lt)?(ft="",Et!=null&&(ft=Et.replace(V,"$&/")+"/"),Ft(lt,tt,ft,"",function(Kt){return Kt})):lt!=null&&(A(lt)&&(lt=w(lt,ft+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(V,"$&/")+"/")+Et)),tt.push(lt)),1;Et=0;var te=ut===""?".":ut+":";if($(D))for(var Ot=0;Ot<D.length;Ot++)ut=D[Ot],Tt=te+x(ut,Ot),Et+=Ft(ut,tt,ft,Tt,lt);else if(Ot=C(D),typeof Ot=="function")for(D=Ot.call(D),Ot=0;!(ut=D.next()).done;)ut=ut.value,Tt=te+x(ut,Ot++),Et+=Ft(ut,tt,ft,Tt,lt);else if(Tt==="object"){if(typeof D.then=="function")return Ft(Gt(D),tt,ft,ut,lt);throw tt=String(D),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function rt(D,tt,ft){if(D==null)return D;var ut=[],lt=0;return Ft(D,ut,"","",function(Tt){return tt.call(ft,Tt,lt++)}),ut}function mt(D){if(D._status===-1){var tt=D._result;tt=tt(),tt.then(function(ft){(D._status===0||D._status===-1)&&(D._status=1,D._result=ft)},function(ft){(D._status===0||D._status===-1)&&(D._status=2,D._result=ft)}),D._status===-1&&(D._status=0,D._result=tt)}if(D._status===1)return D._result.default;throw D._result}var vt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ct(){}return At.Children={map:rt,forEach:function(D,tt,ft){rt(D,function(){tt.apply(this,arguments)},ft)},count:function(D){var tt=0;return rt(D,function(){tt++}),tt},toArray:function(D){return rt(D,function(tt){return tt})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=F,At.Fragment=i,At.Profiler=o,At.PureComponent=H,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,tt,ft){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ut=P({},D.props),lt=D.key,Tt=void 0;if(tt!=null)for(Et in tt.ref!==void 0&&(Tt=void 0),tt.key!==void 0&&(lt=""+tt.key),tt)!st.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(ut[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)ut.children=ft;else if(1<Et){for(var te=Array(Et),Ot=0;Ot<Et;Ot++)te[Ot]=arguments[Ot+2];ut.children=te}return N(D.type,lt,void 0,void 0,Tt,ut)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,tt,ft){var ut,lt={},Tt=null;if(tt!=null)for(ut in tt.key!==void 0&&(Tt=""+tt.key),tt)st.call(tt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(lt[ut]=tt[ut]);var Et=arguments.length-2;if(Et===1)lt.children=ft;else if(1<Et){for(var te=Array(Et),Ot=0;Ot<Et;Ot++)te[Ot]=arguments[Ot+2];lt.children=te}if(D&&D.defaultProps)for(ut in Et=D.defaultProps,Et)lt[ut]===void 0&&(lt[ut]=Et[ut]);return N(D,Tt,void 0,void 0,null,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=A,At.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:mt}},At.memo=function(D,tt){return{$$typeof:m,type:D,compare:tt===void 0?null:tt}},At.startTransition=function(D){var tt=nt.T,ft={};nt.T=ft;try{var ut=D(),lt=nt.S;lt!==null&&lt(ft,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Ct,vt)}catch(Tt){vt(Tt)}finally{nt.T=tt}},At.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},At.use=function(D){return nt.H.use(D)},At.useActionState=function(D,tt,ft){return nt.H.useActionState(D,tt,ft)},At.useCallback=function(D,tt){return nt.H.useCallback(D,tt)},At.useContext=function(D){return nt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,tt){return nt.H.useDeferredValue(D,tt)},At.useEffect=function(D,tt){return nt.H.useEffect(D,tt)},At.useId=function(){return nt.H.useId()},At.useImperativeHandle=function(D,tt,ft){return nt.H.useImperativeHandle(D,tt,ft)},At.useInsertionEffect=function(D,tt){return nt.H.useInsertionEffect(D,tt)},At.useLayoutEffect=function(D,tt){return nt.H.useLayoutEffect(D,tt)},At.useMemo=function(D,tt){return nt.H.useMemo(D,tt)},At.useOptimistic=function(D,tt){return nt.H.useOptimistic(D,tt)},At.useReducer=function(D,tt,ft){return nt.H.useReducer(D,tt,ft)},At.useRef=function(D){return nt.H.useRef(D)},At.useState=function(D){return nt.H.useState(D)},At.useSyncExternalStore=function(D,tt,ft){return nt.H.useSyncExternalStore(D,tt,ft)},At.useTransition=function(){return nt.H.useTransition()},At.version="19.0.0",At}var Cm;function kd(){return Cm||(Cm=1,Qh.exports=ub()),Qh.exports}var Yh={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function lb(){if(Dm)return Ze;Dm=1;var r=kd();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:m,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,E)},Ze.flushSync=function(p){var m=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=m,s.p=E,s.d.f()}},Ze.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var E=m.as,S=g(E,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ze.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=g(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Ze.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,S=g(E,m.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ze.preloadModule=function(p,m){if(typeof p=="string")if(m){var E=g(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,m){return p(m)},Ze.useFormState=function(p,m,E){return d.H.useFormState(p,m,E)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.0.0",Ze}var Im;function cb(){if(Im)return Yh.exports;Im=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Yh.exports=lb(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function fb(){if(Om)return Xo;Om=1;var r=ob(),t=kd(),i=cb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case m:return"StrictMode";case j:return"Suspense";case F:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case H:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,V,x;function I(e){if(V===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",x=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+x}var Gt=!1;function Ft(e,n){if(!e||Gt)return"";Gt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var q=Y}Reflect.construct(e,[],W)}else{try{W.call()}catch(Y){q=Y}e.call(W.prototype)}}else{try{throw Error()}catch(Y){q=Y}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var R=_.split(`
`),L=T.split(`
`);for(f=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===R.length||f===L.length)for(u=R.length-1,f=L.length-1;1<=u&&0<=f&&R[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(R[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||R[u]!==L[f]){var K=`
`+R[u].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=u&&0<=f);break}}}finally{Gt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=Ft(e.type,!1),e;case 11:return e=Ft(e.type.render,!1),e;case 1:return e=Ft(e.type,!0),e;default:return""}}function mt(e){try{var n="";do n+=rt(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Ct(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function D(e){if(vt(e)!==e)throw Error(s(188))}function tt(e){var n=e.alternate;if(!n){if(n=vt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,u=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return D(f),e;if(h===u)return D(f),n;h=h.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=h;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,u=h;break}if(T===u){_=!0,u=f,a=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===a){_=!0,a=h,u=f;break}if(T===u){_=!0,u=h,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function ft(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ft(e),n!==null)return n;e=e.sibling}return null}var ut=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},Et=[],te=-1;function Ot(e){return{current:e}}function Kt(e){0>te||(e.current=Et[te],Et[te]=null,te--)}function Pt(e,n){te++,Et[te]=e.current,e.current=n}var Se=Ot(null),vn=Ot(null),de=Ot(null),Wi=Ot(null);function tr(e,n){switch(Pt(de,n),Pt(vn,e),Pt(Se,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Zp(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=Zp(e),n=Jp(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Kt(Se),Pt(Se,n)}function Si(){Kt(Se),Kt(vn),Kt(de)}function qs(e){e.memoizedState!==null&&Pt(Wi,e);var n=Se.current,a=Jp(n,e.type);n!==a&&(Pt(vn,e),Pt(Se,a))}function Va(e){vn.current===e&&(Kt(Se),Kt(vn)),Wi.current===e&&(Kt(Wi),Ho._currentValue=Tt)}var Ua=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,La=r.unstable_cancelCallback,jc=r.unstable_shouldYield,Hs=r.unstable_requestPaint,un=r.unstable_now,_u=r.unstable_getCurrentPriorityLevel,we=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,Eu=r.unstable_LowPriority,js=r.unstable_IdlePriority,Gc=r.log,Qr=r.unstable_setDisableYieldValue,er=null,Ke=null;function Gs(e){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(er,e,void 0,(e.current.flags&128)===128)}catch{}}function ei(e){if(typeof Gc=="function"&&Qr(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(er,e)}catch{}}var nn=Math.clz32?Math.clz32:bu,Fs=Math.log,Tu=Math.LN2;function bu(e){return e>>>=0,e===0?32:31-(Fs(e)/Tu|0)|0}var ni=128,nr=4194304;function Hn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rn(e,n){var a=e.pendingLanes;if(a===0)return 0;var u=0,f=e.suspendedLanes,h=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?u=Hn(a):(h&=T,h!==0?u=Hn(h):e||(_=T&~_,_!==0&&(u=Hn(_))))):(T=a&~f,T!==0?u=Hn(T):h!==0?u=Hn(h):e||(_=a&~_,_!==0&&(u=Hn(_)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,_=n&-n,f>=_||f===32&&(_&4194176)!==0)?n:u}function ir(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xa(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var e=ni;return ni<<=1,(ni&4194176)===0&&(ni=128),e}function rr(){var e=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),e}function Pa(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ce(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Au(e,n,a,u,f,h){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-nn(a),W=1<<K;T[K]=0,R[K]=-1;var q=L[K];if(q!==null)for(L[K]=null,K=0;K<q.length;K++){var Y=q[K];Y!==null&&(Y.lane&=-536870913)}a&=~W}u!==0&&ar(e,u,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function ar(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-nn(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194218}function sr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var u=31-nn(a),f=1<<u;f&n|e[u]&n&&(e[u]|=n),a&=~f}}function Su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:pm(e.type))}function or(e,n){var a=lt.p;try{return lt.p=e,n()}finally{lt.p=a}}var ii=Math.random().toString(36).slice(2),Me="__reactFiber$"+ii,Re="__reactProps$"+ii,Ri="__reactContainer$"+ii,Yr="__reactEvents$"+ii,ka="__reactListeners$"+ii,ri="__reactHandles$"+ii,Ys="__reactResources$"+ii,ur="__reactMarker$"+ii;function Xr(e){delete e[Me],delete e[Re],delete e[Yr],delete e[ka],delete e[ri]}function jn(e){var n=e[Me];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ri]||a[Me]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=em(e);e!==null;){if(a=e[Me])return a;e=em(e)}return n}e=a,a=e.parentNode}return null}function Ci(e){if(e=e[Me]||e[Ri]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function lr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function cr(e){var n=e[Ys];return n||(n=e[Ys]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ne(e){e[ur]=!0}var Xs=new Set,za={};function gn(e,n){ln(e,n),ln(e+"Capture",n)}function ln(e,n){for(za[e]=n,e=0;e<n.length;e++)Xs.add(n[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},$s={};function Ru(e){return Ua.call($s,e)?!0:Ua.call(Ks,e)?!1:Fc.test(e)?$s[e]=!0:(Ks[e]=!0,!1)}function fr(e,n,a){if(Ru(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function hr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Cn(e,n,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+u)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qc(e){var n=Cu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kr(e){e._valueTracker||(e._valueTracker=Qc(e))}function Zs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return e&&(u=Cu(e)?e.checked?"true":"false":e.value),e=u,e!==a?(n.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Di=/[\n"\\]/g;function ae(e){return e.replace(Di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dr(e,n,a,u,f,h,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?qa(e,_,rn(n)):a!=null?qa(e,_,rn(a)):u!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function $r(e,n,a,u,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=T?e.checked:!!u,e.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function qa(e,n,a){n==="number"&&Ba(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,n,a,u){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Zr(e,n,a){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+rn(a):""}function vr(e,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=rn(n),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function Dn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(e,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,a):typeof a!="number"||a===0||Yc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Du(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Js(e,f,u)}else for(var h in n)n.hasOwnProperty(h)&&Js(e,h,n[h])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(e){return Kc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var In=null;function Ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Oi=null;function Ni(e){var n=Ci(e);if(n&&(e=n.stateNode)){var a=e[Re]||null;t:switch(e=n.stateNode,n.type){case"input":if(dr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ae(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==e&&u.form===e.form){var f=u[Re]||null;if(!f)throw Error(s(90));dr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===e.form&&Zs(u)}break t;case"textarea":Zr(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Bt(e,!!a.multiple,n,!1)}}}var to=!1;function Iu(e,n,a){if(to)return e(n,a);to=!0;try{var u=e(n);return u}finally{if(to=!1,(Ii!==null||Oi!==null)&&(El(),Ii&&(n=Ii,e=Oi,Oi=Ii=null,Ni(n),e)))for(n=0;n<e.length;n++)Ni(e[n])}}function Jr(e,n){var a=e.stateNode;if(a===null)return null;var u=a[Re]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var On=!1;if(pn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){On=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{On=!1}var si=null,gr=null,Mi=null;function eo(){if(Mi)return Mi;var e,n=gr,a=n.length,u,f="value"in si?si.value:si.textContent,h=f.length;for(e=0;e<a&&n[e]===f[e];e++);var _=a-e;for(u=1;u<=_&&n[a-u]===f[h-u];u++);return Mi=f.slice(e,1<u?1-u:void 0)}function oi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function no(){return!1}function Ve(e){function n(a,u,f,h,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ui:no,this.isPropagationStopped=no,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ve(jt),ta=O({},jt,{view:0,detail:0}),Ou=Ve(ta),Ga,Fa,li,ea=O({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(Ga=e.screenX-li.screenX,Fa=e.screenY-li.screenY):Fa=Ga=0,li=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),Nn=Ve(ea),Nu=O({},ea,{dataTransfer:0}),$c=Ve(Nu),na=O({},ta,{relatedTarget:0}),Qa=Ve(na),io=O({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Ve(io),Mu=O({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xa=Ve(Mu),Zc=O({},jt,{data:0}),ro=Ve(Zc),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Uu[e])?!!n[e]:!1}function ra(){return ao}var Lu=O({},ta,{key:function(e){if(e.key){var n=ia[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ka=Ve(Lu),xu=O({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Ve(xu),Vi=O({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Pu=Ve(Vi),ku=O({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Ve(ku),Bu=O({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Ve(Bu),an=O({},jt,{newState:0,oldState:0}),qu=Ve(an),Hu=[9,13,27,32],ci=pn&&"CompositionEvent"in window,l=null;pn&&"documentMode"in document&&(l=document.documentMode);var v=pn&&"TextEvent"in window&&!l,y=pn&&(!ci||l&&8<l&&11>=l),b=" ",z=!1;function G(e,n){switch(e){case"keyup":return Hu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ce(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(z=!0,b);case"textInput":return e=n.data,e===b&&z?null:e;default:return null}}function Vt(e,n){if(Mt)return e==="compositionend"||!ci&&G(e,n)?(e=eo(),Mi=gr=si=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ue[e.type]:n==="textarea"}function Ui(e,n,a,u){Ii?Oi?Oi.push(u):Oi=[u]:Ii=u,n=wl(n,"onChange"),0<n.length&&(a=new ja("onChange","change",null,a,u),e.push({event:a,listeners:n}))}var qe=null,fi=null;function oo(e){Qp(e,0)}function ju(e){var n=lr(e);if(Zs(n))return e}function Tv(e,n){if(e==="change")return n}var bv=!1;if(pn){var Jc;if(pn){var Wc="oninput"in document;if(!Wc){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Wc=typeof Av.oninput=="function"}Jc=Wc}else Jc=!1;bv=Jc&&(!document.documentMode||9<document.documentMode)}function Sv(){qe&&(qe.detachEvent("onpropertychange",wv),fi=qe=null)}function wv(e){if(e.propertyName==="value"&&ju(fi)){var n=[];Ui(n,fi,e,Ha(e)),Iu(oo,n)}}function UE(e,n,a){e==="focusin"?(Sv(),qe=n,fi=a,qe.attachEvent("onpropertychange",wv)):e==="focusout"&&Sv()}function LE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(fi)}function xE(e,n){if(e==="click")return ju(n)}function PE(e,n){if(e==="input"||e==="change")return ju(n)}function kE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:kE;function uo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Ua.call(n,f)||!mn(e[f],n[f]))return!1}return!0}function Rv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cv(e,n){var a=Rv(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=n&&u>=n)return{node:a,offset:n-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Rv(a)}}function Dv(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dv(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Iv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ba(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ba(e.document)}return n}function tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function zE(e,n){var a=Iv(n);n=e.focusedElem;var u=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Dv(n.ownerDocument.documentElement,n)){if(u!==null&&tf(n)){if(e=u.start,a=u.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=n.textContent.length,h=Math.min(u.start,f);u=u.end===void 0?h:Math.min(u.end,f),!a.extend&&h>u&&(f=u,u=h,h=f),f=Cv(n,h);var _=Cv(n,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),h>u?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var BE=pn&&"documentMode"in document&&11>=document.documentMode,Za=null,ef=null,lo=null,nf=!1;function Ov(e,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Za==null||Za!==Ba(u)||(u=Za,"selectionStart"in u&&tf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lo&&uo(lo,u)||(lo=u,u=wl(ef,"onSelect"),0<u.length&&(n=new ja("onSelect","select",null,n,a),e.push({event:n,listeners:u}),n.target=Za)))}function aa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ja={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},rf={},Nv={};pn&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function sa(e){if(rf[e])return rf[e];if(!Ja[e])return e;var n=Ja[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Nv)return rf[e]=n[a];return e}var Mv=sa("animationend"),Vv=sa("animationiteration"),Uv=sa("animationstart"),qE=sa("transitionrun"),HE=sa("transitionstart"),jE=sa("transitioncancel"),Lv=sa("transitionend"),xv=new Map,Pv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(e,n){xv.set(e,n),gn(n,[e])}var Mn=[],Wa=0,af=0;function Gu(){for(var e=Wa,n=af=Wa=0;n<e;){var a=Mn[n];Mn[n++]=null;var u=Mn[n];Mn[n++]=null;var f=Mn[n];Mn[n++]=null;var h=Mn[n];if(Mn[n++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}h!==0&&kv(a,f,h)}}function Fu(e,n,a,u){Mn[Wa++]=e,Mn[Wa++]=n,Mn[Wa++]=a,Mn[Wa++]=u,af|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function sf(e,n,a,u){return Fu(e,n,a,u),Qu(e)}function pr(e,n){return Fu(e,null,null,n),Qu(e)}function kv(e,n,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,h=e.return;h!==null;)h.childLanes|=a,u=h.alternate,u!==null&&(u.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;f&&n!==null&&e.tag===3&&(h=e.stateNode,f=31-nn(a),h=h.hiddenUpdates,e=h[f],e===null?h[f]=[n]:e.push(n),n.lane=a|536870912)}function Qu(e){if(50<Lo)throw Lo=0,hh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={},zv=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var a=zv.get(e);return a!==void 0?a:(n={value:e,source:n,stack:mt(n)},zv.set(e,n),n)}return{value:e,source:n,stack:mt(n)}}var es=[],ns=0,Yu=null,Xu=0,Un=[],Ln=0,oa=null,Li=1,xi="";function ua(e,n){es[ns++]=Xu,es[ns++]=Yu,Yu=e,Xu=n}function Bv(e,n,a){Un[Ln++]=Li,Un[Ln++]=xi,Un[Ln++]=oa,oa=e;var u=Li;e=xi;var f=32-nn(u)-1;u&=~(1<<f),a+=1;var h=32-nn(n)+f;if(30<h){var _=f-f%5;h=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Li=1<<32-nn(n)+f|a<<f|u,xi=h+e}else Li=1<<h|a<<f|u,xi=e}function of(e){e.return!==null&&(ua(e,1),Bv(e,1,0))}function uf(e){for(;e===Yu;)Yu=es[--ns],es[ns]=null,Xu=es[--ns],es[ns]=null;for(;e===oa;)oa=Un[--Ln],Un[Ln]=null,xi=Un[--Ln],Un[Ln]=null,Li=Un[--Ln],Un[Ln]=null}var sn=null,He=null,qt=!1,Fn=null,hi=!1,lf=Error(s(519));function la(e){var n=Error(s(418,""));throw ho(Vn(n,e)),lf}function qv(e){var n=e.stateNode,a=e.type,u=e.memoizedProps;switch(n[Me]=e,n[Re]=u,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Po.length;a++)Nt(Po[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),$r(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Kr(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),vr(n,u.value,u.defaultValue,u.children),Kr(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||$p(n.textContent,a)?(u.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),u.onScroll!=null&&Nt("scroll",n),u.onScrollEnd!=null&&Nt("scrollend",n),u.onClick!=null&&(n.onclick=Rl),n=!0):n=!1,n||la(e)}function Hv(e){for(sn=e.return;sn;)switch(sn.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:sn=sn.return}}function co(e){if(e!==sn)return!1;if(!qt)return Hv(e),qt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ih(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&He&&la(e),Hv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){He=Yn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}He=null}}else He=sn?Yn(e.stateNode.nextSibling):null;return!0}function fo(){He=sn=null,qt=!1}function ho(e){Fn===null?Fn=[e]:Fn.push(e)}var vo=Error(s(460)),jv=Error(s(474)),cf={then:function(){}};function Gv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ku(){}function Fv(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ku,Ku),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vo?Error(s(483)):e;default:if(typeof n.status=="string")n.then(Ku,Ku);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vo?Error(s(483)):e}throw go=n,vo}}var go=null;function Qv(){if(go===null)throw Error(s(459));var e=go;return go=null,e}var is=null,po=0;function $u(e){var n=po;return po+=1,is===null&&(is=[]),Fv(is,e,n)}function mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zu(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yv(e){var n=e._init;return n(e._payload)}function Xv(e){function n(k,U){if(e){var B=k.deletions;B===null?(k.deletions=[U],k.flags|=16):B.push(U)}}function a(k,U){if(!e)return null;for(;U!==null;)n(k,U),U=U.sibling;return null}function u(k){for(var U=new Map;k!==null;)k.key!==null?U.set(k.key,k):U.set(k.index,k),k=k.sibling;return U}function f(k,U){return k=Dr(k,U),k.index=0,k.sibling=null,k}function h(k,U,B){return k.index=B,e?(B=k.alternate,B!==null?(B=B.index,B<U?(k.flags|=33554434,U):B):(k.flags|=33554434,U)):(k.flags|=1048576,U)}function _(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function T(k,U,B,Z){return U===null||U.tag!==6?(U=rh(B,k.mode,Z),U.return=k,U):(U=f(U,B),U.return=k,U)}function R(k,U,B,Z){var ct=B.type;return ct===p?K(k,U,B.props.children,Z,B.key):U!==null&&(U.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===H&&Yv(ct)===U.type)?(U=f(U,B.props),mo(U,B),U.return=k,U):(U=gl(B.type,B.key,B.props,null,k.mode,Z),mo(U,B),U.return=k,U)}function L(k,U,B,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==B.containerInfo||U.stateNode.implementation!==B.implementation?(U=ah(B,k.mode,Z),U.return=k,U):(U=f(U,B.children||[]),U.return=k,U)}function K(k,U,B,Z,ct){return U===null||U.tag!==7?(U=_a(B,k.mode,Z,ct),U.return=k,U):(U=f(U,B),U.return=k,U)}function W(k,U,B){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=rh(""+U,k.mode,B),U.return=k,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case d:return B=gl(U.type,U.key,U.props,null,k.mode,B),mo(B,U),B.return=k,B;case g:return U=ah(U,k.mode,B),U.return=k,U;case H:var Z=U._init;return U=Z(U._payload),W(k,U,B)}if(ut(U)||st(U))return U=_a(U,k.mode,B,null),U.return=k,U;if(typeof U.then=="function")return W(k,$u(U),B);if(U.$$typeof===M)return W(k,hl(k,U),B);Zu(k,U)}return null}function q(k,U,B,Z){var ct=U!==null?U.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ct!==null?null:T(k,U,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ct?R(k,U,B,Z):null;case g:return B.key===ct?L(k,U,B,Z):null;case H:return ct=B._init,B=ct(B._payload),q(k,U,B,Z)}if(ut(B)||st(B))return ct!==null?null:K(k,U,B,Z,null);if(typeof B.then=="function")return q(k,U,$u(B),Z);if(B.$$typeof===M)return q(k,U,hl(k,B),Z);Zu(k,B)}return null}function Y(k,U,B,Z,ct){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,T(U,k,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case d:return k=k.get(Z.key===null?B:Z.key)||null,R(U,k,Z,ct);case g:return k=k.get(Z.key===null?B:Z.key)||null,L(U,k,Z,ct);case H:var Rt=Z._init;return Z=Rt(Z._payload),Y(k,U,B,Z,ct)}if(ut(Z)||st(Z))return k=k.get(B)||null,K(U,k,Z,ct,null);if(typeof Z.then=="function")return Y(k,U,B,$u(Z),ct);if(Z.$$typeof===M)return Y(k,U,B,hl(U,Z),ct);Zu(U,Z)}return null}function gt(k,U,B,Z){for(var ct=null,Rt=null,pt=U,yt=U=0,Pe=null;pt!==null&&yt<B.length;yt++){pt.index>yt?(Pe=pt,pt=null):Pe=pt.sibling;var Ht=q(k,pt,B[yt],Z);if(Ht===null){pt===null&&(pt=Pe);break}e&&pt&&Ht.alternate===null&&n(k,pt),U=h(Ht,U,yt),Rt===null?ct=Ht:Rt.sibling=Ht,Rt=Ht,pt=Pe}if(yt===B.length)return a(k,pt),qt&&ua(k,yt),ct;if(pt===null){for(;yt<B.length;yt++)pt=W(k,B[yt],Z),pt!==null&&(U=h(pt,U,yt),Rt===null?ct=pt:Rt.sibling=pt,Rt=pt);return qt&&ua(k,yt),ct}for(pt=u(pt);yt<B.length;yt++)Pe=Y(pt,k,yt,B[yt],Z),Pe!==null&&(e&&Pe.alternate!==null&&pt.delete(Pe.key===null?yt:Pe.key),U=h(Pe,U,yt),Rt===null?ct=Pe:Rt.sibling=Pe,Rt=Pe);return e&&pt.forEach(function(Lr){return n(k,Lr)}),qt&&ua(k,yt),ct}function bt(k,U,B,Z){if(B==null)throw Error(s(151));for(var ct=null,Rt=null,pt=U,yt=U=0,Pe=null,Ht=B.next();pt!==null&&!Ht.done;yt++,Ht=B.next()){pt.index>yt?(Pe=pt,pt=null):Pe=pt.sibling;var Lr=q(k,pt,Ht.value,Z);if(Lr===null){pt===null&&(pt=Pe);break}e&&pt&&Lr.alternate===null&&n(k,pt),U=h(Lr,U,yt),Rt===null?ct=Lr:Rt.sibling=Lr,Rt=Lr,pt=Pe}if(Ht.done)return a(k,pt),qt&&ua(k,yt),ct;if(pt===null){for(;!Ht.done;yt++,Ht=B.next())Ht=W(k,Ht.value,Z),Ht!==null&&(U=h(Ht,U,yt),Rt===null?ct=Ht:Rt.sibling=Ht,Rt=Ht);return qt&&ua(k,yt),ct}for(pt=u(pt);!Ht.done;yt++,Ht=B.next())Ht=Y(pt,k,yt,Ht.value,Z),Ht!==null&&(e&&Ht.alternate!==null&&pt.delete(Ht.key===null?yt:Ht.key),U=h(Ht,U,yt),Rt===null?ct=Ht:Rt.sibling=Ht,Rt=Ht);return e&&pt.forEach(function(ib){return n(k,ib)}),qt&&ua(k,yt),ct}function ue(k,U,B,Z){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ct=B.key;U!==null;){if(U.key===ct){if(ct=B.type,ct===p){if(U.tag===7){a(k,U.sibling),Z=f(U,B.props.children),Z.return=k,k=Z;break t}}else if(U.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===H&&Yv(ct)===U.type){a(k,U.sibling),Z=f(U,B.props),mo(Z,B),Z.return=k,k=Z;break t}a(k,U);break}else n(k,U);U=U.sibling}B.type===p?(Z=_a(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=gl(B.type,B.key,B.props,null,k.mode,Z),mo(Z,B),Z.return=k,k=Z)}return _(k);case g:t:{for(ct=B.key;U!==null;){if(U.key===ct)if(U.tag===4&&U.stateNode.containerInfo===B.containerInfo&&U.stateNode.implementation===B.implementation){a(k,U.sibling),Z=f(U,B.children||[]),Z.return=k,k=Z;break t}else{a(k,U);break}else n(k,U);U=U.sibling}Z=ah(B,k.mode,Z),Z.return=k,k=Z}return _(k);case H:return ct=B._init,B=ct(B._payload),ue(k,U,B,Z)}if(ut(B))return gt(k,U,B,Z);if(st(B)){if(ct=st(B),typeof ct!="function")throw Error(s(150));return B=ct.call(B),bt(k,U,B,Z)}if(typeof B.then=="function")return ue(k,U,$u(B),Z);if(B.$$typeof===M)return ue(k,U,hl(k,B),Z);Zu(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,U!==null&&U.tag===6?(a(k,U.sibling),Z=f(U,B),Z.return=k,k=Z):(a(k,U),Z=rh(B,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,U)}return function(k,U,B,Z){try{po=0;var ct=ue(k,U,B,Z);return is=null,ct}catch(pt){if(pt===vo)throw pt;var Rt=zn(29,pt,null,k.mode);return Rt.lanes=Z,Rt.return=k,Rt}finally{}}}var ca=Xv(!0),Kv=Xv(!1),rs=Ot(null),Ju=Ot(0);function $v(e,n){e=Yi,Pt(Ju,e),Pt(rs,n),Yi=e|n.baseLanes}function ff(){Pt(Ju,Yi),Pt(rs,rs.current)}function hf(){Yi=Ju.current,Kt(rs),Kt(Ju)}var xn=Ot(null),di=null;function mr(e){var n=e.alternate;Pt(Ie,Ie.current&1),Pt(xn,e),di===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(di=e)}function Zv(e){if(e.tag===22){if(Pt(Ie,Ie.current),Pt(xn,e),di===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(di=e)}}else yr()}function yr(){Pt(Ie,Ie.current),Pt(xn,xn.current)}function Pi(e){Kt(xn),di===e&&(di=null),Kt(Ie)}var Ie=Ot(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var GE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},FE=r.unstable_scheduleCallback,QE=r.unstable_NormalPriority,Oe={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new GE,data:new Map,refCount:0}}function yo(e){e.refCount--,e.refCount===0&&FE(QE,function(){e.controller.abort()})}var _o=null,vf=0,as=0,ss=null;function YE(e,n){if(_o===null){var a=_o=[];vf=0,as=Eh(),ss={status:"pending",value:void 0,then:function(u){a.push(u)}}}return vf++,n.then(Jv,Jv),n}function Jv(){if(--vf===0&&_o!==null){ss!==null&&(ss.status="fulfilled");var e=_o;_o=null,as=0,ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function XE(e,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Wv=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(e,n),Wv!==null&&Wv(e,n)};var fa=Ot(null);function gf(){var e=fa.current;return e!==null?e:$t.pooledCache}function tl(e,n){n===null?Pt(fa,fa.current):Pt(fa,n.pool)}function tg(){var e=gf();return e===null?null:{parent:Oe._currentValue,pool:e}}var _r=0,St=null,Qt=null,ve=null,el=!1,os=!1,ha=!1,nl=0,Eo=0,us=null,KE=0;function fe(){throw Error(s(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!mn(e[a],n[a]))return!1;return!0}function mf(e,n,a,u,f,h){return _r=h,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?da:Er,ha=!1,h=a(u,f),ha=!1,os&&(h=ng(n,a,u,f)),eg(e),h}function eg(e){A.H=vi;var n=Qt!==null&&Qt.next!==null;if(_r=0,ve=Qt=St=null,el=!1,Eo=0,us=null,n)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&fl(e)&&(Le=!0))}function ng(e,n,a,u){St=e;var f=0;do{if(os&&(us=null),Eo=0,os=!1,25<=f)throw Error(s(301));if(f+=1,ve=Qt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=va,h=n(a,u)}while(os);return h}function $E(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?To(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),n}function yf(){var e=nl!==0;return nl=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ef(e){if(el){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}el=!1}_r=0,ve=Qt=St=null,os=!1,Eo=nl=0,us=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?St.memoizedState=ve=e:ve=ve.next=e,ve}function ge(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ve===null?St.memoizedState:ve.next;if(n!==null)ve=n,Qt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ve===null?St.memoizedState=ve=e:ve=ve.next=e}return ve}var il;il=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function To(e){var n=Eo;return Eo+=1,us===null&&(us=[]),e=Fv(us,e,n),n=St,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?da:Er),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return To(e);if(e.$$typeof===M)return $e(e)}throw Error(s(438,String(e)))}function Tf(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=il(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),u=0;u<e;u++)a[u]=$;return n.index++,a}function ki(e,n){return typeof n=="function"?n(e):n}function al(e){var n=ge();return bf(n,Qt,e)}function bf(e,n,a){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=e.baseQueue,h=u.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,u.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var T=_=null,R=null,L=n,K=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(Ut&W)===W:(_r&W)===W){var q=L.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===as&&(K=!0);else if((_r&q)===q){L=L.next,q===as&&(K=!0);continue}else W={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=W,_=h):R=R.next=W,St.lanes|=q,Ir|=q;W=L.action,ha&&a(h,W),h=L.hasEagerState?L.eagerState:a(h,W)}else q={lane:W,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=q,_=h):R=R.next=q,St.lanes|=W,Ir|=W;L=L.next}while(L!==null&&L!==n);if(R===null?_=h:R.next=T,!mn(h,e.memoizedState)&&(Le=!0,K&&(a=ss,a!==null)))throw a;e.memoizedState=h,e.baseState=_,e.baseQueue=R,u.lastRenderedState=h}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Af(e){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do h=e(h,_.action),_=_.next;while(_!==f);mn(h,n.memoizedState)||(Le=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,u]}function ig(e,n,a){var u=St,f=ge(),h=qt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!mn((Qt||f).memoizedState,a);if(_&&(f.memoizedState=a,Le=!0),f=f.queue,Rf(sg.bind(null,u,f,e),[e]),f.getSnapshot!==n||_||ve!==null&&ve.memoizedState.tag&1){if(u.flags|=2048,ls(9,ag.bind(null,u,f,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));h||(_r&60)!==0||rg(u,n,a)}return a}function rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=il(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ag(e,n,a,u){n.value=a,n.getSnapshot=u,og(n)&&ug(e)}function sg(e,n,a){return a(function(){og(n)&&ug(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!mn(e,a)}catch{return!0}}function ug(e){var n=pr(e,2);n!==null&&on(n,e,2)}function Sf(e){var n=cn();if(typeof e=="function"){var a=e;if(e=a(),ha){ei(!0);try{a()}finally{ei(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function lg(e,n,a,u){return e.baseState=a,bf(e,Qt,typeof u=="function"?u:ki)}function ZE(e,n,a,u,f){if(ul(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};A.T!==null?a(!0):h.isTransition=!1,u(h),a=n.pending,a===null?(h.next=n.pending=h,cg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function cg(e,n){var a=n.action,u=n.payload,f=e.state;if(n.isTransition){var h=A.T,_={};A.T=_;try{var T=a(f,u),R=A.S;R!==null&&R(_,T),fg(e,n,T)}catch(L){wf(e,n,L)}finally{A.T=h}}else try{h=a(f,u),fg(e,n,h)}catch(L){wf(e,n,L)}}function fg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){hg(e,n,u)},function(u){return wf(e,n,u)}):hg(e,n,a)}function hg(e,n,a){n.status="fulfilled",n.value=a,dg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,cg(e,a)))}function wf(e,n,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,dg(n),n=n.next;while(n!==u)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function gg(e,n){if(qt){var a=$t.formState;if(a!==null){t:{var u=St;if(qt){if(He){e:{for(var f=He,h=hi;f.nodeType!==8;){if(!h){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){He=Yn(f.nextSibling),u=f.data==="F!";break t}}la(u)}u=!1}u&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},a.queue=u,a=Vg.bind(null,St,u),u.dispatch=a,u=Sf(!1),h=Nf.bind(null,St,!1,u.queue),u=cn(),f={state:n,dispatch:null,action:e,pending:null},u.queue=f,a=ZE.bind(null,St,f,h,a),f.dispatch=a,u.memoizedState=e,[n,a,!1]}function pg(e){var n=ge();return mg(n,Qt,e)}function mg(e,n,a){n=bf(e,n,vg)[0],e=al(ki)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?To(n):n;var u=ge(),f=u.queue,h=f.dispatch;return a!==u.memoizedState&&(St.flags|=2048,ls(9,JE.bind(null,f,a),{destroy:void 0},null)),[n,h,e]}function JE(e,n){e.action=n}function yg(e){var n=ge(),a=Qt;if(a!==null)return mg(n,a,e);ge(),n=n.memoizedState,a=ge();var u=a.queue.dispatch;return a.memoizedState=e,[n,u,!1]}function ls(e,n,a,u){return e={tag:e,create:n,inst:a,deps:u,next:null},n=St.updateQueue,n===null&&(n=il(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,n.lastEffect=e),e}function _g(){return ge().memoizedState}function sl(e,n,a,u){var f=cn();St.flags|=e,f.memoizedState=ls(1|n,a,{destroy:void 0},u===void 0?null:u)}function ol(e,n,a,u){var f=ge();u=u===void 0?null:u;var h=f.memoizedState.inst;Qt!==null&&u!==null&&pf(u,Qt.memoizedState.deps)?f.memoizedState=ls(n,a,h,u):(St.flags|=e,f.memoizedState=ls(1|n,a,h,u))}function Eg(e,n){sl(8390656,8,e,n)}function Rf(e,n){ol(2048,8,e,n)}function Tg(e,n){return ol(4,2,e,n)}function bg(e,n){return ol(4,4,e,n)}function Ag(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,a){a=a!=null?a.concat([e]):null,ol(4,4,Ag.bind(null,n,e),a)}function Cf(){}function wg(e,n){var a=ge();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&pf(n,u[1])?u[0]:(a.memoizedState=[e,n],e)}function Rg(e,n){var a=ge();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&pf(n,u[1]))return u[0];if(u=e(),ha){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[u,n],u}function Df(e,n,a){return a===void 0||(_r&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Dp(),St.lanes|=e,Ir|=e,a)}function Cg(e,n,a,u){return mn(a,n)?a:rs.current!==null?(e=Df(e,a,u),mn(e,n)||(Le=!0),e):(_r&42)===0?(Le=!0,e.memoizedState=a):(e=Dp(),St.lanes|=e,Ir|=e,n)}function Dg(e,n,a,u,f){var h=lt.p;lt.p=h!==0&&8>h?h:8;var _=A.T,T={};A.T=T,Nf(e,!1,n,a);try{var R=f(),L=A.S;if(L!==null&&L(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=XE(R,u);bo(e,n,K,Tn(e))}else bo(e,n,u,Tn(e))}catch(W){bo(e,n,{then:function(){},status:"rejected",reason:W},Tn())}finally{lt.p=h,A.T=_}}function WE(){}function If(e,n,a,u){if(e.tag!==5)throw Error(s(476));var f=Ig(e).queue;Dg(e,f,n,Tt,a===null?WE:function(){return Og(e),a(u)})}function Ig(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:Tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Og(e){var n=Ig(e).next.queue;bo(e,n,{},Tn())}function Of(){return $e(Ho)}function Ng(){return ge().memoizedState}function Mg(){return ge().memoizedState}function tT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Ar(a);var u=Sr(n,e,a);u!==null&&(on(u,n,a),wo(u,n,a)),n={cache:df()},e.payload=n;return}n=n.return}}function eT(e,n,a){var u=Tn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ul(e)?Ug(n,a):(a=sf(e,n,a,u),a!==null&&(on(a,e,u),Lg(a,n,u)))}function Vg(e,n,a){var u=Tn();bo(e,n,a,u)}function bo(e,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ul(e))Ug(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,a);if(f.hasEagerState=!0,f.eagerState=T,mn(T,_))return Fu(e,n,f,0),$t===null&&Gu(),!1}catch{}finally{}if(a=sf(e,n,f,u),a!==null)return on(a,e,u),Lg(a,n,u),!0}return!1}function Nf(e,n,a,u){if(u={lane:2,revertLane:Eh(),action:u,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(n)throw Error(s(479))}else n=sf(e,a,u,2),n!==null&&on(n,e,2)}function ul(e){var n=e.alternate;return e===St||n!==null&&n===St}function Ug(e,n){os=el=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Lg(e,n,a){if((a&4194176)!==0){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,sr(e,a)}}var vi={readContext:$e,use:rl,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};vi.useCacheRefresh=fe,vi.useMemoCache=fe,vi.useHostTransitionStatus=fe,vi.useFormState=fe,vi.useActionState=fe,vi.useOptimistic=fe;var da={readContext:$e,use:rl,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Eg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,sl(4194308,4,Ag.bind(null,n,e),a)},useLayoutEffect:function(e,n){return sl(4194308,4,e,n)},useInsertionEffect:function(e,n){sl(4,2,e,n)},useMemo:function(e,n){var a=cn();n=n===void 0?null:n;var u=e();if(ha){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[u,n],u},useReducer:function(e,n,a){var u=cn();if(a!==void 0){var f=a(n);if(ha){ei(!0);try{a(n)}finally{ei(!1)}}}else f=n;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=eT.bind(null,St,e),[u.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=Vg.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(e,n){var a=cn();return Df(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Dg.bind(null,St,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var u=St,f=cn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Ut&60)!==0||rg(u,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,Eg(sg.bind(null,u,h,e),[e]),u.flags|=2048,ls(9,ag.bind(null,u,h,a,n),{destroy:void 0},null),a},useId:function(){var e=cn(),n=$t.identifierPrefix;if(qt){var a=xi,u=Li;a=(u&~(1<<32-nn(u)-1)).toString(32)+a,n=":"+n+"R"+a,a=nl++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=KE++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return cn().memoizedState=tT.bind(null,St)}};da.useMemoCache=Tf,da.useHostTransitionStatus=Of,da.useFormState=gg,da.useActionState=gg,da.useOptimistic=function(e){var n=cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,St,!0,a),a.dispatch=n,[e,n]};var Er={readContext:$e,use:rl,useCallback:wg,useContext:$e,useEffect:Rf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:al,useRef:_g,useState:function(){return al(ki)},useDebugValue:Cf,useDeferredValue:function(e,n){var a=ge();return Cg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=al(ki)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:To(e),n]},useSyncExternalStore:ig,useId:Ng};Er.useCacheRefresh=Mg,Er.useMemoCache=Tf,Er.useHostTransitionStatus=Of,Er.useFormState=pg,Er.useActionState=pg,Er.useOptimistic=function(e,n){var a=ge();return lg(a,Qt,e,n)};var va={readContext:$e,use:rl,useCallback:wg,useContext:$e,useEffect:Rf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Af,useRef:_g,useState:function(){return Af(ki)},useDebugValue:Cf,useDeferredValue:function(e,n){var a=ge();return Qt===null?Df(a,e,n):Cg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Af(ki)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:To(e),n]},useSyncExternalStore:ig,useId:Ng};va.useCacheRefresh=Mg,va.useMemoCache=Tf,va.useHostTransitionStatus=Of,va.useFormState=yg,va.useActionState=yg,va.useOptimistic=function(e,n){var a=ge();return Qt!==null?lg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function Mf(e,n,a,u){n=e.memoizedState,a=a(u,n),a=a==null?n:O({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={isMounted:function(e){return(e=e._reactInternals)?vt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var u=Tn(),f=Ar(u);f.payload=n,a!=null&&(f.callback=a),n=Sr(e,f,u),n!==null&&(on(n,e,u),wo(n,e,u))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var u=Tn(),f=Ar(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Sr(e,f,u),n!==null&&(on(n,e,u),wo(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),u=Ar(a);u.tag=2,n!=null&&(u.callback=n),n=Sr(e,u,a),n!==null&&(on(n,e,a),wo(n,e,a))}};function xg(e,n,a,u,f,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,h,_):n.prototype&&n.prototype.isPureReactComponent?!uo(a,u)||!uo(f,h):!0}function Pg(e,n,a,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function ga(e,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(e=e.defaultProps){a===n&&(a=O({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kg(e){ll(e)}function zg(e){console.error(e)}function Bg(e){ll(e)}function cl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function qg(e,n,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uf(e,n,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){cl(e,n)},a}function Hg(e){return e=Ar(e),e.tag=3,e}function jg(e,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=u.value;e.payload=function(){return f(h)},e.callback=function(){qg(n,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){qg(n,a,u),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function nT(e,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&So(n,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 13:return di===null?gh():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===cf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),mh(e,u,f)),!1;case 22:return a.flags|=65536,u===cf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),mh(e,u,f)),!1}throw Error(s(435,a.tag))}return mh(e,u,f),gh(),!1}if(qt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==lf&&(e=Error(s(422),{cause:u}),ho(Vn(e,a)))):(u!==lf&&(n=Error(s(423),{cause:u}),ho(Vn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=Vn(u,a),f=Uf(e.stateNode,u,f),Kf(e,f),oe!==4&&(oe=2)),!1;var h=Error(s(520),{cause:u});if(h=Vn(h,a),Vo===null?Vo=[h]:Vo.push(h),oe!==4&&(oe=2),n===null)return!0;u=Vn(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Uf(a.stateNode,u,e),Kf(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Or===null||!Or.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Hg(f),jg(f,e,a,u),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var Gg=Error(s(461)),Le=!1;function je(e,n,a,u){n.child=e===null?Kv(n,null,a,u):ca(n,e.child,a,u)}function Fg(e,n,a,u,f){a=a.render;var h=n.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return ma(n),u=mf(e,n,a,_,h,f),T=yf(),e!==null&&!Le?(_f(e,n,f),zi(e,n,f)):(qt&&T&&of(n),n.flags|=1,je(e,n,u,f),n.child)}function Qg(e,n,a,u,f){if(e===null){var h=a.type;return typeof h=="function"&&!ih(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Yg(e,n,h,u,f)):(e=gl(a.type,null,u,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!jf(e,f)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:uo,a(_,u)&&e.ref===n.ref)return zi(e,n,f)}return n.flags|=1,e=Dr(h,u),e.ref=n.ref,e.return=n,n.child=e}function Yg(e,n,a,u,f){if(e!==null){var h=e.memoizedProps;if(uo(h,u)&&e.ref===n.ref)if(Le=!1,n.pendingProps=u=h,jf(e,f))(e.flags&131072)!==0&&(Le=!0);else return n.lanes=e.lanes,zi(e,n,f)}return Lf(e,n,a,u,f)}function Xg(e,n,a){var u=n.pendingProps,f=u.children,h=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Ao(e,n),u.mode==="hidden"||h){if((n.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,e!==null){for(f=n.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~u}else n.childLanes=0,n.child=null;return Kg(e,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&tl(n,_!==null?_.cachePool:null),_!==null?$v(n,_):ff(),Zv(n);else return n.lanes=n.childLanes=536870912,Kg(e,n,_!==null?_.baseLanes|a:a,a)}else _!==null?(tl(n,_.cachePool),$v(n,_),yr(),n.memoizedState=null):(e!==null&&tl(n,null),ff(),yr());return je(e,n,f,a),n.child}function Kg(e,n,a,u){var f=gf();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&tl(n,null),ff(),Zv(n),e!==null&&So(e,n,u,!0),null}function Ao(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Lf(e,n,a,u,f){return ma(n),a=mf(e,n,a,u,void 0,f),u=yf(),e!==null&&!Le?(_f(e,n,f),zi(e,n,f)):(qt&&u&&of(n),n.flags|=1,je(e,n,a,f),n.child)}function $g(e,n,a,u,f,h){return ma(n),n.updateQueue=null,a=ng(n,u,a,f),eg(e),u=yf(),e!==null&&!Le?(_f(e,n,h),zi(e,n,h)):(qt&&u&&of(n),n.flags|=1,je(e,n,a,h),n.child)}function Zg(e,n,a,u,f){if(ma(n),n.stateNode===null){var h=ts,_=a.contextType;typeof _=="object"&&_!==null&&(h=$e(_)),h=new a(u,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Vf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=u,h.state=n.memoizedState,h.refs={},Yf(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?$e(_):ts,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Mf(n,a,_,u),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&Vf.enqueueReplaceState(h,h.state,null),Co(n,u,h,f),Ro(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,R=ga(a,T);h.props=R;var L=h.context,K=a.contextType;_=ts,typeof K=="object"&&K!==null&&(_=$e(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||L!==_)&&Pg(n,h,u,_),br=!1;var q=n.memoizedState;h.state=q,Co(n,u,h,f),Ro(),L=n.memoizedState,T||q!==L||br?(typeof W=="function"&&(Mf(n,a,W,u),L=n.memoizedState),(R=br||xg(n,a,R,u,q,L,_))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=L),h.props=u,h.state=L,h.context=_,u=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{h=n.stateNode,Xf(e,n),_=n.memoizedProps,K=ga(a,_),h.props=K,W=n.pendingProps,q=h.context,L=a.contextType,R=ts,typeof L=="object"&&L!==null&&(R=$e(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==W||q!==R)&&Pg(n,h,u,R),br=!1,q=n.memoizedState,h.state=q,Co(n,u,h,f),Ro();var Y=n.memoizedState;_!==W||q!==Y||br||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof T=="function"&&(Mf(n,a,T,u),Y=n.memoizedState),(K=br||xg(n,a,K,u,q,Y,R)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,Y,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,Y,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Y),h.props=u,h.state=Y,h.context=R,u=K):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),u=!1)}return h=u,Ao(e,n),u=(n.flags&128)!==0,h||u?(h=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&u?(n.child=ca(n,e.child,null,f),n.child=ca(n,null,a,f)):je(e,n,a,f),n.memoizedState=h.state,e=n.child):e=zi(e,n,f),e}function Jg(e,n,a,u){return fo(),n.flags|=256,je(e,n,a,u),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Pf(e){return{baseLanes:e,cachePool:tg()}}function kf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bn),e}function Wg(e,n,a){var u=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(f?mr(n):yr(),qt){var T=He,R;if(R=T){t:{for(R=T,T=hi;R.nodeType!==8;){if(!T){T=null;break t}if(R=Yn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:oa!==null?{id:Li,overflow:xi}:null,retryLane:536870912},R=zn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,sn=n,He=null,R=!0):R=!1}R||la(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Pi(n)}return T=u.children,u=u.fallback,f?(yr(),f=n.mode,T=Bf({mode:"hidden",children:T},f),u=_a(u,f,a,null),T.return=n,u.return=n,T.sibling=u,n.child=T,f=n.child,f.memoizedState=Pf(a),f.childLanes=kf(e,_,a),n.memoizedState=xf,u):(mr(n),zf(n,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(h)n.flags&256?(mr(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(yr(),n.child=e.child,n.flags|=128,n=null):(yr(),f=u.fallback,T=n.mode,u=Bf({mode:"visible",children:u.children},T),f=_a(f,T,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,ca(n,e.child,null,a),u=n.child,u.memoizedState=Pf(a),u.childLanes=kf(e,_,a),n.memoizedState=xf,n=f);else if(mr(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,u=Error(s(419)),u.stack="",u.digest=_,ho({value:u,source:null,stack:null}),n=qf(e,n,a)}else if(Le||So(e,n,a,!1),_=(a&e.childLanes)!==0,Le||_){if(_=$t,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==R.retryLane)throw R.retryLane=u,pr(e,u),on(_,e,u),Gg}T.data==="$?"||gh(),n=qf(e,n,a)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=mT.bind(null,e),T._reactRetry=n,n=null):(e=R.treeContext,He=Yn(T.nextSibling),sn=n,qt=!0,Fn=null,hi=!1,e!==null&&(Un[Ln++]=Li,Un[Ln++]=xi,Un[Ln++]=oa,Li=e.id,xi=e.overflow,oa=n),n=zf(n,u.children),n.flags|=4096);return n}return f?(yr(),f=u.fallback,T=n.mode,R=e.child,L=R.sibling,u=Dr(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&31457280,L!==null?f=Dr(L,f):(f=_a(f,T,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,T=e.child.memoizedState,T===null?T=Pf(a):(R=T.cachePool,R!==null?(L=Oe._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=tg(),T={baseLanes:T.baseLanes|a,cachePool:R}),f.memoizedState=T,f.childLanes=kf(e,_,a),n.memoizedState=xf,u):(mr(n),a=e.child,e=a.sibling,a=Dr(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Bf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bf(e,n){return wp(e,n,0,null)}function qf(e,n,a){return ca(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function tp(e,n,a){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Ff(e.return,n,a)}function Hf(e,n,a,u,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=f)}function ep(e,n,a){var u=n.pendingProps,f=u.revealOrder,h=u.tail;if(je(e,n,u.children,a),u=Ie.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,a,n);else if(e.tag===19)tp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(Pt(Ie,u),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Hf(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Wu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Hf(n,!0,a,null,h);break;case"together":Hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(So(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Dr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Dr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function iT(e,n,a){switch(n.tag){case 3:tr(n,n.stateNode.containerInfo),Tr(n,Oe,e.memoizedState.cache),fo();break;case 27:case 5:qs(n);break;case 4:tr(n,n.stateNode.containerInfo);break;case 10:Tr(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(mr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Wg(e,n,a):(mr(n),e=zi(e,n,a),e!==null?e.sibling:null);mr(n);break;case 19:var f=(e.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(So(e,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return ep(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Pt(Ie,Ie.current),u)break;return null;case 22:case 23:return n.lanes=0,Xg(e,n,a);case 24:Tr(n,Oe,e.memoizedState.cache)}return zi(e,n,a)}function np(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Le=!0;else{if(!jf(e,a)&&(n.flags&128)===0)return Le=!1,iT(e,n,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(n.flags&1048576)!==0&&Bv(n,Xu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")ih(u)?(e=ga(u,e),n.tag=1,n=Zg(null,n,u,e,a)):(n.tag=0,n=Lf(null,n,u,e,a));else{if(u!=null){if(f=u.$$typeof,f===P){n.tag=11,n=Fg(null,n,u,e,a);break t}else if(f===Q){n.tag=14,n=Qg(null,n,u,e,a);break t}}throw n=w(u)||u,Error(s(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=ga(u,n.pendingProps),Zg(e,n,u,f,a);case 3:t:{if(tr(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var h=n.pendingProps;f=n.memoizedState,u=f.element,Xf(e,n),Co(n,h,null,a);var _=n.memoizedState;if(h=_.cache,Tr(n,Oe,h),h!==f.cache&&Qf(n,[Oe],a,!0),Ro(),h=_.element,f.isDehydrated)if(f={element:h,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(e,n,h,a);break t}else if(h!==u){u=Vn(Error(s(424)),n),ho(u),n=Jg(e,n,h,a);break t}else for(He=Yn(n.stateNode.containerInfo.firstChild),sn=n,qt=!0,Fn=null,hi=!0,a=Kv(n,null,h,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fo(),h===u){n=zi(e,n,a);break t}je(e,n,h,a)}n=n.child}return n;case 26:return Ao(e,n),e===null?(a=am(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,u=Cl(de.current).createElement(a),u[Me]=n,u[Re]=e,Ge(u,a,e),ne(u),n.stateNode=u):n.memoizedState=am(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qs(n),e===null&&qt&&(u=n.stateNode=nm(n.type,n.pendingProps,de.current),sn=n,hi=!0,He=Yn(u.firstChild)),u=n.pendingProps.children,e!==null||qt?je(e,n,u,a):n.child=ca(n,null,u,a),Ao(e,n),n.child;case 5:return e===null&&qt&&((f=u=He)&&(u=VT(u,n.type,n.pendingProps,hi),u!==null?(n.stateNode=u,sn=n,He=Yn(u.firstChild),hi=!1,f=!0):f=!1),f||la(n)),qs(n),f=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,u=h.children,Ih(f,h)?u=null:_!==null&&Ih(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=mf(e,n,$E,null,null,a),Ho._currentValue=f),Ao(e,n),je(e,n,u,a),n.child;case 6:return e===null&&qt&&((e=a=He)&&(a=UT(a,n.pendingProps,hi),a!==null?(n.stateNode=a,sn=n,He=null,e=!0):e=!1),e||la(n)),null;case 13:return Wg(e,n,a);case 4:return tr(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=ca(n,null,u,a):je(e,n,u,a),n.child;case 11:return Fg(e,n,n.type,n.pendingProps,a);case 7:return je(e,n,n.pendingProps,a),n.child;case 8:return je(e,n,n.pendingProps.children,a),n.child;case 12:return je(e,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,Tr(n,n.type,u.value),je(e,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,ma(n),f=$e(f),u=u(f),n.flags|=1,je(e,n,u,a),n.child;case 14:return Qg(e,n,n.type,n.pendingProps,a);case 15:return Yg(e,n,n.type,n.pendingProps,a);case 19:return ep(e,n,a);case 22:return Xg(e,n,a);case 24:return ma(n),u=$e(Oe),e===null?(f=gf(),f===null&&(f=$t,h=df(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),n.memoizedState={parent:u,cache:f},Yf(n),Tr(n,Oe,f)):((e.lanes&a)!==0&&(Xf(e,n),Co(n,null,null,a),Ro()),f=e.memoizedState,h=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Tr(n,Oe,u)):(u=h.cache,Tr(n,Oe,u),u!==f.cache&&Qf(n,[Oe],a,!0))),je(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Gf=Ot(null),pa=null,Bi=null;function Tr(e,n,a){Pt(Gf,n._currentValue),n._currentValue=a}function qi(e){e._currentValue=Gf.current,Kt(Gf)}function Ff(e,n,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===a)break;e=e.return}}function Qf(e,n,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var R=0;R<n.length;R++)if(T.context===n[R]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),Ff(h.return,a,e),u||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),Ff(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function So(e,n,a,u){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;mn(f.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(f===Wi.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ho):e=[Ho])}f=f.return}e!==null&&Qf(n,e,a,u),n.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){pa=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return ip(pa,e)}function hl(e,n){return pa===null&&ma(e),ip(e,n)}function ip(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return a}var br=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(re&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=Qu(e),kv(e,null,a),n}return Fu(e,u,n,a),Qu(e)}function wo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,sr(e,a)}}function Kf(e,n){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var $f=!1;function Ro(){if($f){var e=ss;if(e!==null)throw e}}function Co(e,n,a,u){$f=!1;var f=e.updateQueue;br=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,L=R.next;R.next=null,_===null?h=L:_.next=L,_=R;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=L:T.next=L,K.lastBaseUpdate=R))}if(h!==null){var W=f.baseState;_=0,K=L=R=null,T=h;do{var q=T.lane&-536870913,Y=q!==T.lane;if(Y?(Ut&q)===q:(u&q)===q){q!==0&&q===as&&($f=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var gt=e,bt=T;q=n;var ue=a;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){W=gt.call(ue,W,q);break t}W=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,q=typeof gt=="function"?gt.call(ue,W,q):gt,q==null)break t;W=O({},W,q);break t;case 2:br=!0}}q=T.callback,q!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(L=K=Y,R=W):K=K.next=Y,_|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);K===null&&(R=W),f.baseState=R,f.firstBaseUpdate=L,f.lastBaseUpdate=K,h===null&&(f.shared.lanes=0),Ir|=_,e.lanes=_,e.memoizedState=W}}function rp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rp(a[e],n)}function Do(e,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var h=a.create,_=a.inst;u=h(),_.destroy=u}a=a.next}while(a!==f)}}catch(T){Xt(n,n.return,T)}}function wr(e,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var h=f.next;u=h;do{if((u.tag&e)===e){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var R=a;try{T()}catch(L){Xt(f,R,L)}}}u=u.next}while(u!==h)}}catch(L){Xt(n,n.return,L)}}function sp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ap(n,a)}catch(u){Xt(e,e.return,u)}}}function op(e,n,a){a.props=ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Xt(e,n,u)}}function ya(e,n){try{var a=e.ref;if(a!==null){var u=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(h){Xt(e,n,h)}}function yn(e,n){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(e,n,f)}else a.current=null}function up(e){var n=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xt(e,e.return,f)}}function lp(e,n,a){try{var u=e.stateNode;DT(u,e.type,a,n),u[Re]=n}catch(f){Xt(e,e.return,f)}}function cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Rl));else if(u!==4&&u!==27&&(e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function dl(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(u!==4&&u!==27&&(e=e.child,e!==null))for(dl(e,n,a),e=e.sibling;e!==null;)dl(e,n,a),e=e.sibling}var Hi=!1,se=!1,Wf=!1,fp=typeof WeakSet=="function"?WeakSet:Set,xe=null,hp=!1;function rT(e,n){if(e=e.containerInfo,Ch=Vl,e=Iv(e),tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var _=0,T=-1,R=-1,L=0,K=0,W=e,q=null;e:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(T=_+f),W!==h||u!==0&&W.nodeType!==3||(R=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)q=W,W=Y;for(;;){if(W===e)break e;if(q===a&&++L===f&&(T=_),q===h&&++K===u&&(R=_),(Y=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Y}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dh={focusedElem:e,selectionRange:a},Vl=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,f=h.memoizedProps,h=h.memoizedState,u=a.stateNode;try{var gt=ga(a.type,f,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(gt,h),u.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Xt(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Mh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}return gt=hp,hp=!1,gt}function dp(e,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),u&4&&Do(5,a);break;case 1:if(Gi(e,a),u&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(T){Xt(a,a.return,T)}else{var f=ga(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(a,a.return,T)}}u&64&&sp(a),u&512&&ya(a,a.return);break;case 3:if(Gi(e,a),u&64&&(u=a.updateQueue,u!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{ap(u,e)}catch(T){Xt(a,a.return,T)}}break;case 26:Gi(e,a),u&512&&ya(a,a.return);break;case 27:case 5:Gi(e,a),n===null&&u&4&&up(a),u&512&&ya(a,a.return);break;case 12:Gi(e,a);break;case 13:Gi(e,a),u&4&&pp(e,a);break;case 22:if(f=a.memoizedState!==null||Hi,!f){n=n!==null&&n.memoizedState!==null||se;var h=Hi,_=se;Hi=f,(se=n)&&!_?Rr(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),Hi=h,se=_}u&512&&(a.memoizedProps.mode==="manual"?ya(a,a.return):yn(a,a.return));break;default:Gi(e,a)}}function vp(e){var n=e.alternate;n!==null&&(e.alternate=null,vp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,_n=!1;function ji(e,n,a){for(a=a.child;a!==null;)gp(e,n,a),a=a.sibling}function gp(e,n,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:se||yn(a,n),ji(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||yn(a,n);var u=pe,f=_n;for(pe=a.stateNode,ji(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Xr(a),pe=u,_n=f;break;case 5:se||yn(a,n);case 6:f=pe;var h=_n;if(pe=null,ji(e,n,a),pe=f,_n=h,pe!==null)if(_n)try{e=pe,u=a.stateNode,e.nodeType===8?e.parentNode.removeChild(u):e.removeChild(u)}catch(_){Xt(a,n,_)}else try{pe.removeChild(a.stateNode)}catch(_){Xt(a,n,_)}break;case 18:pe!==null&&(_n?(n=pe,a=a.stateNode,n.nodeType===8?Nh(n.parentNode,a):n.nodeType===1&&Nh(n,a),Qo(n)):Nh(pe,a.stateNode));break;case 4:u=pe,f=_n,pe=a.stateNode.containerInfo,_n=!0,ji(e,n,a),pe=u,_n=f;break;case 0:case 11:case 14:case 15:se||wr(2,a,n),se||wr(4,a,n),ji(e,n,a);break;case 1:se||(yn(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&op(a,n,u)),ji(e,n,a);break;case 21:ji(e,n,a);break;case 22:se||yn(a,n),se=(u=se)||a.memoizedState!==null,ji(e,n,a),se=u;break;default:ji(e,n,a)}}function pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qo(e)}catch(a){Xt(n,n.return,a)}}function aT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fp),n;default:throw Error(s(435,e.tag))}}function th(e,n){var a=aT(e);n.forEach(function(u){var f=yT.bind(null,e,u);a.has(u)||(a.add(u),u.then(f,f))})}function Pn(e,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],h=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:pe=T.stateNode,_n=!1;break t;case 3:pe=T.stateNode.containerInfo,_n=!0;break t;case 4:pe=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(pe===null)throw Error(s(160));gp(h,_,f),pe=null,_n=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mp(n,e),n=n.sibling}var Qn=null;function mp(e,n){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pn(n,e),kn(e),u&4&&(wr(3,e,e.return),Do(3,e),wr(5,e,e.return));break;case 1:Pn(n,e),kn(e),u&512&&(se||a===null||yn(a,a.return)),u&64&&Hi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Qn;if(Pn(n,e),kn(e),u&512&&(se||a===null||yn(a,a.return)),u&4){var h=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ur]||h[Me]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(u),f.head.insertBefore(h,f.querySelector("head > title"))),Ge(h,u,a),h[Me]=e,ne(h),u=h;break t;case"link":var _=um("link","href",f).get(u+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(u),Ge(h,u,a),f.head.appendChild(h);break;case"meta":if(_=um("meta","content",f).get(u+(a.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}h=f.createElement(u),Ge(h,u,a),f.head.appendChild(h);break;default:throw Error(s(468,u))}h[Me]=e,ne(h),u=h}e.stateNode=u}else lm(f,e.type,e.stateNode);else e.stateNode=om(f,u,e.memoizedProps);else h!==u?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,u===null?lm(f,e.type,e.stateNode):om(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&lp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&e.alternate===null){f=e.stateNode,h=e.memoizedProps;try{for(var R=f.firstChild;R;){var L=R.nextSibling,K=R.nodeName;R[ur]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=L}for(var W=e.type,q=f.attributes;q.length;)f.removeAttributeNode(q[0]);Ge(f,W,h),f[Me]=e,f[Re]=h}catch(gt){Xt(e,e.return,gt)}}case 5:if(Pn(n,e),kn(e),u&512&&(se||a===null||yn(a,a.return)),e.flags&32){f=e.stateNode;try{Dn(f,"")}catch(gt){Xt(e,e.return,gt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,lp(e,f,a!==null?a.memoizedProps:f)),u&1024&&(Wf=!0);break;case 6:if(Pn(n,e),kn(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(gt){Xt(e,e.return,gt)}}break;case 3:if(Ol=null,f=Qn,Qn=Dl(n.containerInfo),Pn(n,e),Qn=f,kn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Qo(n.containerInfo)}catch(gt){Xt(e,e.return,gt)}Wf&&(Wf=!1,yp(e));break;case 4:u=Qn,Qn=Dl(e.stateNode.containerInfo),Pn(n,e),kn(e),Qn=u;break;case 12:Pn(n,e),kn(e);break;case 13:Pn(n,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lh=un()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,th(e,u)));break;case 22:if(u&512&&(se||a===null||yn(a,a.return)),R=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,K=Hi,W=se,Hi=K||R,se=W||L,Pn(n,e),se=W,Hi=K,kn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,u&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Hi||se,a===null||L||n||cs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){L=a=n;try{if(f=L.stateNode,R)h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(gt){Xt(L,L.return,gt)}}}else if(n.tag===6){if(a===null){L=n;try{L.stateNode.nodeValue=R?"":L.memoizedProps}catch(gt){Xt(L,L.return,gt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,th(e,a))));break;case 19:Pn(n,e),kn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,th(e,u)));break;case 21:break;default:Pn(n,e),kn(e)}}function kn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(cp(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,h=Zf(e);dl(e,h,f);break;case 5:var _=u.stateNode;u.flags&32&&(Dn(_,""),u.flags&=-33);var T=Zf(e);dl(e,T,_);break;case 3:case 4:var R=u.stateNode.containerInfo,L=Zf(e);Jf(e,L,R);break;default:throw Error(s(161))}}}catch(K){Xt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dp(e,n.alternate,n),n=n.sibling}function cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),cs(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&op(n,n.return,a),cs(n);break;case 26:case 27:case 5:yn(n,n.return),cs(n);break;case 22:yn(n,n.return),n.memoizedState===null&&cs(n);break;default:cs(n)}e=e.sibling}}function Rr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:Rr(f,h,a),Do(4,h);break;case 1:if(Rr(f,h,a),u=h,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Xt(u,u.return,L)}if(u=h,f=u.updateQueue,f!==null){var T=u.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)rp(R[f],T)}catch(L){Xt(u,u.return,L)}}a&&_&64&&sp(h),ya(h,h.return);break;case 26:case 27:case 5:Rr(f,h,a),a&&u===null&&_&4&&up(h),ya(h,h.return);break;case 12:Rr(f,h,a);break;case 13:Rr(f,h,a),a&&_&4&&pp(f,h);break;case 22:h.memoizedState===null&&Rr(f,h,a),ya(h,h.return);break;default:Rr(f,h,a)}n=n.sibling}}function eh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&yo(a))}function nh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yo(e))}function Cr(e,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_p(e,n,a,u),n=n.sibling}function _p(e,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Cr(e,n,a,u),f&2048&&Do(9,n);break;case 3:Cr(e,n,a,u),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yo(e)));break;case 12:if(f&2048){Cr(e,n,a,u),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Cr(e,n,a,u);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?Cr(e,n,a,u):Io(e,n):h._visibility&4?Cr(e,n,a,u):(h._visibility|=4,fs(e,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&eh(n.alternate,n);break;case 24:Cr(e,n,a,u),f&2048&&nh(n.alternate,n);break;default:Cr(e,n,a,u)}}function fs(e,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,_=n,T=a,R=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:fs(h,_,T,R,f),Do(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&4?fs(h,_,T,R,f):Io(h,_):(K._visibility|=4,fs(h,_,T,R,f)),f&&L&2048&&eh(_.alternate,_);break;case 24:fs(h,_,T,R,f),f&&L&2048&&nh(_.alternate,_);break;default:fs(h,_,T,R,f)}n=n.sibling}}function Io(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,u=n,f=u.flags;switch(u.tag){case 22:Io(a,u),f&2048&&eh(u.alternate,u);break;case 24:Io(a,u),f&2048&&nh(u.alternate,u);break;default:Io(a,u)}n=n.sibling}}var Oo=8192;function hs(e){if(e.subtreeFlags&Oo)for(e=e.child;e!==null;)Ep(e),e=e.sibling}function Ep(e){switch(e.tag){case 26:hs(e),e.flags&Oo&&e.memoizedState!==null&&YT(Qn,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=Qn;Qn=Dl(e.stateNode.containerInfo),hs(e),Qn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Oo,Oo=16777216,hs(e),Oo=n):hs(e));break;default:hs(e)}}function Tp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function No(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];xe=u,Ap(u,e)}Tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:No(e),e.flags&2048&&wr(9,e,e.return);break;case 3:No(e);break;case 12:No(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,vl(e)):No(e);break;default:No(e)}}function vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];xe=u,Ap(u,e)}Tp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),vl(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,vl(n));break;default:vl(n)}e=e.sibling}}function Ap(e,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:wr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,xe=u;else t:for(a=e;xe!==null;){u=xe;var f=u.sibling,h=u.return;if(vp(u),u===a){xe=null;break t}if(f!==null){f.return=h,xe=f;break t}xe=h}}}function sT(e,n,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,a,u){return new sT(e,n,a,u)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dr(e,n){var a=e.alternate;return a===null?(a=zn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sp(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function gl(e,n,a,u,f,h){var _=0;if(u=e,typeof e=="function")ih(e)&&(_=1);else if(typeof e=="string")_=FT(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return _a(a.children,f,h,n);case m:_=8,f|=24;break;case E:return e=zn(12,a,n,f|2),e.elementType=E,e.lanes=h,e;case j:return e=zn(13,a,n,f),e.elementType=j,e.lanes=h,e;case F:return e=zn(19,a,n,f),e.elementType=F,e.lanes=h,e;case X:return wp(a,f,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case M:_=10;break t;case C:_=9;break t;case P:_=11;break t;case Q:_=14;break t;case H:_=16,u=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),u=null}return n=zn(_,a,n,f),n.elementType=e,n.type=u,n.lanes=h,n}function _a(e,n,a,u){return e=zn(7,e,u,n),e.lanes=a,e}function wp(e,n,a,u){e=zn(22,e,u,n),e.elementType=X,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=f._current;if(h===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=pr(h,2);_!==null&&(f._pendingVisibility|=2,on(_,h,2))}},attach:function(){var h=f._current;if(h===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=pr(h,2);_!==null&&(f._pendingVisibility&=-3,on(_,h,2))}}};return e.stateNode=f,e}function rh(e,n,a){return e=zn(6,e,null,n),e.lanes=a,e}function ah(e,n,a){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Fi(e){e.flags|=4}function Rp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cm(n)){if(n=xn.current,n!==null&&((Ut&4194176)===Ut?di!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==di))throw go=cf,jv;e.flags|=8192}}function pl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rr():536870912,e.lanes|=n,vs|=n)}function Mo(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,n}function oT(e,n,a){var u=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),qi(Oe),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(co(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fn!==null&&(dh(Fn),Fn=null))),ie(n),null;case 26:return a=n.memoizedState,e===null?(Fi(n),a!==null?(ie(n),Rp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Fi(n),ie(n),Rp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==u&&Fi(n),ie(n),n.flags&=-16777217),null;case 27:Va(n),a=de.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Fi(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=Se.current,co(n)?qv(n):(e=nm(f,u,a),n.stateNode=e,Fi(n))}return ie(n),null;case 5:if(Va(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Fi(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=Se.current,co(n))qv(n);else{switch(f=Cl(de.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}e[Me]=n,e[Re]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Ge(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Fi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(e=de.current,co(n)){if(e=n.stateNode,a=n.memoizedProps,u=null,f=sn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Me]=n,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||$p(e.nodeValue,a)),e||la(n)}else e=Cl(e).createTextNode(u),e[Me]=n,n.stateNode=e}return ie(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=co(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Me]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else Fn!==null&&(dh(Fn),Fn=null),f=!0;if(!f)return n.flags&256?(Pi(n),n):(Pi(n),null)}if(Pi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==f&&(u.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),pl(n,n.updateQueue),ie(n),null;case 4:return Si(),e===null&&Sh(n.stateNode.containerInfo),ie(n),null;case 10:return qi(n.type),ie(n),null;case 19:if(Kt(Ie),f=n.memoizedState,f===null)return ie(n),null;if(u=(n.flags&128)!==0,h=f.rendering,h===null)if(u)Mo(f,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Wu(e),h!==null){for(n.flags|=128,Mo(f,!1),e=h.updateQueue,n.updateQueue=e,pl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Sp(a,e),a=a.sibling;return Pt(Ie,Ie.current&1|2),n.child}e=e.sibling}f.tail!==null&&un()>ml&&(n.flags|=128,u=!0,Mo(f,!1),n.lanes=4194304)}else{if(!u)if(e=Wu(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,pl(n,e),Mo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!qt)return ie(n),null}else 2*un()-f.renderingStartTime>ml&&a!==536870912&&(n.flags|=128,u=!0,Mo(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(e=f.last,e!==null?e.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=un(),n.sibling=null,e=Ie.current,Pt(Ie,u?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Pi(n),hf(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&pl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),e!==null&&Kt(fa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qi(Oe),ie(n),null;case 25:return null}throw Error(s(156,n.tag))}function uT(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(Oe),Si(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Va(n),null;case 13:if(Pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Kt(Ie),null;case 4:return Si(),null;case 10:return qi(n.type),null;case 22:case 23:return Pi(n),hf(),e!==null&&Kt(fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(Oe),null;case 25:return null;default:return null}}function Cp(e,n){switch(uf(n),n.tag){case 3:qi(Oe),Si();break;case 26:case 27:case 5:Va(n);break;case 4:Si();break;case 13:Pi(n);break;case 19:Kt(Ie);break;case 10:qi(n.type);break;case 22:case 23:Pi(n),hf(),e!==null&&Kt(fa);break;case 24:qi(Oe)}}var lT={getCacheForType:function(e){var n=$e(Oe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},cT=typeof WeakMap=="function"?WeakMap:Map,re=0,$t=null,Dt=null,Ut=0,Zt=0,En=null,Qi=!1,ds=!1,sh=!1,Yi=0,oe=0,Ir=0,Ea=0,oh=0,Bn=0,vs=0,Vo=null,gi=null,uh=!1,lh=0,ml=1/0,yl=null,Or=null,_l=!1,Ta=null,Uo=0,ch=0,fh=null,Lo=0,hh=null;function Tn(){if((re&2)!==0&&Ut!==0)return Ut&-Ut;if(A.T!==null){var e=as;return e!==0?e:Eh()}return wu()}function Dp(){Bn===0&&(Bn=(Ut&536870912)===0||qt?Qs():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Bn}function on(e,n,a){(e===$t&&Zt===2||e.cancelPendingCommit!==null)&&(gs(e,0),Xi(e,Ut,Bn,!1)),ce(e,a),((re&2)===0||e!==$t)&&(e===$t&&((re&2)===0&&(Ea|=a),oe===4&&Xi(e,Ut,Bn,!1)),pi(e))}function Ip(e,n,a){if((re&6)!==0)throw Error(s(327));var u=!a&&(n&60)===0&&(n&e.expiredLanes)===0||ir(e,n),f=u?dT(e,n):ph(e,n,!0),h=u;do{if(f===0){ds&&!u&&Xi(e,n,0,!1);break}else if(f===6)Xi(e,n,0,!Qi);else{if(a=e.current.alternate,h&&!fT(a)){f=ph(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;f=Vo;var R=T.current.memoizedState.isDehydrated;if(R&&(gs(T,_).flags|=256),_=ph(T,_,!1),_!==2){if(sh&&!R){T.errorRecoveryDisabledLanes|=h,Ea|=h,f=4;break t}h=gi,gi=f,h!==null&&dh(h)}f=_}if(h=!1,f!==2)continue}}if(f===1){gs(e,0),Xi(e,n,0,!0);break}t:{switch(u=e,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Xi(u,n,Bn,!Qi);break t}break;case 2:gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=n,(n&62914560)===n&&(h=lh+300-un(),10<h)){if(Xi(u,n,Bn,!Qi),Rn(u,0)!==0)break t;u.timeoutHandle=Wp(Op.bind(null,u,a,gi,yl,uh,n,Bn,Ea,vs,Qi,2,-0,0),h);break t}Op(u,a,gi,yl,uh,n,Bn,Ea,vs,Qi,0,-0,0)}}break}while(!0);pi(e)}function dh(e){gi===null?gi=e:gi.push.apply(gi,e)}function Op(e,n,a,u,f,h,_,T,R,L,K,W,q){var Y=n.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(qo={stylesheets:null,count:0,unsuspend:QT},Ep(n),n=XT(),n!==null)){e.cancelPendingCommit=n(Pp.bind(null,e,a,u,f,_,T,R,1,W,q)),Xi(e,h,_,!L);return}Pp(e,a,u,f,_,T,R,K,W,q)}function fT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],h=f.getSnapshot;f=f.value;try{if(!mn(h(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xi(e,n,a,u){n&=~oh,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var f=n;0<f;){var h=31-nn(f),_=1<<h;u[h]=-1,f&=~_}a!==0&&ar(e,a,n)}function El(){return(re&6)===0?(xo(0),!1):!0}function vh(){if(Dt!==null){if(Zt===0)var e=Dt.return;else e=Dt,Bi=pa=null,Ef(e),is=null,po=0,e=Dt;for(;e!==null;)Cp(e.alternate,e),e=e.return;Dt=null}}function gs(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,OT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vh(),$t=e,Dt=a=Dr(e.current,null),Ut=n,Zt=0,En=null,Qi=!1,ds=ir(e,n),sh=!1,vs=Bn=oh=Ea=Ir=oe=0,gi=Vo=null,uh=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var f=31-nn(u),h=1<<f;n|=e[f],u&=~h}return Yi=n,Gu(),a}function Np(e,n){St=null,A.H=vi,n===vo?(n=Qv(),Zt=3):n===jv?(n=Qv(),Zt=4):Zt=n===Gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(oe=1,cl(e,Vn(n,e.current)))}function Mp(){var e=A.H;return A.H=vi,e===null?vi:e}function Vp(){var e=A.A;return A.A=lT,e}function gh(){oe=4,Qi||(Ut&4194176)!==Ut&&xn.current!==null||(ds=!0),(Ir&134217727)===0&&(Ea&134217727)===0||$t===null||Xi($t,Ut,Bn,!1)}function ph(e,n,a){var u=re;re|=2;var f=Mp(),h=Vp();($t!==e||Ut!==n)&&(yl=null,gs(e,n)),n=!1;var _=oe;t:do try{if(Zt!==0&&Dt!==null){var T=Dt,R=En;switch(Zt){case 8:vh(),_=6;break t;case 3:case 2:case 6:xn.current===null&&(n=!0);var L=Zt;if(Zt=0,En=null,ps(e,T,R,L),a&&ds){_=0;break t}break;default:L=Zt,Zt=0,En=null,ps(e,T,R,L)}}hT(),_=oe;break}catch(K){Np(e,K)}while(!0);return n&&e.shellSuspendCounter++,Bi=pa=null,re=u,A.H=f,A.A=h,Dt===null&&($t=null,Ut=0,Gu()),_}function hT(){for(;Dt!==null;)Up(Dt)}function dT(e,n){var a=re;re|=2;var u=Mp(),f=Vp();$t!==e||Ut!==n?(yl=null,ml=un()+500,gs(e,n)):ds=ir(e,n);t:do try{if(Zt!==0&&Dt!==null){n=Dt;var h=En;e:switch(Zt){case 1:Zt=0,En=null,ps(e,n,h,1);break;case 2:if(Gv(h)){Zt=0,En=null,Lp(n);break}n=function(){Zt===2&&$t===e&&(Zt=7),pi(e)},h.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Gv(h)?(Zt=0,En=null,Lp(n)):(Zt=0,En=null,ps(e,n,h,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(!_||cm(_)){Zt=0,En=null;var R=T.sibling;if(R!==null)Dt=R;else{var L=T.return;L!==null?(Dt=L,Tl(L)):Dt=null}break e}}Zt=0,En=null,ps(e,n,h,5);break;case 6:Zt=0,En=null,ps(e,n,h,6);break;case 8:vh(),oe=6;break t;default:throw Error(s(462))}}vT();break}catch(K){Np(e,K)}while(!0);return Bi=pa=null,A.H=u,A.A=f,re=a,Dt!==null?0:($t=null,Ut=0,Gu(),oe)}function vT(){for(;Dt!==null&&!jc();)Up(Dt)}function Up(e){var n=np(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?Tl(e):Dt=n}function Lp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=$g(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=$g(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ef(n);default:Cp(a,n),n=Dt=Sp(n,Yi),n=np(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?Tl(e):Dt=n}function ps(e,n,a,u){Bi=pa=null,Ef(n),is=null,po=0;var f=n.return;try{if(nT(e,f,n,a,Ut)){oe=1,cl(e,Vn(a,e.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;oe=1,cl(e,Vn(a,e.current)),Dt=null;return}n.flags&32768?(qt||u===1?e=!0:ds||(Ut&536870912)!==0?e=!1:(Qi=e=!0,(u===2||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),xp(n,e)):Tl(n)}function Tl(e){var n=e;do{if((n.flags&32768)!==0){xp(n,Qi);return}e=n.return;var a=oT(n.alternate,n,Yi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);oe===0&&(oe=5)}function xp(e,n){do{var a=uT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);oe=6,Dt=null}function Pp(e,n,a,u,f,h,_,T,R,L){var K=A.T,W=lt.p;try{lt.p=2,A.T=null,gT(e,n,a,u,W,f,h,_,T,R,L)}finally{A.T=K,lt.p=W}}function gT(e,n,a,u,f,h,_,T){do ms();while(Ta!==null);if((re&6)!==0)throw Error(s(327));var R=e.finishedWork;if(u=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=R.lanes|R.childLanes;if(L|=af,Au(e,u,L,h,_,T),e===$t&&(Dt=$t=null,Ut=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||_l||(_l=!0,ch=L,fh=a,_T(wi,function(){return ms(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,h=lt.p,lt.p=2,_=re,re|=4,rT(e,R),mp(R,e),zE(Dh,e.containerInfo),Vl=!!Ch,Dh=Ch=null,e.current=R,dp(e,R.alternate,R),Hs(),re=_,lt.p=h,A.T=a):e.current=R,_l?(_l=!1,Ta=e,Uo=u):kp(e,L),L=e.pendingLanes,L===0&&(Or=null),Gs(R.stateNode),pi(e),n!==null)for(f=e.onRecoverableError,R=0;R<n.length;R++)L=n[R],f(L.value,{componentStack:L.stack});return(Uo&3)!==0&&ms(),L=e.pendingLanes,(u&4194218)!==0&&(L&42)!==0?e===hh?Lo++:(Lo=0,hh=e):Lo=0,xo(0),null}function kp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yo(n)))}function ms(){if(Ta!==null){var e=Ta,n=ch;ch=0;var a=Su(Uo),u=A.T,f=lt.p;try{if(lt.p=32>a?32:a,A.T=null,Ta===null)var h=!1;else{a=fh,fh=null;var _=Ta,T=Uo;if(Ta=null,Uo=0,(re&6)!==0)throw Error(s(331));var R=re;if(re|=4,bp(_.current),_p(_,_.current,T,a),re=R,xo(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(er,_)}catch{}h=!0}return h}finally{lt.p=f,A.T=u,kp(e,n)}}return!1}function zp(e,n,a){n=Vn(a,n),n=Uf(e.stateNode,n,2),e=Sr(e,n,2),e!==null&&(ce(e,2),pi(e))}function Xt(e,n,a){if(e.tag===3)zp(e,e,a);else for(;n!==null;){if(n.tag===3){zp(n,e,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){e=Vn(a,e),a=Hg(2),u=Sr(n,a,2),u!==null&&(jg(a,u,n,e),ce(u,2),pi(u));break}}n=n.return}}function mh(e,n,a){var u=e.pingCache;if(u===null){u=e.pingCache=new cT;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(sh=!0,f.add(a),e=pT.bind(null,e,n,a),n.then(e,e))}function pT(e,n,a){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>un()-lh?(re&2)===0&&gs(e,0):oh|=a,vs===Ut&&(vs=0)),pi(e)}function Bp(e,n){n===0&&(n=rr()),e=pr(e,n),e!==null&&(ce(e,n),pi(e))}function mT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Bp(e,a)}function yT(e,n){var a=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),Bp(e,a)}function _T(e,n){return Fr(e,n)}var bl=null,ys=null,yh=!1,Al=!1,_h=!1,ba=0;function pi(e){e!==ys&&e.next===null&&(ys===null?bl=ys=e:ys=ys.next=e),Al=!0,yh||(yh=!0,TT(ET))}function xo(e,n){if(!_h&&Al){_h=!0;do for(var a=!1,u=bl;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var h=0;else{var _=u.suspendedLanes,T=u.pingedLanes;h=(1<<31-nn(42|e)+1)-1,h&=f&~(_&~T),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,jp(u,h))}else h=Ut,h=Rn(u,u===$t?h:0),(h&3)===0||ir(u,h)||(a=!0,jp(u,h));u=u.next}while(a);_h=!1}}function ET(){Al=yh=!1;var e=0;ba!==0&&(IT()&&(e=ba),ba=0);for(var n=un(),a=null,u=bl;u!==null;){var f=u.next,h=qp(u,n);h===0?(u.next=null,a===null?bl=f:a.next=f,f===null&&(ys=a)):(a=u,(e!==0||(h&3)!==0)&&(Al=!0)),u=f}xo(e)}function qp(e,n){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-nn(h),T=1<<_,R=f[_];R===-1?((T&a)===0||(T&u)!==0)&&(f[_]=xa(T,n)):R<=n&&(e.expiredLanes|=T),h&=~T}if(n=$t,a=Ut,a=Rn(e,e===n?a:0),u=e.callbackNode,a===0||e===n&&Zt===2||e.cancelPendingCommit!==null)return u!==null&&u!==null&&La(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ir(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(u!==null&&La(u),Su(a)){case 2:case 8:a=Ne;break;case 32:a=wi;break;case 268435456:a=js;break;default:a=wi}return u=Hp.bind(null,e),a=Fr(a,u),e.callbackPriority=n,e.callbackNode=a,n}return u!==null&&u!==null&&La(u),e.callbackPriority=2,e.callbackNode=null,2}function Hp(e,n){var a=e.callbackNode;if(ms()&&e.callbackNode!==a)return null;var u=Ut;return u=Rn(e,e===$t?u:0),u===0?null:(Ip(e,u,n),qp(e,un()),e.callbackNode!=null&&e.callbackNode===a?Hp.bind(null,e):null)}function jp(e,n){if(ms())return null;Ip(e,n,!0)}function TT(e){NT(function(){(re&6)!==0?Fr(we,e):e()})}function Eh(){return ba===0&&(ba=Qs()),ba}function Gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ai(""+e)}function Fp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function bT(e,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var h=Gp((f[Re]||null).action),_=u.submitter;_&&(n=(n=_[Re]||null)?Gp(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new ja("action","action",null,u,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ba!==0){var R=_?Fp(f,_):new FormData(f);If(a,{pending:!0,data:R,method:f.method,action:h},null,R)}}else typeof h=="function"&&(T.preventDefault(),R=_?Fp(f,_):new FormData(f),If(a,{pending:!0,data:R,method:f.method,action:h},h,R))},currentTarget:f}]})}}for(var Th=0;Th<Pv.length;Th++){var bh=Pv[Th],AT=bh.toLowerCase(),ST=bh[0].toUpperCase()+bh.slice(1);Gn(AT,"on"+ST)}Gn(Mv,"onAnimationEnd"),Gn(Vv,"onAnimationIteration"),Gn(Uv,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(qE,"onTransitionRun"),Gn(HE,"onTransitionStart"),Gn(jE,"onTransitionCancel"),Gn(Lv,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function Qp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var h=void 0;if(n)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,L=T.currentTarget;if(T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=L;try{h(f)}catch(K){ll(K)}f.currentTarget=null,h=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,L=T.currentTarget,T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=L;try{h(f)}catch(K){ll(K)}f.currentTarget=null,h=R}}}}function Nt(e,n){var a=n[Yr];a===void 0&&(a=n[Yr]=new Set);var u=e+"__bubble";a.has(u)||(Yp(n,e,2,!1),a.add(u))}function Ah(e,n,a){var u=0;n&&(u|=4),Yp(a,e,u,n)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Sh(e){if(!e[Sl]){e[Sl]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(wT.has(a)||Ah(a,!1,e),Ah(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sl]||(n[Sl]=!0,Ah("selectionchange",!1,n))}}function Yp(e,n,a,u){switch(pm(n)){case 2:var f=ZT;break;case 8:f=JT;break;default:f=Ph}a=f.bind(null,n,a,e),f=void 0,!On||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function wh(e,n,a,u,f){var h=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;_=_.return}for(;T!==null;){if(_=jn(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){u=h=_;continue t}T=T.parentNode}}u=u.return}Iu(function(){var L=h,K=Ha(a),W=[];t:{var q=xv.get(e);if(q!==void 0){var Y=ja,gt=e;switch(e){case"keypress":if(oi(a)===0)break t;case"keydown":case"keyup":Y=Ka;break;case"focusin":gt="focus",Y=Qa;break;case"focusout":gt="blur",Y=Qa;break;case"beforeblur":case"afterblur":Y=Qa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Pu;break;case Mv:case Vv:case Uv:Y=Ya;break;case Lv:Y=zu;break;case"scroll":case"scrollend":Y=Ou;break;case"wheel":Y=$a;break;case"copy":case"cut":case"paste":Y=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=so;break;case"toggle":case"beforetoggle":Y=qu}var bt=(n&4)!==0,ue=!bt&&(e==="scroll"||e==="scrollend"),k=bt?q!==null?q+"Capture":null:q;bt=[];for(var U=L,B;U!==null;){var Z=U;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=Jr(U,k),Z!=null&&bt.push(ko(U,Z,B))),ue)break;U=U.return}0<bt.length&&(q=new Y(q,gt,null,a,K),W.push({event:q,listeners:bt}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",q&&a!==In&&(gt=a.relatedTarget||a.fromElement)&&(jn(gt)||gt[Ri]))break t;if((Y||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(gt=a.relatedTarget||a.toElement,Y=L,gt=gt?jn(gt):null,gt!==null&&(ue=vt(gt),bt=gt.tag,gt!==ue||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(Y=null,gt=L),Y!==gt)){if(bt=Nn,Z="onMouseLeave",k="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(bt=so,Z="onPointerLeave",k="onPointerEnter",U="pointer"),ue=Y==null?q:lr(Y),B=gt==null?q:lr(gt),q=new bt(Z,U+"leave",Y,a,K),q.target=ue,q.relatedTarget=B,Z=null,jn(K)===L&&(bt=new bt(k,U+"enter",gt,a,K),bt.target=B,bt.relatedTarget=ue,Z=bt),ue=Z,Y&&gt)e:{for(bt=Y,k=gt,U=0,B=bt;B;B=_s(B))U++;for(B=0,Z=k;Z;Z=_s(Z))B++;for(;0<U-B;)bt=_s(bt),U--;for(;0<B-U;)k=_s(k),B--;for(;U--;){if(bt===k||k!==null&&bt===k.alternate)break e;bt=_s(bt),k=_s(k)}bt=null}else bt=null;Y!==null&&Xp(W,q,Y,bt,!1),gt!==null&&ue!==null&&Xp(W,ue,gt,bt,!0)}}t:{if(q=L?lr(L):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var ct=Tv;else if(De(q))if(bv)ct=PE;else{ct=LE;var Rt=UE}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Ws(L.elementType)&&(ct=Tv):ct=xE;if(ct&&(ct=ct(e,L))){Ui(W,ct,a,K);break t}Rt&&Rt(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&qa(q,"number",q.value)}switch(Rt=L?lr(L):window,e){case"focusin":(De(Rt)||Rt.contentEditable==="true")&&(Za=Rt,ef=L,lo=null);break;case"focusout":lo=ef=Za=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Ov(W,a,K);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Ov(W,a,K)}var pt;if(ci)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Mt?G(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(y&&a.locale!=="ko"&&(Mt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Mt&&(pt=eo()):(si=K,gr="value"in si?si.value:si.textContent,Mt=!0)),Rt=wl(L,yt),0<Rt.length&&(yt=new ro(yt,e,null,a,K),W.push({event:yt,listeners:Rt}),pt?yt.data=pt:(pt=it(a),pt!==null&&(yt.data=pt)))),(pt=v?Ce(e,a):Vt(e,a))&&(yt=wl(L,"onBeforeInput"),0<yt.length&&(Rt=new ro("onBeforeInput","beforeinput",null,a,K),W.push({event:Rt,listeners:yt}),Rt.data=pt)),bT(W,e,L,a,K)}Qp(W,n)})}function ko(e,n,a){return{instance:e,listener:n,currentTarget:a}}function wl(e,n){for(var a=n+"Capture",u=[];e!==null;){var f=e,h=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Jr(e,a),f!=null&&u.unshift(ko(e,f,h)),f=Jr(e,n),f!=null&&u.push(ko(e,f,h))),e=e.return}return u}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xp(e,n,a,u,f){for(var h=n._reactName,_=[];a!==null&&a!==u;){var T=a,R=T.alternate,L=T.stateNode;if(T=T.tag,R!==null&&R===u)break;T!==5&&T!==26&&T!==27||L===null||(R=L,f?(L=Jr(a,h),L!=null&&_.unshift(ko(a,L,R))):f||(L=Jr(a,h),L!=null&&_.push(ko(a,L,R)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var RT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(CT,"")}function $p(e,n){return n=Kp(n),Kp(e)===n}function Rl(){}function Yt(e,n,a,u,f,h){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Dn(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Dn(e,""+u);break;case"className":hr(e,"class",u);break;case"tabIndex":hr(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,a,u);break;case"style":Du(e,u,h);break;case"data":if(n!=="object"){hr(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=ai(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",f.name,f,null),Yt(e,n,"formEncType",f.formEncType,f,null),Yt(e,n,"formMethod",f.formMethod,f,null),Yt(e,n,"formTarget",f.formTarget,f,null)):(Yt(e,n,"encType",f.encType,f,null),Yt(e,n,"method",f.method,f,null),Yt(e,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=ai(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=Rl);break;case"onScroll":u!=null&&Nt("scroll",e);break;case"onScrollEnd":u!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=ai(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),fr(e,"popover",u);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fr(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xc.get(a)||a,fr(e,a,u))}}function Rh(e,n,a,u,f,h){switch(a){case"style":Du(e,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof u=="string"?Dn(e,u):(typeof u=="number"||typeof u=="bigint")&&Dn(e,""+u);break;case"onScroll":u!=null&&Nt("scroll",e);break;case"onScrollEnd":u!=null&&Nt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),h=e[Re]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof u=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):fr(e,a,u)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var u=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,h,_,a,null)}}f&&Yt(e,n,"srcSet",a.srcSet,a,null),u&&Yt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=h=_=f=null,R=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var K=a[u];if(K!=null)switch(u){case"name":f=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":L=K;break;case"value":h=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Yt(e,n,u,K,a,null)}}$r(e,h,T,R,L,_,f,!1),Kr(e);return;case"select":Nt("invalid",e),u=_=h=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:Yt(e,n,f,T,a,null)}n=h,a=_,e.multiple=!!u,n!=null?Bt(e,!!u,n,!1):a!=null&&Bt(e,!!u,a,!0);return;case"textarea":Nt("invalid",e),h=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,n,_,T,a,null)}vr(e,u,f,h),Kr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Yt(e,n,R,u,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(u=0;u<Po.length;u++)Nt(Po[u],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,L,u,a,null)}return;default:if(Ws(n)){for(K in a)a.hasOwnProperty(K)&&(u=a[K],u!==void 0&&Rh(e,n,K,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&Yt(e,n,T,u,a,null))}function DT(e,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,R=null,L=null,K=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=W;default:u.hasOwnProperty(Y)||Yt(e,n,Y,null,u,W)}}for(var q in u){var Y=u[q];if(W=a[q],u.hasOwnProperty(q)&&(Y!=null||W!=null))switch(q){case"type":h=Y;break;case"name":f=Y;break;case"checked":L=Y;break;case"defaultChecked":K=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==W&&Yt(e,n,q,Y,u,W)}}dr(e,_,T,R,L,K,h,f);return;case"select":Y=_=T=q=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":Y=R;default:u.hasOwnProperty(h)||Yt(e,n,h,null,u,R)}for(f in u)if(h=u[f],R=a[f],u.hasOwnProperty(f)&&(h!=null||R!=null))switch(f){case"value":q=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==R&&Yt(e,n,f,h,u,R)}n=T,a=_,u=Y,q!=null?Bt(e,!!a,q,!1):!!u!=!!a&&(n!=null?Bt(e,!!a,n,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,n,T,null,u,f)}for(_ in u)if(f=u[_],h=a[_],u.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Yt(e,n,_,f,u,h)}Zr(e,q,Y);return;case"option":for(var gt in a)if(q=a[gt],a.hasOwnProperty(gt)&&q!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Yt(e,n,gt,null,u,q)}for(R in u)if(q=u[R],Y=a[R],u.hasOwnProperty(R)&&q!==Y&&(q!=null||Y!=null))switch(R){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(e,n,R,q,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)q=a[bt],a.hasOwnProperty(bt)&&q!=null&&!u.hasOwnProperty(bt)&&Yt(e,n,bt,null,u,q);for(L in u)if(q=u[L],Y=a[L],u.hasOwnProperty(L)&&q!==Y&&(q!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Yt(e,n,L,q,u,Y)}return;default:if(Ws(n)){for(var ue in a)q=a[ue],a.hasOwnProperty(ue)&&q!==void 0&&!u.hasOwnProperty(ue)&&Rh(e,n,ue,void 0,u,q);for(K in u)q=u[K],Y=a[K],!u.hasOwnProperty(K)||q===Y||q===void 0&&Y===void 0||Rh(e,n,K,q,u,Y);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!u.hasOwnProperty(k)&&Yt(e,n,k,null,u,q);for(W in u)q=u[W],Y=a[W],!u.hasOwnProperty(W)||q===Y||q==null&&Y==null||Yt(e,n,W,q,u,Y)}var Ch=null,Dh=null;function Cl(e){return e.nodeType===9?e:e.ownerDocument}function Zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ih(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Oh=null;function IT(){var e=window.event;return e&&e.type==="popstate"?e===Oh?!1:(Oh=e,!0):(Oh=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(MT)}:Wp;function MT(e){setTimeout(function(){throw e})}function Nh(e,n){var a=n,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){e.removeChild(f),Qo(n);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Qo(n)}function Mh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mh(a),Xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VT(e,n,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ur])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function UT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function nm(e,n,a){switch(n=Cl(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var qn=new Map,im=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ki=lt.d;lt.d={f:LT,r:xT,D:PT,C:kT,L:zT,m:BT,X:HT,S:qT,M:jT};function LT(){var e=Ki.f(),n=El();return e||n}function xT(e){var n=Ci(e);n!==null&&n.tag===5&&n.type==="form"?Og(n):Ki.r(e)}var Es=typeof document>"u"?null:document;function rm(e,n,a){var u=Es;if(u&&typeof n=="string"&&n){var f=ae(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),im.has(f)||(im.add(f),e={rel:e,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Ge(n,"link",e),ne(n),u.head.appendChild(n)))}}function PT(e){Ki.D(e),rm("dns-prefetch",e,null)}function kT(e,n){Ki.C(e,n),rm("preconnect",e,n)}function zT(e,n,a){Ki.L(e,n,a);var u=Es;if(u&&e&&n){var f='link[rel="preload"][as="'+ae(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ae(a.imageSizes)+'"]')):f+='[href="'+ae(e)+'"]';var h=f;switch(n){case"style":h=Ts(e);break;case"script":h=bs(e)}qn.has(h)||(e=O({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),qn.set(h,e),u.querySelector(f)!==null||n==="style"&&u.querySelector(zo(h))||n==="script"&&u.querySelector(Bo(h))||(n=u.createElement("link"),Ge(n,"link",e),ne(n),u.head.appendChild(n)))}}function BT(e,n){Ki.m(e,n);var a=Es;if(a&&e){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ae(u)+'"][href="'+ae(e)+'"]',h=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=bs(e)}if(!qn.has(h)&&(e=O({rel:"modulepreload",href:e},n),qn.set(h,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bo(h)))return}u=a.createElement("link"),Ge(u,"link",e),ne(u),a.head.appendChild(u)}}}function qT(e,n,a){Ki.S(e,n,a);var u=Es;if(u&&e){var f=cr(u).hoistableStyles,h=Ts(e);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(zo(h)))T.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":n},a),(a=qn.get(h))&&Vh(e,a);var R=_=u.createElement("link");ne(R),Ge(R,"link",e),R._p=new Promise(function(L,K){R.onload=L,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Il(_,n,u)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function HT(e,n){Ki.X(e,n);var a=Es;if(a&&e){var u=cr(a).hoistableScripts,f=bs(e),h=u.get(f);h||(h=a.querySelector(Bo(f)),h||(e=O({src:e,async:!0},n),(n=qn.get(f))&&Uh(e,n),h=a.createElement("script"),ne(h),Ge(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function jT(e,n){Ki.M(e,n);var a=Es;if(a&&e){var u=cr(a).hoistableScripts,f=bs(e),h=u.get(f);h||(h=a.querySelector(Bo(f)),h||(e=O({src:e,async:!0,type:"module"},n),(n=qn.get(f))&&Uh(e,n),h=a.createElement("script"),ne(h),Ge(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function am(e,n,a,u){var f=(f=de.current)?Dl(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=cr(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ts(a.href);var h=cr(f).hoistableStyles,_=h.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=f.querySelector(zo(e)))&&!h._p&&(_.instance=h,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),h||GT(f,e,a,_.state))),n&&u===null)throw Error(s(528,""));return _}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bs(a),a=cr(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ts(e){return'href="'+ae(e)+'"'}function zo(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function GT(e,n,a,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Ge(n,"link",a),ne(n),e.head.appendChild(n))}function bs(e){return'[src="'+ae(e)+'"]'}function Bo(e){return"script[async]"+e}function om(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+ae(a.href)+'"]');if(u)return n.instance=u,ne(u),u;var f=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),ne(u),Ge(u,"style",f),Il(u,a.precedence,e),n.instance=u;case"stylesheet":f=Ts(a.href);var h=e.querySelector(zo(f));if(h)return n.state.loading|=4,n.instance=h,ne(h),h;u=sm(a),(f=qn.get(f))&&Vh(u,f),h=(e.ownerDocument||e).createElement("link"),ne(h);var _=h;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Ge(h,"link",u),n.state.loading|=4,Il(h,a.precedence,e),n.instance=h;case"script":return h=bs(a.src),(f=e.querySelector(Bo(h)))?(n.instance=f,ne(f),f):(u=a,(f=qn.get(h))&&(u=O({},a),Uh(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),ne(f),Ge(f,"link",u),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Il(u,a.precedence,e));return n.instance}function Il(e,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,h=f,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Vh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Uh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ol=null;function um(e,n,a){if(Ol===null){var u=new Map,f=Ol=new Map;f.set(a,u)}else f=Ol,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var h=a[f];if(!(h[ur]||h[Me]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var T=u.get(_);T?T.push(h):u.set(_,[h])}}return u}function lm(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function FT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var qo=null;function QT(){}function YT(e,n,a){if(qo===null)throw Error(s(475));var u=qo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ts(a.href),h=e.querySelector(zo(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Nl.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=h,ne(h);return}h=e.ownerDocument||e,a=sm(a),(f=qn.get(f))&&Vh(a,f),h=h.createElement("link"),ne(h);var _=h;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Ge(h,"link",a),n.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Nl.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function XT(){if(qo===null)throw Error(s(475));var e=qo;return e.stylesheets&&e.count===0&&Lh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Lh(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Nl(){if(this.count--,this.count===0){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function Lh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,n.forEach(KT,e),Ml=null,Nl.call(e))}function KT(e,n){if(!(n.state.loading&4)){var a=Ml.get(e);if(a)var u=a.get(null);else{a=new Map,Ml.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=n.instance,_=f.getAttribute("data-precedence"),h=a.get(_)||u,h===u&&a.set(null,f),a.set(_,f),this.count++,u=Nl.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ho={$$typeof:M,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function $T(e,n,a,u,f,h,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function fm(e,n,a,u,f,h,_,T,R,L,K,W){return e=new $T(e,n,a,_,T,R,L,W),n=1,h===!0&&(n|=24),h=zn(3,null,null,n),e.current=h,h.stateNode=e,n=df(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:u,isDehydrated:a,cache:n},Yf(h),e}function hm(e){return e?(e=ts,e):ts}function dm(e,n,a,u,f,h){f=hm(f),u.context===null?u.context=f:u.pendingContext=f,u=Ar(n),u.payload={element:a},h=h===void 0?null:h,h!==null&&(u.callback=h),a=Sr(e,u,n),a!==null&&(on(a,e,n),wo(a,e,n))}function vm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function xh(e,n){vm(e,n),(e=e.alternate)&&vm(e,n)}function gm(e){if(e.tag===13){var n=pr(e,67108864);n!==null&&on(n,e,67108864),xh(e,67108864)}}var Vl=!0;function ZT(e,n,a,u){var f=A.T;A.T=null;var h=lt.p;try{lt.p=2,Ph(e,n,a,u)}finally{lt.p=h,A.T=f}}function JT(e,n,a,u){var f=A.T;A.T=null;var h=lt.p;try{lt.p=8,Ph(e,n,a,u)}finally{lt.p=h,A.T=f}}function Ph(e,n,a,u){if(Vl){var f=kh(u);if(f===null)wh(e,n,u,Ul,a),mm(e,u);else if(tb(f,e,n,a,u))u.stopPropagation();else if(mm(e,u),n&4&&-1<WT.indexOf(e)){for(;f!==null;){var h=Ci(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Hn(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-nn(_);T.entanglements[1]|=R,_&=~R}pi(h),(re&6)===0&&(ml=un()+500,xo(0))}}break;case 13:T=pr(h,2),T!==null&&on(T,h,2),El(),xh(h,2)}if(h=kh(u),h===null&&wh(e,n,u,Ul,a),h===f)break;f=h}f!==null&&u.stopPropagation()}else wh(e,n,u,null,a)}}function kh(e){return e=Ha(e),zh(e)}var Ul=null;function zh(e){if(Ul=null,e=jn(e),e!==null){var n=vt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=Ct(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ul=e,null}function pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_u()){case we:return 2;case Ne:return 8;case wi:case Eu:return 32;case js:return 268435456;default:return 32}default:return 32}}var Bh=!1,Nr=null,Mr=null,Vr=null,jo=new Map,Go=new Map,Ur=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":jo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(n.pointerId)}}function Fo(e,n,a,u,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Ci(n),n!==null&&gm(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function tb(e,n,a,u,f){switch(n){case"focusin":return Nr=Fo(Nr,e,n,a,u,f),!0;case"dragenter":return Mr=Fo(Mr,e,n,a,u,f),!0;case"mouseover":return Vr=Fo(Vr,e,n,a,u,f),!0;case"pointerover":var h=f.pointerId;return jo.set(h,Fo(jo.get(h)||null,e,n,a,u,f)),!0;case"gotpointercapture":return h=f.pointerId,Go.set(h,Fo(Go.get(h)||null,e,n,a,u,f)),!0}return!1}function ym(e){var n=jn(e.target);if(n!==null){var a=vt(n);if(a!==null){if(n=a.tag,n===13){if(n=Ct(a),n!==null){e.blockedOn=n,or(e.priority,function(){if(a.tag===13){var u=Tn(),f=pr(a,u);f!==null&&on(f,a,u),xh(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=kh(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);In=u,a.target.dispatchEvent(u),In=null}else return n=Ci(a),n!==null&&gm(n),e.blockedOn=a,!1;n.shift()}return!0}function _m(e,n,a){Ll(e)&&a.delete(n)}function eb(){Bh=!1,Nr!==null&&Ll(Nr)&&(Nr=null),Mr!==null&&Ll(Mr)&&(Mr=null),Vr!==null&&Ll(Vr)&&(Vr=null),jo.forEach(_m),Go.forEach(_m)}function xl(e,n){e.blockedOn===n&&(e.blockedOn=null,Bh||(Bh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eb)))}var Pl=null;function Em(e){Pl!==e&&(Pl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var n=0;n<e.length;n+=3){var a=e[n],u=e[n+1],f=e[n+2];if(typeof u!="function"){if(zh(u||a)===null)continue;break}var h=Ci(a);h!==null&&(e.splice(n,3),n-=3,If(h,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Qo(e){function n(R){return xl(R,e)}Nr!==null&&xl(Nr,e),Mr!==null&&xl(Mr,e),Vr!==null&&xl(Vr,e),jo.forEach(n),Go.forEach(n);for(var a=0;a<Ur.length;a++){var u=Ur[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)ym(a),a.blockedOn===null&&Ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],h=a[u+1],_=f[Re]||null;if(typeof h=="function")_||Em(a);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[Re]||null)T=_.formAction;else if(zh(f)!==null)continue}else T=_.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),Em(a)}}}function qh(e){this._internalRoot=e}kl.prototype.render=qh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,u=Tn();dm(a,u,e,n,null,null)},kl.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&ms(),dm(e.current,2,null,e,null,null),El(),n[Ri]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var n=wu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ur.length&&n!==0&&n<Ur[a].priority;a++);Ur.splice(a,0,e),a===0&&ym(e)}};var Tm=t.version;if(Tm!=="19.0.0")throw Error(s(527,Tm,"19.0.0"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tt(n),e=e!==null?ft(e):null,e=e===null?null:e.stateNode,e};var nb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{er=zl.inject(nb),Ke=zl}catch{}}return Xo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,u="",f=kg,h=zg,_=Bg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=fm(e,1,!1,null,null,a,u,f,h,_,T,null),e[Ri]=n.current,Sh(e.nodeType===8?e.parentNode:e),new qh(n)},Xo.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var u=!1,f="",h=kg,_=zg,T=Bg,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=fm(e,1,!0,n,a??null,u,f,h,_,T,R,L),n.context=hm(null),a=n.current,u=Tn(),f=Ar(u),f.callback=null,Sr(a,f,u),n.current.lanes=u,ce(n,u),pi(n),e[Ri]=n.current,Sh(e),new kl(n)},Xo.version="19.0.0",Xo}var Nm;function hb(){if(Nm)return jh.exports;Nm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jh.exports=fb(),jh.exports}var db=hb(),cd=kd(),fd=function(r,t){return fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},fd(r,t)};function Sn(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fd(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var ht=function(){return ht=Object.assign||function(t){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},ht.apply(this,arguments)};function hd(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(i[s[o]]=r[s[o]]);return i}function ot(r,t,i,s){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(E){try{m(s.next(E))}catch(S){d(S)}}function p(E){try{m(s.throw(E))}catch(S){d(S)}}function m(E){E.done?c(E.value):o(E.value).then(g,p)}m((s=s.apply(r,t||[])).next())})}function at(r,t){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,o,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=g(0),d.throw=g(1),d.return=g(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(E){return p([m,E])}}function p(m){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(i=0)),i;)try{if(s=1,o&&(c=m[0]&2?o.return:m[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,m[1])).done)return c;switch(o=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,o=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(r,i)}catch(E){m=[6,E],o=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function Ae(r){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&r[t],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zt(r,t){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),o,c=[],d;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)c.push(o.value)}catch(g){d={error:g}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(d)throw d.error}}return c}function he(r,t,i){if(i||arguments.length===2)for(var s=0,o=t.length,c;s<o;s++)(c||!(s in t))&&(c||(c=Array.prototype.slice.call(t,0,s)),c[s]=t[s]);return r.concat(c||Array.prototype.slice.call(t))}function Cs(r){return this instanceof Cs?(this.v=r,this):new Cs(r)}function vb(r,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,t||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(M){return function(P){return Promise.resolve(P).then(M,S)}}function g(M,P){s[M]&&(o[M]=function(j){return new Promise(function(F,Q){c.push([M,j,F,Q])>1||p(M,j)})},P&&(o[M]=P(o[M])))}function p(M,P){try{m(s[M](P))}catch(j){C(c[0][3],j)}}function m(M){M.value instanceof Cs?Promise.resolve(M.value.v).then(E,S):C(c[0][2],M)}function E(M){p("next",M)}function S(M){p("throw",M)}function C(M,P){M(P),c.shift(),c.length&&p(c[0][0],c[0][1])}}function gb(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],i;return t?t.call(r):(r=typeof Ae=="function"?Ae(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=r[c]&&function(d){return new Promise(function(g,p){d=r[c](d),o(g,p,d.done,d.value)})}}function o(c,d,g,p){Promise.resolve(p).then(function(m){c({value:m,done:g})},d)}}var pb="Event tracked successfully",mb="Unexpected error occurred",yb="Event rejected due to exceeded retry count",_b="Event skipped due to optOut config",Eb="Event rejected due to missing API key",Tb="Invalid API key",bb="Client not initialized",Te;(function(r){r.Unknown="unknown",r.Skipped="skipped",r.Success="success",r.RateLimit="rate_limit",r.PayloadTooLarge="payload_too_large",r.Invalid="invalid",r.Failed="failed",r.Timeout="Timeout",r.SystemError="SystemError"})(Te||(Te={}));var Ds=function(r,t,i){return t===void 0&&(t=0),i===void 0&&(i=Te.Unknown),{event:r,code:t,message:i}},Ps=function(r){return r?(r^Math.random()*16>>r/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Ps)},Ab=function(){function r(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return r.prototype.register=function(t,i){var s,o;return ot(this,void 0,void 0,function(){return at(this,function(c){switch(c.label){case 0:return this.plugins.some(function(d){return d.name===t.name})?(i.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Ps(),i.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(s=t.type)!==null&&s!==void 0?s:"enrichment",[4,(o=t.setup)===null||o===void 0?void 0:o.call(t,i,this.client)]);case 1:return c.sent(),this.plugins.push(t),[2]}})})},r.prototype.deregister=function(t,i){var s;return ot(this,void 0,void 0,function(){var o,c;return at(this,function(d){switch(d.label){case 0:return o=this.plugins.findIndex(function(g){return g.name===t}),o===-1?(i.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(c=this.plugins[o],this.plugins.splice(o,1),[4,(s=c.teardown)===null||s===void 0?void 0:s.call(c)]);case 1:return d.sent(),[2]}})})},r.prototype.reset=function(t){this.applying=!1;var i=this.plugins;i.map(function(s){var o;return(o=s.teardown)===null||o===void 0?void 0:o.call(s)}),this.plugins=[],this.client=t},r.prototype.push=function(t){var i=this;return new Promise(function(s){i.queue.push([t,s]),i.scheduleApply(0)})},r.prototype.scheduleApply=function(t){var i=this;this.applying||(this.applying=!0,setTimeout(function(){i.apply(i.queue.shift()).then(function(){i.applying=!1,i.queue.length>0&&i.scheduleApply(0)})},t))},r.prototype.apply=function(t){return ot(this,void 0,void 0,function(){var i,s,o,c,d,g,p,M,P,m,E,S,C,M,P,j,F,Q,H,X,$,nt;return at(this,function(st){switch(st.label){case 0:if(!t)return[2];i=zt(t,1),s=i[0],o=zt(t,2),c=o[1],d=this.plugins.filter(function(N){return N.type==="before"}),st.label=1;case 1:st.trys.push([1,6,7,8]),g=Ae(d),p=g.next(),st.label=2;case 2:return p.done?[3,5]:(M=p.value,M.execute?[4,M.execute(ht({},s))]:[3,4]);case 3:if(P=st.sent(),P===null)return c({event:s,code:0,message:""}),[2];s=P,st.label=4;case 4:return p=g.next(),[3,2];case 5:return[3,8];case 6:return m=st.sent(),H={error:m},[3,8];case 7:try{p&&!p.done&&(X=g.return)&&X.call(g)}finally{if(H)throw H.error}return[7];case 8:E=this.plugins.filter(function(N){return N.type==="enrichment"||N.type===void 0}),st.label=9;case 9:st.trys.push([9,14,15,16]),S=Ae(E),C=S.next(),st.label=10;case 10:return C.done?[3,13]:(M=C.value,M.execute?[4,M.execute(ht({},s))]:[3,12]);case 11:if(P=st.sent(),P===null)return c({event:s,code:0,message:""}),[2];s=P,st.label=12;case 12:return C=S.next(),[3,10];case 13:return[3,16];case 14:return j=st.sent(),$={error:j},[3,16];case 15:try{C&&!C.done&&(nt=S.return)&&nt.call(S)}finally{if($)throw $.error}return[7];case 16:return F=this.plugins.filter(function(N){return N.type==="destination"}),Q=F.map(function(N){var w=ht({},s);return N.execute(w).catch(function(A){return Ds(w,0,String(A))})}),Promise.all(Q).then(function(N){var w=zt(N,1),A=w[0],O=A||Ds(s,100,"Event not tracked, no destination plugins on the instance");c(O)}),[2]}})})},r.prototype.flush=function(){return ot(this,void 0,void 0,function(){var t,i,s,o=this;return at(this,function(c){switch(c.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(d){return o.apply(d)}))];case 1:return c.sent(),i=this.plugins.filter(function(d){return d.type==="destination"}),s=i.map(function(d){return d.flush&&d.flush()}),[4,Promise.all(s)];case 2:return c.sent(),[2]}})})},r}(),Mm="-",Ic="AMP",Sb="".concat(Ic,"_unsent"),b0="https://api2.amplitude.com/2/httpapi",wb="https://api.eu.amplitude.com/2/httpapi",Rb="https://api2.amplitude.com/batch",Cb="https://api.eu.amplitude.com/batch",Db=1e3,dd=function(r){if(Object.keys(r).length>Db)return!1;for(var t in r){var i=r[t];if(!A0(t,i))return!1}return!0},A0=function(r,t){var i,s;if(typeof r!="string")return!1;if(Array.isArray(t)){var o=!0;try{for(var c=Ae(t),d=c.next();!d.done;d=c.next()){var g=d.value;if(Array.isArray(g))return!1;if(typeof g=="object")o=o&&dd(g);else if(!["number","string"].includes(typeof g))return!1;if(!o)return!1}}catch(p){i={error:p}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}else{if(t==null)return!1;if(typeof t=="object")return dd(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},oc=function(){function r(){this._propertySet=new Set,this._properties={}}return r.prototype.getUserProperties=function(){return ht({},this._properties)},r.prototype.set=function(t,i){return this._safeSet(We.SET,t,i),this},r.prototype.setOnce=function(t,i){return this._safeSet(We.SET_ONCE,t,i),this},r.prototype.append=function(t,i){return this._safeSet(We.APPEND,t,i),this},r.prototype.prepend=function(t,i){return this._safeSet(We.PREPEND,t,i),this},r.prototype.postInsert=function(t,i){return this._safeSet(We.POSTINSERT,t,i),this},r.prototype.preInsert=function(t,i){return this._safeSet(We.PREINSERT,t,i),this},r.prototype.remove=function(t,i){return this._safeSet(We.REMOVE,t,i),this},r.prototype.add=function(t,i){return this._safeSet(We.ADD,t,i),this},r.prototype.unset=function(t){return this._safeSet(We.UNSET,t,Mm),this},r.prototype.clearAll=function(){return this._properties={},this._properties[We.CLEAR_ALL]=Mm,this},r.prototype._safeSet=function(t,i,s){if(this._validate(t,i,s)){var o=this._properties[t];return o===void 0&&(o={},this._properties[t]=o),o[i]=s,this._propertySet.add(i),!0}return!1},r.prototype._validate=function(t,i,s){return this._properties[We.CLEAR_ALL]!==void 0||this._propertySet.has(i)?!1:t===We.ADD?typeof s=="number":t!==We.UNSET&&t!==We.REMOVE?A0(i,s):!0},r}(),We;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(We||(We={}));var Vm;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(Vm||(Vm={}));var Ns;(function(r){r.IDENTIFY="$identify",r.GROUP_IDENTIFY="$groupidentify",r.REVENUE="revenue_amount"})(Ns||(Ns={}));var Ib=function(r,t,i){var s=typeof r=="string"?{event_type:r}:r;return ht(ht(ht({},s),i),t&&{event_properties:t})},S0=function(r,t){var i=ht(ht({},t),{event_type:Ns.IDENTIFY,user_properties:r.getUserProperties()});return i},Ob=function(r,t,i,s){var o,c=ht(ht({},s),{event_type:Ns.GROUP_IDENTIFY,group_properties:i.getUserProperties(),groups:(o={},o[r]=t,o)});return c},Nb=function(r,t,i){var s,o=new oc;o.set(r,t);var c=ht(ht({},i),{event_type:Ns.IDENTIFY,user_properties:o.getUserProperties(),groups:(s={},s[r]=t,s)});return c},Mb=function(r,t){return ht(ht({},t),{event_type:Ns.REVENUE,event_properties:r.getEventProperties()})},fn=function(r){return{promise:r||Promise.resolve()}},Vb=function(){function r(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Ab(this),this.name=t}return r.prototype._init=function(t){return ot(this,void 0,void 0,function(){return at(this,function(i){switch(i.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return i.sent(),this.isReady=!0,[2]}})})},r.prototype.runQueuedFunctions=function(t){return ot(this,void 0,void 0,function(){var i,s,o,c,d,g,p,m;return at(this,function(E){switch(E.label){case 0:i=this[t],this[t]=[],E.label=1;case 1:E.trys.push([1,8,9,10]),s=Ae(i),o=s.next(),E.label=2;case 2:return o.done?[3,7]:(c=o.value,d=c(),d&&"promise"in d?[4,d.promise]:[3,4]);case 3:return E.sent(),[3,6];case 4:return[4,d];case 5:E.sent(),E.label=6;case 6:return o=s.next(),[3,2];case 7:return[3,10];case 8:return g=E.sent(),p={error:g},[3,10];case 9:try{o&&!o.done&&(m=s.return)&&m.call(s)}finally{if(p)throw p.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:E.sent(),E.label=12;case 12:return[2]}})})},r.prototype.track=function(t,i,s){var o=Ib(t,i,s);return fn(this.dispatch(o))},r.prototype.identify=function(t,i){var s=S0(t,i);return fn(this.dispatch(s))},r.prototype.groupIdentify=function(t,i,s,o){var c=Ob(t,i,s,o);return fn(this.dispatch(c))},r.prototype.setGroup=function(t,i,s){var o=Nb(t,i,s);return fn(this.dispatch(o))},r.prototype.revenue=function(t,i){var s=Mb(t,i);return fn(this.dispatch(s))},r.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),fn())},r.prototype._addPlugin=function(t){return fn(this.timeline.register(t,this.config))},r.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),fn())},r.prototype._removePlugin=function(t){return fn(this.timeline.deregister(t,this.config))},r.prototype.dispatchWithCallback=function(t,i){if(!this.isReady)return i(Ds(t,0,bb));this.process(t).then(i)},r.prototype.dispatch=function(t){return ot(this,void 0,void 0,function(){var i=this;return at(this,function(s){return this.isReady?[2,this.process(t)]:[2,new Promise(function(o){i.dispatchQ.push(i.dispatchWithCallback.bind(i,t,o))})]})})},r.prototype.process=function(t){return ot(this,void 0,void 0,function(){var o,i,s,o;return at(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this.config.optOut?[2,Ds(t,0,_b)]:[4,this.timeline.push(t)];case 1:return o=c.sent(),o.code===200?this.config.loggerProvider.log(o.message):o.code===100?this.config.loggerProvider.warn(o.message):this.config.loggerProvider.error(o.message),[2,o];case 2:return i=c.sent(),s=String(i),this.config.loggerProvider.error(s),o=Ds(t,0,s),[2,o];case 3:return[2]}})})},r.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},r.prototype._setOptOut=function(t){this.config.optOut=!!t},r.prototype.flush=function(){return fn(this.timeline.flush())},r}(),Ub=function(){function r(){this.productId="",this.quantity=1,this.price=0}return r.prototype.setProductId=function(t){return this.productId=t,this},r.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},r.prototype.setPrice=function(t){return this.price=t,this},r.prototype.setRevenueType=function(t){return this.revenueType=t,this},r.prototype.setCurrency=function(t){return this.currency=t,this},r.prototype.setRevenue=function(t){return this.revenue=t,this},r.prototype.setReceipt=function(t){return this.receipt=t,this},r.prototype.setReceiptSig=function(t){return this.receiptSig=t,this},r.prototype.setEventProperties=function(t){return dd(t)&&(this.properties=t),this},r.prototype.getEventProperties=function(){var t=this.properties?ht({},this.properties):{};return t[mi.REVENUE_PRODUCT_ID]=this.productId,t[mi.REVENUE_QUANTITY]=this.quantity,t[mi.REVENUE_PRICE]=this.price,t[mi.REVENUE_TYPE]=this.revenueType,t[mi.REVENUE_CURRENCY]=this.currency,t[mi.REVENUE]=this.revenue,t[mi.RECEIPT]=this.receipt,t[mi.RECEIPT_SIG]=this.receiptSig,t},r}(),mi;(function(r){r.REVENUE_PRODUCT_ID="$productId",r.REVENUE_QUANTITY="$quantity",r.REVENUE_PRICE="$price",r.REVENUE_TYPE="$revenueType",r.REVENUE_CURRENCY="$currency",r.REVENUE="$revenue",r.RECEIPT="$receipt",r.RECEIPT_SIG="$receiptSig"})(mi||(mi={}));var Lb=function(r,t){var i=Math.max(t,1);return r.reduce(function(s,o,c){var d=Math.floor(c/i);return s[d]||(s[d]=[]),s[d].push(o),s},[])},bn;(function(r){r[r.None=0]="None",r[r.Error=1]="Error",r[r.Warn=2]="Warn",r[r.Verbose=3]="Verbose",r[r.Debug=4]="Debug"})(bn||(bn={}));var Bl="Amplitude Logger ",w0=function(){function r(){this.logLevel=bn.None}return r.prototype.disable=function(){this.logLevel=bn.None},r.prototype.enable=function(t){t===void 0&&(t=bn.Warn),this.logLevel=t},r.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<bn.Verbose||console.log("".concat(Bl,"[Log]: ").concat(t.join(" ")))},r.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<bn.Warn||console.warn("".concat(Bl,"[Warn]: ").concat(t.join(" ")))},r.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<bn.Error||console.error("".concat(Bl,"[Error]: ").concat(t.join(" ")))},r.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<bn.Debug||console.log("".concat(Bl,"[Debug]: ").concat(t.join(" ")))},r}(),Jl=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:bn.Warn,loggerProvider:new w0,offline:!1,optOut:!1,serverUrl:b0,serverZone:"US",useBatch:!1}},xb=function(){function r(t){var i,s,o,c;this._optOut=!1;var d=Jl();this.apiKey=t.apiKey,this.flushIntervalMillis=(i=t.flushIntervalMillis)!==null&&i!==void 0?i:d.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||d.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||d.flushQueueSize,this.instanceName=t.instanceName||d.instanceName,this.loggerProvider=t.loggerProvider||d.loggerProvider,this.logLevel=(s=t.logLevel)!==null&&s!==void 0?s:d.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:d.offline,this.optOut=(o=t.optOut)!==null&&o!==void 0?o:d.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||d.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(c=t.useBatch)!==null&&c!==void 0?c:d.useBatch,this.loggerProvider.enable(this.logLevel);var g=R0(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=g.serverZone,this.serverUrl=g.serverUrl}return Object.defineProperty(r.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),r}(),Pb=function(r,t){return r==="EU"?t?Cb:wb:t?Rb:b0},R0=function(r,t,i){if(r===void 0&&(r=""),t===void 0&&(t=Jl().serverZone),i===void 0&&(i=Jl().useBatch),r)return{serverUrl:r,serverZone:void 0};var s=["US","EU"].includes(t)?t:Jl().serverZone;return{serverZone:s,serverUrl:Pb(s,i)}},C0=function(){function r(){this.sdk={metrics:{histogram:{}}}}return r.prototype.recordHistogram=function(t,i){this.sdk.metrics.histogram[t]=i},r}();function kb(r){return r instanceof Error?r.message:String(r)}function ql(r){var t="";try{"body"in r&&(t=JSON.stringify(r.body,null,2))}catch{}return t}var zb=function(){function r(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return r.prototype.setup=function(t){var i;return ot(this,void 0,void 0,function(){var s,o=this;return at(this,function(c){switch(c.label){case 0:return this.config=t,this.storageKey="".concat(Sb,"_").concat(this.config.apiKey.substring(0,10)),[4,(i=this.config.storageProvider)===null||i===void 0?void 0:i.get(this.storageKey)];case 1:return s=c.sent(),s&&s.length>0&&Promise.all(s.map(function(d){return o.execute(d)})).catch(),[2,Promise.resolve(void 0)]}})})},r.prototype.execute=function(t){var i=this;return t.insert_id||(t.insert_id=Ps()),new Promise(function(s){var o={event:t,attempts:0,callback:function(c){return s(c)},timeout:0};i.queue.push(o),i.schedule(i.config.flushIntervalMillis),i.saveEvents()})},r.prototype.removeEventsExceedFlushMaxRetries=function(t){var i=this;return t.filter(function(s){return s.attempts+=1,s.attempts<i.config.flushMaxRetries?!0:(i.fulfillRequest([s],500,yb),!1)})},r.prototype.scheduleEvents=function(t){var i=this;t.forEach(function(s){i.schedule(s.timeout===0?i.config.flushIntervalMillis:s.timeout)})},r.prototype.schedule=function(t){var i=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&t>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=t,this.scheduleId=setTimeout(function(){i.queue=i.queue.map(function(s){return s.timeout=0,s}),i.flush(!0)},t);return}},r.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},r.prototype.flush=function(t){return t===void 0&&(t=!1),ot(this,void 0,void 0,function(){var i,s,o,c=this;return at(this,function(d){switch(d.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),i=[],s=[],this.queue.forEach(function(g){return g.timeout===0?i.push(g):s.push(g)}),o=Lb(i,this.config.flushQueueSize),[4,o.reduce(function(g,p){return ot(c,void 0,void 0,function(){return at(this,function(m){switch(m.label){case 0:return[4,g];case 1:return m.sent(),[4,this.send(p,t)];case 2:return[2,m.sent()]}})})},Promise.resolve())]);case 1:return d.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},r.prototype.send=function(t,i){return i===void 0&&(i=!0),ot(this,void 0,void 0,function(){var s,o,c,d,g;return at(this,function(p){switch(p.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,Eb)];s={api_key:this.config.apiKey,events:t.map(function(m){var E=m.event;E.extra;var S=hd(E,["extra"]);return S}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new C0,p.label=1;case 1:return p.trys.push([1,3,,4]),o=R0(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(o,s)];case 2:return c=p.sent(),c===null?(this.fulfillRequest(t,0,mb),[2]):i?(this.handleResponse(c,t),[3,4]):("body"in c?this.fulfillRequest(t,c.statusCode,"".concat(c.status,": ").concat(ql(c))):this.fulfillRequest(t,c.statusCode,c.status),[2]);case 3:return d=p.sent(),g=kb(d),this.config.loggerProvider.error(g),this.handleResponse({status:Te.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},r.prototype.handleResponse=function(t,i){var s=t.status;switch(s){case Te.Success:{this.handleSuccessResponse(t,i);break}case Te.Invalid:{this.handleInvalidResponse(t,i);break}case Te.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,i);break}case Te.RateLimit:{this.handleRateLimitResponse(t,i);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(s,"' provided for ").concat(i.length,' events"}')),this.handleOtherResponse(i);break}}},r.prototype.handleSuccessResponse=function(t,i){this.fulfillRequest(i,t.statusCode,pb)},r.prototype.handleInvalidResponse=function(t,i){var s=this;if(t.body.missingField||t.body.error.startsWith(Tb)){this.fulfillRequest(i,t.statusCode,t.body.error);return}var o=he(he(he(he([],zt(Object.values(t.body.eventsWithInvalidFields)),!1),zt(Object.values(t.body.eventsWithMissingFields)),!1),zt(Object.values(t.body.eventsWithInvalidIdLengths)),!1),zt(t.body.silencedEvents),!1).flat(),c=new Set(o),d=i.filter(function(p,m){if(c.has(m)){s.fulfillRequest([p],t.statusCode,t.body.error);return}return!0});d.length>0&&this.config.loggerProvider.warn(ql(t));var g=this.removeEventsExceedFlushMaxRetries(d);this.scheduleEvents(g)},r.prototype.handlePayloadTooLargeResponse=function(t,i){if(i.length===1){this.fulfillRequest(i,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(ql(t)),this.config.flushQueueSize/=2;var s=this.removeEventsExceedFlushMaxRetries(i);this.scheduleEvents(s)},r.prototype.handleRateLimitResponse=function(t,i){var s=this,o=Object.keys(t.body.exceededDailyQuotaUsers),c=Object.keys(t.body.exceededDailyQuotaDevices),d=t.body.throttledEvents,g=new Set(o),p=new Set(c),m=new Set(d),E=i.filter(function(C,M){if(C.event.user_id&&g.has(C.event.user_id)||C.event.device_id&&p.has(C.event.device_id)){s.fulfillRequest([C],t.statusCode,t.body.error);return}return m.has(M)&&(C.timeout=s.throttleTimeout),!0});E.length>0&&this.config.loggerProvider.warn(ql(t));var S=this.removeEventsExceedFlushMaxRetries(E);this.scheduleEvents(S)},r.prototype.handleOtherResponse=function(t){var i=this,s=t.map(function(c){return c.timeout=c.attempts*i.retryTimeout,c}),o=this.removeEventsExceedFlushMaxRetries(s);this.scheduleEvents(o)},r.prototype.fulfillRequest=function(t,i,s){this.removeEvents(t),t.forEach(function(o){return o.callback(Ds(o.event,i,s))})},r.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(i){return i.event});this.config.storageProvider.set(this.storageKey,t)}},r.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(i){return!t.some(function(s){return s.event.insert_id===i.event.insert_id})}),this.saveEvents()},r}(),Bb=function(){function r(){}return r.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:qb(),platform:"Web",os:void 0,deviceModel:void 0}},r}(),qb=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Hb=function(){function r(){this.queue=[]}return r.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},r.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(i){t(i)}),this.queue=[])},r}(),xr=function(){return xr=Object.assign||function(t){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},xr.apply(this,arguments)};function Wl(r){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&r[t],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Um(r,t){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),o,c=[],d;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)c.push(o.value)}catch(g){d={error:g}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(d)throw d.error}}return c}var tc=function(r,t){var i,s,o=["string","number","boolean","undefined"],c=typeof r,d=typeof t;if(c!==d)return!1;try{for(var g=Wl(o),p=g.next();!p.done;p=g.next()){var m=p.value;if(m===c)return r===t}}catch(F){i={error:F}}finally{try{p&&!p.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(r==null&&t==null)return!0;if(r==null||t==null||r.length!==t.length)return!1;var E=Array.isArray(r),S=Array.isArray(t);if(E!==S)return!1;if(E&&S){for(var C=0;C<r.length;C++)if(!tc(r[C],t[C]))return!1}else{var M=Object.keys(r).sort(),P=Object.keys(t).sort();if(!tc(M,P))return!1;var j=!0;return Object.keys(r).forEach(function(F){tc(r[F],t[F])||(j=!1)}),j}return!0},jb="$set",Gb="$unset",Fb="$clearAll";Object.entries||(Object.entries=function(r){for(var t=Object.keys(r),i=t.length,s=new Array(i);i--;)s[i]=[t[i],r[t[i]]];return s});var Qb=function(){function r(){this.identity={userProperties:{}},this.listeners=new Set}return r.prototype.editIdentity=function(){var t=this,i=xr({},this.identity.userProperties),s=xr(xr({},this.identity),{userProperties:i});return{setUserId:function(o){return s.userId=o,this},setDeviceId:function(o){return s.deviceId=o,this},setUserProperties:function(o){return s.userProperties=o,this},setOptOut:function(o){return s.optOut=o,this},updateUserProperties:function(o){var c,d,g,p,m,E,S=s.userProperties||{};try{for(var C=Wl(Object.entries(o)),M=C.next();!M.done;M=C.next()){var P=Um(M.value,2),j=P[0],F=P[1];switch(j){case jb:try{for(var Q=(g=void 0,Wl(Object.entries(F))),H=Q.next();!H.done;H=Q.next()){var X=Um(H.value,2),$=X[0],nt=X[1];S[$]=nt}}catch(w){g={error:w}}finally{try{H&&!H.done&&(p=Q.return)&&p.call(Q)}finally{if(g)throw g.error}}break;case Gb:try{for(var st=(m=void 0,Wl(Object.keys(F))),N=st.next();!N.done;N=st.next()){var $=N.value;delete S[$]}}catch(w){m={error:w}}finally{try{N&&!N.done&&(E=st.return)&&E.call(st)}finally{if(m)throw m.error}}break;case Fb:S={};break}}}catch(w){c={error:w}}finally{try{M&&!M.done&&(d=C.return)&&d.call(C)}finally{if(c)throw c.error}}return s.userProperties=S,this},commit:function(){return t.setIdentity(s),this}}},r.prototype.getIdentity=function(){return xr({},this.identity)},r.prototype.setIdentity=function(t){var i=xr({},this.identity);this.identity=xr({},t),tc(i,this.identity)||this.listeners.forEach(function(s){s(t)})},r.prototype.addIdentityListener=function(t){this.listeners.add(t)},r.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},r}(),Ko=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Yb=function(){function r(){this.identityStore=new Qb,this.eventBridge=new Hb,this.applicationContextProvider=new Bb}return r.getInstance=function(t){return Ko.analyticsConnectorInstances||(Ko.analyticsConnectorInstances={}),Ko.analyticsConnectorInstances[t]||(Ko.analyticsConnectorInstances[t]=new r),Ko.analyticsConnectorInstances[t]},r}(),iu=function(r){return r===void 0&&(r="$default_instance"),Yb.getInstance(r)},Xb=function(r,t){iu(t).identityStore.editIdentity().setUserId(r).commit()},Kb=function(r,t){iu(t).identityStore.editIdentity().setDeviceId(r).commit()},$b=function(){function r(){this.name="identity",this.type="before",this.identityStore=iu().identityStore}return r.prototype.execute=function(t){return ot(this,void 0,void 0,function(){var i;return at(this,function(s){return i=t.user_properties,i&&this.identityStore.editIdentity().updateUserProperties(i).commit(),[2,t]})})},r.prototype.setup=function(t){return ot(this,void 0,void 0,function(){return at(this,function(i){return t.instanceName&&(this.identityStore=iu(t.instanceName).identityStore),[2]})})},r}(),Ei=function(){var r="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[r]<"u")return globalThis[r];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},D0=function(r,t){t===void 0&&(t=Date.now());var i=Date.now(),s=i-t;return s>r},I0=function(r,t,i){return t===void 0&&(t=""),i===void 0&&(i=10),[Ic,t,r.substring(0,i)].filter(Boolean).join("_")},Zb=function(r){return"".concat(Ic.toLowerCase(),"_").concat(r.substring(0,6))},Jb=function(){var r,t,i,s;if(typeof navigator>"u")return"";var o=navigator.userLanguage;return(s=(i=(t=(r=navigator.languages)===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:navigator.language)!==null&&i!==void 0?i:o)!==null&&s!==void 0?s:""},uc=function(){var r,t=Ei();if(!(!((r=t==null?void 0:t.location)===null||r===void 0)&&r.search))return{};var i=t.location.search.substring(1).split("&").filter(Boolean),s=i.reduce(function(o,c){var d=c.split("=",2),g=Lm(d[0]),p=Lm(d[1]);return p&&(o[g]=p),o},{});return s},Lm=function(r){r===void 0&&(r="");try{return decodeURIComponent(r)}catch{return""}},Wb=function(r){var t=new Error().stack||"";return t.split(`
`).slice(2+r).map(function(i){return i.trim()})},me=function(r){return function(){var t=ht({},r.config),i=t.loggerProvider,s=t.logLevel;return{logger:i,logLevel:s}}},tA=function(r,t){var i,s;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var o=Ae(t.split(".")),c=o.next();!c.done;c=o.next()){var d=c.value;if(d in r)r=r[d];else return}}catch(g){i={error:g}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return r},ye=function(r,t){return function(){var i,s,o={};try{for(var c=Ae(t),d=c.next();!d.done;d=c.next()){var g=d.value;o[g]=tA(r,g)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return o}},_e=function(r,t,i,s,o){return o===void 0&&(o=null),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var g=i(),p=g.logger,m=g.logLevel;if(m&&m<bn.Debug||!m||!p)return r.apply(o,c);var E={type:"invoke public method",name:t,args:c,stacktrace:Wb(1),time:{start:new Date().toISOString()},states:{}};s&&E.states&&(E.states.before=s());var S=r.apply(o,c);return S&&S.promise?S.promise.then(function(){s&&E.states&&(E.states.after=s()),E.time&&(E.time.end=new Date().toISOString()),p.debug(JSON.stringify(E,null,2))}):(s&&E.states&&(E.states.after=s()),E.time&&(E.time.end=new Date().toISOString()),p.debug(JSON.stringify(E,null,2))),S}},zd=function(){function r(){this.memoryStorage=new Map}return r.prototype.isEnabled=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){return[2,!0]})})},r.prototype.get=function(t){return ot(this,void 0,void 0,function(){return at(this,function(i){return[2,this.memoryStorage.get(t)]})})},r.prototype.getRaw=function(t){return ot(this,void 0,void 0,function(){var i;return at(this,function(s){switch(s.label){case 0:return[4,this.get(t)];case 1:return i=s.sent(),[2,i?JSON.stringify(i):void 0]}})})},r.prototype.set=function(t,i){return ot(this,void 0,void 0,function(){return at(this,function(s){return this.memoryStorage.set(t,i),[2]})})},r.prototype.remove=function(t){return ot(this,void 0,void 0,function(){return at(this,function(i){return this.memoryStorage.delete(t),[2]})})},r.prototype.reset=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){return this.memoryStorage.clear(),[2]})})},r}(),vd=function(){function r(t){this.options=ht({},t)}return r.prototype.isEnabled=function(){return ot(this,void 0,void 0,function(){var t,i,s;return at(this,function(o){switch(o.label){case 0:if(!Ei())return[2,!1];r.testValue=String(Date.now()),t=new r(this.options),i="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,t.set(i,r.testValue)];case 2:return o.sent(),[4,t.get(i)];case 3:return s=o.sent(),[2,s===r.testValue];case 4:return o.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return o.sent(),[7];case 7:return[2]}})})},r.prototype.get=function(t){var i;return ot(this,void 0,void 0,function(){var s,o;return at(this,function(c){switch(c.label){case 0:return[4,this.getRaw(t)];case 1:if(s=c.sent(),!s)return[2,void 0];try{return o=(i=eA(s))!==null&&i!==void 0?i:nA(s),o===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]):[2,JSON.parse(o)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]}return[2]}})})},r.prototype.getRaw=function(t){var i,s;return ot(this,void 0,void 0,function(){var o,c,d;return at(this,function(g){return o=Ei(),c=(s=(i=o==null?void 0:o.document)===null||i===void 0?void 0:i.cookie.split("; "))!==null&&s!==void 0?s:[],d=c.find(function(p){return p.indexOf(t+"=")===0}),d?[2,d.substring(t.length+1)]:[2,void 0]})})},r.prototype.set=function(t,i){var s;return ot(this,void 0,void 0,function(){var o,c,d,g,p,m,E;return at(this,function(S){try{o=(s=this.options.expirationDays)!==null&&s!==void 0?s:0,c=i!==null?o:-1,d=void 0,c&&(g=new Date,g.setTime(g.getTime()+c*24*60*60*1e3),d=g),p="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(i)))),d&&(p+="; expires=".concat(d.toUTCString())),p+="; path=/",this.options.domain&&(p+="; domain=".concat(this.options.domain)),this.options.secure&&(p+="; Secure"),this.options.sameSite&&(p+="; SameSite=".concat(this.options.sameSite)),m=Ei(),m&&(m.document.cookie=p)}catch(C){E=C instanceof Error?C.message:String(C),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(E))}return[2]})})},r.prototype.remove=function(t){return ot(this,void 0,void 0,function(){return at(this,function(i){switch(i.label){case 0:return[4,this.set(t,null)];case 1:return i.sent(),[2]}})})},r.prototype.reset=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){return[2]})})},r}(),eA=function(r){try{return decodeURIComponent(atob(r))}catch{return}},nA=function(r){try{return decodeURIComponent(atob(decodeURIComponent(r)))}catch{return}},iA=function(r,t,i){return i===void 0&&(i=10),[Ic,t,r.substring(0,i)].filter(Boolean).join("_")},Oc=function(){function r(){}return r.prototype.send=function(t,i){return Promise.resolve(null)},r.prototype.buildResponse=function(t){var i,s,o,c,d,g,p,m,E,S,C,M,P,j,F,Q,H,X,$,nt,st,N;if(typeof t!="object")return null;var w=t.code||0,A=this.buildStatus(w);switch(A){case Te.Success:return{status:A,statusCode:w,body:{eventsIngested:(i=t.events_ingested)!==null&&i!==void 0?i:0,payloadSizeBytes:(s=t.payload_size_bytes)!==null&&s!==void 0?s:0,serverUploadTime:(o=t.server_upload_time)!==null&&o!==void 0?o:0}};case Te.Invalid:return{status:A,statusCode:w,body:{error:(c=t.error)!==null&&c!==void 0?c:"",missingField:(d=t.missing_field)!==null&&d!==void 0?d:"",eventsWithInvalidFields:(g=t.events_with_invalid_fields)!==null&&g!==void 0?g:{},eventsWithMissingFields:(p=t.events_with_missing_fields)!==null&&p!==void 0?p:{},eventsWithInvalidIdLengths:(m=t.events_with_invalid_id_lengths)!==null&&m!==void 0?m:{},epsThreshold:(E=t.eps_threshold)!==null&&E!==void 0?E:0,exceededDailyQuotaDevices:(S=t.exceeded_daily_quota_devices)!==null&&S!==void 0?S:{},silencedDevices:(C=t.silenced_devices)!==null&&C!==void 0?C:[],silencedEvents:(M=t.silenced_events)!==null&&M!==void 0?M:[],throttledDevices:(P=t.throttled_devices)!==null&&P!==void 0?P:{},throttledEvents:(j=t.throttled_events)!==null&&j!==void 0?j:[]}};case Te.PayloadTooLarge:return{status:A,statusCode:w,body:{error:(F=t.error)!==null&&F!==void 0?F:""}};case Te.RateLimit:return{status:A,statusCode:w,body:{error:(Q=t.error)!==null&&Q!==void 0?Q:"",epsThreshold:(H=t.eps_threshold)!==null&&H!==void 0?H:0,throttledDevices:(X=t.throttled_devices)!==null&&X!==void 0?X:{},throttledUsers:($=t.throttled_users)!==null&&$!==void 0?$:{},exceededDailyQuotaDevices:(nt=t.exceeded_daily_quota_devices)!==null&&nt!==void 0?nt:{},exceededDailyQuotaUsers:(st=t.exceeded_daily_quota_users)!==null&&st!==void 0?st:{},throttledEvents:(N=t.throttled_events)!==null&&N!==void 0?N:[]}};case Te.Timeout:default:return{status:A,statusCode:w}}},r.prototype.buildStatus=function(t){return t>=200&&t<300?Te.Success:t===429?Te.RateLimit:t===413?Te.PayloadTooLarge:t===408?Te.Timeout:t>=400&&t<500?Te.Invalid:t>=500?Te.Failed:Te.Unknown},r}(),rA=function(r){Sn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ot(this,void 0,void 0,function(){var o,c,d;return at(this,function(g){switch(g.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return o={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(s),method:"POST"},[4,fetch(i,o)];case 1:return c=g.sent(),[4,c.text()];case 2:d=g.sent();try{return[2,this.buildResponse(JSON.parse(d))]}catch{return[2,this.buildResponse({code:c.status})]}return[2]}})})},t}(Oc),aA=null,sA=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],oA="data-amp-track-",uA=["div","span","h1","h2","h3","h4","h5","h6"],du=function(r,t){return typeof r=="boolean"?r:(r==null?void 0:r[t])!==!1},O0=function(r){return du(r,"attribution")},lA=function(r){return du(r,"fileDownloads")},cA=function(r){return du(r,"formInteractions")},N0=function(r){return du(r,"pageViews")},xm=function(r){return du(r,"sessions")},M0=function(r){return typeof r=="boolean"?r:typeof r=="object"&&(r.elementInteractions===!0||typeof r.elementInteractions=="object")},fA=function(r){if(M0(r.autocapture)&&typeof r.autocapture=="object"&&typeof r.autocapture.elementInteractions=="object")return r.autocapture.elementInteractions},hA=function(r){var t=function(){return!1},i=void 0,s,o=r.pageCounter,c=N0(r.defaultTracking);return c&&(t=void 0,s=void 0,r.defaultTracking&&typeof r.defaultTracking=="object"&&r.defaultTracking.pageViews&&typeof r.defaultTracking.pageViews=="object"&&("trackOn"in r.defaultTracking.pageViews&&(t=r.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in r.defaultTracking.pageViews&&(i=r.defaultTracking.pageViews.trackHistoryChanges),"eventType"in r.defaultTracking.pageViews&&r.defaultTracking.pageViews.eventType&&(s=r.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:i,eventType:s,pageCounter:o}},dA=function(r){return O0(r.defaultTracking)&&r.defaultTracking&&typeof r.defaultTracking=="object"&&r.defaultTracking.attribution&&typeof r.defaultTracking.attribution=="object"?ht({},r.defaultTracking.attribution):{}},Xh=function(r,t){for(var i=0;i<t.length;i++){var s=t[i],o=s.name,c=s.args,d=s.resolve,g=r&&r[o];if(typeof g=="function"){var p=g.apply(r,c);typeof d=="function"&&d(p==null?void 0:p.promise)}}return r},Kh=function(r){var t=r;return t&&t._q!==void 0},vA="2.12.0",gA="amplitude-ts",pA="Web",mA="$remote",yA=function(){function r(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(gA,"/").concat(vA),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return r.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},r.prototype.execute=function(t){return ot(this,void 0,void 0,function(){var i,s,o,c,d,g;return at(this,function(p){return i=new Date().getTime(),s=(d=this.config.lastEventId)!==null&&d!==void 0?d:-1,o=(g=t.event_id)!==null&&g!==void 0?g:s+1,this.config.lastEventId=o,t.time||(this.config.lastEventTime=i),c=ht(ht(ht(ht(ht(ht(ht(ht({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:pA}),this.config.trackingOptions.language&&{language:Jb()}),this.config.trackingOptions.ipAddress&&{ip:mA}),{insert_id:Ps(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:o,library:this.library,user_agent:this.userAgent}),[2,c]})})},r}(),V0=function(){function r(t){this.storage=t}return r.prototype.isEnabled=function(){return ot(this,void 0,void 0,function(){var t,i,s,o;return at(this,function(c){switch(c.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),i=new r(this.storage),s="AMP_TEST",c.label=1;case 1:return c.trys.push([1,4,5,7]),[4,i.set(s,t)];case 2:return c.sent(),[4,i.get(s)];case 3:return o=c.sent(),[2,o===t];case 4:return c.sent(),[2,!1];case 5:return[4,i.remove(s)];case 6:return c.sent(),[7];case 7:return[2]}})})},r.prototype.get=function(t){return ot(this,void 0,void 0,function(){var i;return at(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return i=s.sent(),i?[2,JSON.parse(i)]:[2,void 0];case 2:return s.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},r.prototype.getRaw=function(t){return ot(this,void 0,void 0,function(){var i;return at(this,function(s){return[2,((i=this.storage)===null||i===void 0?void 0:i.getItem(t))||void 0]})})},r.prototype.set=function(t,i){return ot(this,void 0,void 0,function(){var s;return at(this,function(o){try{(s=this.storage)===null||s===void 0||s.setItem(t,JSON.stringify(i))}catch{}return[2]})})},r.prototype.remove=function(t){return ot(this,void 0,void 0,function(){var i;return at(this,function(s){try{(i=this.storage)===null||i===void 0||i.removeItem(t)}catch{}return[2]})})},r.prototype.reset=function(){return ot(this,void 0,void 0,function(){var t;return at(this,function(i){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},r}(),Hl=1e3,U0=function(r){Sn(t,r);function t(i){var s,o=r.call(this,(s=Ei())===null||s===void 0?void 0:s.localStorage)||this;return o.loggerProvider=i==null?void 0:i.loggerProvider,o}return t.prototype.set=function(i,s){return ot(this,void 0,void 0,function(){var o,c;return at(this,function(d){switch(d.label){case 0:return Array.isArray(s)&&s.length>Hl?(o=s.length-Hl,[4,r.prototype.set.call(this,i,s.slice(0,Hl))]):[3,2];case 1:return d.sent(),(c=this.loggerProvider)===null||c===void 0||c.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Hl,".")),[3,4];case 2:return[4,r.prototype.set.call(this,i,s)];case 3:d.sent(),d.label=4;case 4:return[2]}})})},t}(V0),_A=function(r){Sn(t,r);function t(){var i;return r.call(this,(i=Ei())===null||i===void 0?void 0:i.sessionStorage)||this}return t}(V0),EA=function(r){Sn(t,r);function t(){var i=r.apply(this,he([],zt(arguments),!1))||this;return i.state={done:4},i}return t.prototype.send=function(i,s){return ot(this,void 0,void 0,function(){var o=this;return at(this,function(c){return[2,new Promise(function(d,g){typeof XMLHttpRequest>"u"&&g(new Error("XHRTransport is not supported."));var p=new XMLHttpRequest;p.open("POST",i,!0),p.onreadystatechange=function(){if(p.readyState===o.state.done){var m=p.responseText;try{d(o.buildResponse(JSON.parse(m)))}catch{d(o.buildResponse({code:p.status}))}}},p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("Accept","*/*"),p.send(JSON.stringify(s))})]})})},t}(Oc),TA=function(r){Sn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ot(this,void 0,void 0,function(){var o=this;return at(this,function(c){return[2,new Promise(function(d,g){var p=Ei();if(!(p!=null&&p.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var m=JSON.stringify(s),E=p.navigator.sendBeacon(i,JSON.stringify(s));return d(E?o.buildResponse({code:200,events_ingested:s.events.length,payload_size_bytes:m.length,server_upload_time:Date.now()}):o.buildResponse({code:500}))}catch(S){g(S)}})]})})},t}(Oc),bA=function(r,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return ot(void 0,he([r,t],zt(i),!1),void 0,function(o,c,d){var g,p,m,E,S,C,M,P,j;return d===void 0&&(d=!0),at(this,function(F){switch(F.label){case 0:return g=Zb(o),[4,c.getRaw(g)];case 1:return p=F.sent(),p?d?[4,c.remove(g)]:[3,3]:[2,{optOut:!1}];case 2:F.sent(),F.label=3;case 3:return m=zt(p.split("."),6),E=m[0],S=m[1],C=m[2],M=m[3],P=m[4],j=m[5],[2,{deviceId:E,userId:AA(S),sessionId:$h(M),lastEventId:$h(j),lastEventTime:$h(P),optOut:!!C}]}})})},$h=function(r){var t=parseInt(r,32);if(!isNaN(t))return t},AA=function(r){if(!(!atob||!escape||!r))try{return decodeURIComponent(escape(atob(r)))}catch{return}},Jn="[Amplitude]",Pm="".concat(Jn," Form Started"),SA="".concat(Jn," Form Submitted"),wA="".concat(Jn," File Downloaded"),km="session_start",zm="session_end",RA="".concat(Jn," File Extension"),CA="".concat(Jn," File Name"),DA="".concat(Jn," Link ID"),IA="".concat(Jn," Link Text"),OA="".concat(Jn," Link URL"),Zh="".concat(Jn," Form ID"),Jh="".concat(Jn," Form Name"),Wh="".concat(Jn," Form Destination"),lc="cookie",NA="US",MA=function(r){Sn(t,r);function t(i,s,o,c,d,g,p,m,E,S,C,M,P,j,F,Q,H,X,$,nt,st,N,w,A,O,V,x,I,Gt,Ft,rt,mt,vt,Ct){o===void 0&&(o=new zd),c===void 0&&(c={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),m===void 0&&(m=1e3),E===void 0&&(E=5),S===void 0&&(S=30),C===void 0&&(C=lc),Q===void 0&&(Q=new w0),H===void 0&&(H=bn.Warn),$===void 0&&($=!1),nt===void 0&&(nt=!1),w===void 0&&(w=""),A===void 0&&(A=NA),V===void 0&&(V=30*60*1e3),x===void 0&&(x=new U0({loggerProvider:Q})),I===void 0&&(I={ipAddress:!0,language:!0,platform:!0}),Gt===void 0&&(Gt="fetch"),Ft===void 0&&(Ft=!1),rt===void 0&&(rt=!1);var D=r.call(this,{apiKey:i,storageProvider:x,transportProvider:L0(Gt)})||this;return D.apiKey=i,D.appVersion=s,D.cookieOptions=c,D.defaultTracking=d,D.autocapture=g,D.flushIntervalMillis=m,D.flushMaxRetries=E,D.flushQueueSize=S,D.identityStorage=C,D.ingestionMetadata=M,D.instanceName=P,D.loggerProvider=Q,D.logLevel=H,D.minIdLength=X,D.offline=$,D.partnerId=st,D.plan=N,D.serverUrl=w,D.serverZone=A,D.sessionTimeout=V,D.storageProvider=x,D.trackingOptions=I,D.transport=Gt,D.useBatch=Ft,D.fetchRemoteConfig=rt,D._optOut=!1,D._cookieStorage=o,D.deviceId=p,D.lastEventId=j,D.lastEventTime=F,D.optOut=nt,D.sessionId=O,D.pageCounter=vt,D.userId=mt,D.debugLogsEnabled=Ct,D.loggerProvider.enable(Ct?bn.Debug:D.logLevel),D}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(i){this._cookieStorage!==i&&(this._cookieStorage=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(i){this._deviceId!==i&&(this._deviceId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(i){this._userId!==i&&(this._userId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(i){this._sessionId!==i&&(this._sessionId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(i){this._optOut!==i&&(this._optOut=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(i){this._lastEventTime!==i&&(this._lastEventTime=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(i){this._lastEventId!==i&&(this._lastEventId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(i){this._pageCounter!==i&&(this._pageCounter=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(i){this._debugLogsEnabled!==i&&(this._debugLogsEnabled=i,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(I0(this.apiKey),i)},t}(xb),VA=function(r){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return ot(void 0,he([r],zt(t),!1),void 0,function(s,o,c){var d,g,p,m,E,S,C,M,P,j,F,Q,H,X,$,nt,st,N,w,A,O,V,x,I,Gt,Ft,rt,mt,vt,Ct,D,tt,ft,ut,lt,Tt,Et,te,Ot,Kt,Pt,Se,vn;return o===void 0&&(o={}),at(this,function(de){switch(de.label){case 0:return d=o.identityStorage||lc,w={},d===lc?[3,1]:(p="",[3,5]);case 1:return(O=(A=o.cookieOptions)===null||A===void 0?void 0:A.domain)!==null&&O!==void 0?(m=O,[3,4]):[3,2];case 2:return[4,LA()];case 3:m=de.sent(),de.label=4;case 4:p=m,de.label=5;case 5:return g=ht.apply(void 0,[(w.domain=p,w.expiration=365,w.sameSite="Lax",w.secure=!1,w.upgrade=!0,w),o.cookieOptions]),E=UA(o.identityStorage,g),[4,bA(s,E,(x=(V=o.cookieOptions)===null||V===void 0?void 0:V.upgrade)!==null&&x!==void 0?x:!0)];case 6:return S=de.sent(),[4,E.get(I0(s))];case 7:return C=de.sent(),M=uc(),P=(mt=(rt=(Ft=(Gt=(I=o.deviceId)!==null&&I!==void 0?I:M.ampDeviceId)!==null&&Gt!==void 0?Gt:M.deviceId)!==null&&Ft!==void 0?Ft:C==null?void 0:C.deviceId)!==null&&rt!==void 0?rt:S.deviceId)!==null&&mt!==void 0?mt:Ps(),j=(vt=C==null?void 0:C.lastEventId)!==null&&vt!==void 0?vt:S.lastEventId,F=(Ct=C==null?void 0:C.lastEventTime)!==null&&Ct!==void 0?Ct:S.lastEventTime,Q=(tt=(D=o.optOut)!==null&&D!==void 0?D:C==null?void 0:C.optOut)!==null&&tt!==void 0?tt:S.optOut,H=(ft=C==null?void 0:C.sessionId)!==null&&ft!==void 0?ft:S.sessionId,X=(lt=(ut=o.userId)!==null&&ut!==void 0?ut:C==null?void 0:C.userId)!==null&&lt!==void 0?lt:S.userId,c.previousSessionDeviceId=(Tt=C==null?void 0:C.deviceId)!==null&&Tt!==void 0?Tt:S.deviceId,c.previousSessionUserId=(Et=C==null?void 0:C.userId)!==null&&Et!==void 0?Et:S.userId,$={ipAddress:(Ot=(te=o.trackingOptions)===null||te===void 0?void 0:te.ipAddress)!==null&&Ot!==void 0?Ot:!0,language:(Pt=(Kt=o.trackingOptions)===null||Kt===void 0?void 0:Kt.language)!==null&&Pt!==void 0?Pt:!0,platform:(vn=(Se=o.trackingOptions)===null||Se===void 0?void 0:Se.platform)!==null&&vn!==void 0?vn:!0},nt=C==null?void 0:C.pageCounter,st=C==null?void 0:C.debugLogsEnabled,o.autocapture!==void 0&&(o.defaultTracking=o.autocapture),N=new MA(s,o.appVersion,E,g,o.defaultTracking,o.autocapture,P,o.flushIntervalMillis,o.flushMaxRetries,o.flushQueueSize,d,o.ingestionMetadata,o.instanceName,j,F,o.loggerProvider,o.logLevel,o.minIdLength,o.offline,Q,o.partnerId,o.plan,o.serverUrl,o.serverZone,H,o.sessionTimeout,o.storageProvider,$,o.transport,o.useBatch,o.fetchRemoteConfig,X,nt,st),[4,N.storageProvider.isEnabled()];case 8:return de.sent()||(N.loggerProvider.warn("Storage provider ".concat(N.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),N.storageProvider=new zd),[2,N]}})})},UA=function(r,t){switch(r===void 0&&(r=lc),t===void 0&&(t={}),r){case"localStorage":return new U0;case"sessionStorage":return new _A;case"none":return new zd;case"cookie":default:return new vd(ht(ht({},t),{expirationDays:t.expiration}))}},L0=function(r){return r==="xhr"?new EA:r==="beacon"?new TA:new rA},LA=function(r){return ot(void 0,void 0,void 0,function(){var t,i,s,o,c,c,d,g,p,m;return at(this,function(E){switch(E.label){case 0:return[4,new vd().isEnabled()];case 1:if(!E.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,i=t.split("."),s=[],o="AMP_TLDTEST",c=i.length-2;c>=0;--c)s.push(i.slice(c).join("."));c=0,E.label=2;case 2:return c<s.length?(d=s[c],g={domain:"."+d},p=new vd(g),[4,p.set(o,1)]):[3,7];case 3:return E.sent(),[4,p.get(o)];case 4:return m=E.sent(),m?[4,p.remove(o)]:[3,6];case 5:return E.sent(),[2,"."+d];case 6:return c++,[3,2];case 7:return[2,""]}})})},x0=function(){var r="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[r]<"u")return globalThis[r];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Bm=function(){var r,t=x0();if(!(!((r=t==null?void 0:t.location)===null||r===void 0)&&r.search))return{};var i=t.location.search.substring(1).split("&").filter(Boolean),s=i.reduce(function(o,c){var d=c.split("=",2),g=qm(d[0]),p=qm(d[1]);return p&&(o[g]=p),o},{});return s},qm=function(r){r===void 0&&(r="");try{return decodeURIComponent(r)}catch{return""}},xA="utm_campaign",PA="utm_content",kA="utm_id",zA="utm_medium",BA="utm_source",qA="utm_term",Hm="dclid",jm="fbclid",Gm="gbraid",Fm="gclid",Qm="ko_click_id",Ym="li_fat_id",Xm="msclkid",Km="rtd_cid",$m="ttclid",Zm="twclid",Jm="wbraid",P0={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},HA=function(){function r(){}return r.prototype.parse=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){return[2,ht(ht(ht(ht({},P0),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},r.prototype.getUtmParam=function(){var t=Bm(),i=t[xA],s=t[PA],o=t[kA],c=t[zA],d=t[BA],g=t[qA];return{utm_campaign:i,utm_content:s,utm_id:o,utm_medium:c,utm_source:d,utm_term:g}},r.prototype.getReferrer=function(){var t,i,s={referrer:void 0,referring_domain:void 0};try{s.referrer=document.referrer||void 0,s.referring_domain=(i=(t=s.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&i!==void 0?i:void 0}catch{}return s},r.prototype.getClickIds=function(){var t,i=Bm();return t={},t[Hm]=i[Hm],t[jm]=i[jm],t[Gm]=i[Gm],t[Fm]=i[Fm],t[Qm]=i[Qm],t[Ym]=i[Ym],t[Xm]=i[Xm],t[Km]=i[Km],t[$m]=i[$m],t[Zm]=i[Zm],t[Jm]=i[Jm],t},r}(),cc;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(cc||(cc={}));var Wm;(function(r){r.REVENUE_PRODUCT_ID="$productId",r.REVENUE_QUANTITY="$quantity",r.REVENUE_PRICE="$price",r.REVENUE_TYPE="$revenueType",r.REVENUE_CURRENCY="$currency",r.REVENUE="$revenue"})(Wm||(Wm={}));var ty;(function(r){r.IDENTIFY="$identify",r.GROUP_IDENTIFY="$groupidentify",r.REVENUE="revenue_amount"})(ty||(ty={}));var fc;(function(r){r.US="US",r.EU="EU"})(fc||(fc={}));var hc;(function(r){r.Unknown="unknown",r.Skipped="skipped",r.Success="success",r.RateLimit="rate_limit",r.PayloadTooLarge="payload_too_large",r.Invalid="invalid",r.Failed="failed",r.Timeout="Timeout",r.SystemError="SystemError"})(hc||(hc={}));var jA=function(r){var t={};for(var i in r){var s=r[i];s&&(t[i]=s)}return t},GA="[Amplitude] Page Viewed",FA=function(r){r===void 0&&(r={});var t,i=x0(),s=void 0,o,c,d=r.trackOn,g=r.trackHistoryChanges,p=r.eventType,m=p===void 0?GA:p,E=function(Q){var H=Q;try{H=decodeURI(Q)}catch(X){s==null||s.error("Malformed URI sequence: ",X)}return H},S=function(){return ot(void 0,void 0,void 0,function(){var Q,H,X;return at(this,function($){switch($.label){case 0:return Q=E(typeof location<"u"&&location.href||""),X={event_type:m},H=[{}],[4,QA()];case 1:return[2,(X.event_properties=ht.apply(void 0,[ht.apply(void 0,H.concat([$.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":Q,"[Amplitude] Page Path":typeof location<"u"&&E(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":Q.split("?")[0]}]),X)]}})})},C=function(){return typeof d>"u"||typeof d=="function"&&d()},M=typeof location<"u"?location.href:null,P=function(){return ot(void 0,void 0,void 0,function(){var Q,H,X,$;return at(this,function(nt){switch(nt.label){case 0:return Q=location.href,H=XA(g,Q,M||"")&&C(),M=Q,H?(s==null||s.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return $=(X=t).track,[4,S()];case 2:$.apply(X,[nt.sent()]),nt.label=3;case 3:nt.label=4;case 4:return[2]}})})},j=function(){P()},F={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(Q,H){return ot(void 0,void 0,void 0,function(){var X,$;return at(this,function(nt){switch(nt.label){case 0:return t=H,c=Q,s=Q.loggerProvider,s.log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",j),o=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(st,N,w){var A=zt(w,3),O=A[0],V=A[1],x=A[2];st.apply(N,[O,V,x]),P()}})),C()?(s.log("Tracking page view event"),$=(X=t).track,[4,S()]):[3,2];case 1:$.apply(X,[nt.sent()]),nt.label=2;case 2:return[2]}})})},execute:function(Q){return ot(void 0,void 0,void 0,function(){var H;return at(this,function(X){switch(X.label){case 0:return d==="attribution"&&YA(Q)?(s==null||s.log("Enriching campaign event to page view event with campaign parameters"),[4,S()]):[3,2];case 1:H=X.sent(),Q.event_type=H.event_type,Q.event_properties=ht(ht({},Q.event_properties),H.event_properties),X.label=2;case 2:return c&&Q.event_type===m&&(c.pageCounter=c.pageCounter?c.pageCounter+1:1,Q.event_properties=ht(ht({},Q.event_properties),{"[Amplitude] Page Counter":c.pageCounter})),[2,Q]}})})},teardown:function(){return ot(void 0,void 0,void 0,function(){return at(this,function(Q){return i&&(i.removeEventListener("popstate",j),o&&(i.history.pushState=o)),[2]})})}};return F},QA=function(){return ot(void 0,void 0,void 0,function(){var r;return at(this,function(t){switch(t.label){case 0:return r=jA,[4,new HA().parse()];case 1:return[2,r.apply(void 0,[t.sent()])]}})})},YA=function(r){if(r.event_type==="$identify"&&r.user_properties){var t=r.user_properties,i=t[cc.SET]||{},s=t[cc.UNSET]||{},o=he(he([],zt(Object.keys(i)),!1),zt(Object.keys(s)),!1);return Object.keys(P0).every(function(c){return o.includes(c)})}return!1},XA=function(r,t,i){switch(r){case"pathOnly":{if(i=="")return!0;var s=new URL(t),o=new URL(i),c=s.origin+s.pathname,d=o.origin+o.pathname;return c!==d}default:return t!==i}},KA=function(){var r,t=[],i=function(m,E,S){m.addEventListener(E,S),t.push({element:m,type:E,handler:S})},s=function(){t.forEach(function(m){var E=m.element,S=m.type,C=m.handler;E==null||E.removeEventListener(S,C)}),t=[]},o="@amplitude/plugin-form-interaction-tracking-browser",c="enrichment",d=function(m,E){return ot(void 0,void 0,void 0,function(){var S;return at(this,function(C){return(S=Ei())===null||S===void 0||S.addEventListener("load",function(){if(!E){m.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var M=function(j){var F=!1;i(j,"change",function(){var Q,H=ey(j);F||E.track(Pm,(Q={},Q[Zh]=As(j.id),Q[Jh]=As(j.name),Q[Wh]=H,Q)),F=!0}),i(j,"submit",function(){var Q,H,X=ey(j);F||E.track(Pm,(Q={},Q[Zh]=As(j.id),Q[Jh]=As(j.name),Q[Wh]=X,Q)),E.track(SA,(H={},H[Zh]=As(j.id),H[Jh]=As(j.name),H[Wh]=X,H)),F=!1})},P=Array.from(document.getElementsByTagName("form"));P.forEach(M),typeof MutationObserver<"u"&&(r=new MutationObserver(function(j){j.forEach(function(F){F.addedNodes.forEach(function(Q){Q.nodeName==="FORM"&&M(Q),"querySelectorAll"in Q&&typeof Q.querySelectorAll=="function"&&Array.from(Q.querySelectorAll("form")).map(M)})})}),r.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},g=function(m){return ot(void 0,void 0,void 0,function(){return at(this,function(E){return[2,m]})})},p=function(){return ot(void 0,void 0,void 0,function(){return at(this,function(m){return r==null||r.disconnect(),s(),[2]})})};return{name:o,type:c,setup:d,execute:g,teardown:p}},As=function(r){if(typeof r=="string")return r},ey=function(r){var t=r.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},$A=function(){var r,t=[],i=function(m,E,S){m.addEventListener(E,S),t.push({element:m,type:E,handler:S})},s=function(){t.forEach(function(m){var E=m.element,S=m.type,C=m.handler;E==null||E.removeEventListener(S,C)}),t=[]},o="@amplitude/plugin-file-download-tracking-browser",c="enrichment",d=function(m,E){return ot(void 0,void 0,void 0,function(){var S;return at(this,function(C){return(S=Ei())===null||S===void 0||S.addEventListener("load",function(){if(!E){m.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var M=function(F){var Q;try{Q=new URL(F.href,window.location.href)}catch{return}var H=P.exec(Q.href),X=H==null?void 0:H[1];X&&i(F,"click",function(){var $;X&&E.track(wA,($={},$[RA]=X,$[CA]=Q.pathname,$[DA]=F.id,$[IA]=F.text,$[OA]=F.href,$))})},P=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,j=Array.from(document.getElementsByTagName("a"));j.forEach(M),typeof MutationObserver<"u"&&(r=new MutationObserver(function(F){F.forEach(function(Q){Q.addedNodes.forEach(function(H){H.nodeName==="A"&&M(H),"querySelectorAll"in H&&typeof H.querySelectorAll=="function"&&Array.from(H.querySelectorAll("a")).map(M)})})}),r.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},g=function(m){return ot(void 0,void 0,void 0,function(){return at(this,function(E){return[2,m]})})},p=function(){return ot(void 0,void 0,void 0,function(){return at(this,function(m){return r==null||r.disconnect(),s(),[2]})})};return{name:o,type:c,setup:d,execute:g,teardown:p}},ny=!1,ZA=function(r){if(!(ny||r.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;r.loggerProvider.warn(t),ny=!0}},JA=function(){var r="@amplitude/plugin-network-checker-browser",t="before",i=Ei(),s=[],o=function(p,m){i&&(i.addEventListener(p,m),s.push({type:p,handler:m}))},c=function(){s.forEach(function(p){var m=p.type,E=p.handler;i&&i.removeEventListener(m,E)}),s=[]},d=function(p,m){return ot(void 0,void 0,void 0,function(){return at(this,function(E){return typeof navigator>"u"?(p.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),p.offline=!1,[2]):(p.offline=!navigator.onLine,o("online",function(){p.loggerProvider.debug("Network connectivity changed to online."),p.offline=!1,setTimeout(function(){m.flush()},p.flushIntervalMillis)}),o("offline",function(){p.loggerProvider.debug("Network connectivity changed to offline."),p.offline=!0}),[2])})})},g=function(){return ot(void 0,void 0,void 0,function(){return at(this,function(p){return c(),[2]})})};return{name:r,type:t,setup:d,teardown:g}},WA="Network error occurred, remote config fetch failed",tS="Remote config successfully fetched",eS="Remote config fetch rejected due to exceeded retry count",iy="Remote config fetch rejected due to timeout after 5 seconds",ry="Unexpected error occurred",nS="https://sr-client-cfg.amplitude.com/config",iS="https://sr-client-cfg.stag2.amplitude.com/config",rS="https://sr-client-cfg.eu.amplitude.com/config",aS=function(){function r(t){var i=t.localConfig,s=t.configKeys,o=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(c,d,g){return ot(o,void 0,void 0,function(){var p,m,E;return at(this,function(S){switch(S.label){case 0:return p=Date.now(),[4,this.fetchWithTimeout(g)];case 1:return m=S.sent(),m&&(E=m.configs&&m.configs[c],E)?(this.metrics.fetchTimeAPISuccess=Date.now()-p,[2,E[d]]):(this.metrics.fetchTimeAPIFail=Date.now()-p,[2,void 0])}})})},this.fetchWithTimeout=function(c){return ot(o,void 0,void 0,function(){var d,g,p;return at(this,function(m){switch(m.label){case 0:return d=new AbortController,g=setTimeout(function(){return d.abort()},5e3),[4,this.fetchRemoteConfig(d.signal,c)];case 1:return p=m.sent(),clearTimeout(g),[2,p]}})})},this.fetchRemoteConfig=function(c,d){return ot(o,void 0,void 0,function(){var g,p,m,E,S,C,M,P,j,F,Q,H,X;return at(this,function($){switch($.label){case 0:if(d===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:eS})];if(c.aborted)return[2,this.completeRequest({err:iy})];d!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=d,this.attempts=0),$.label=1;case 1:$.trys.push([1,3,,4]),g=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(p=Ae(this.configKeys),m=p.next();!m.done;m=p.next())E=m.value,g.append("config_keys",E)}catch(nt){Q={error:nt}}finally{try{m&&!m.done&&(H=p.return)&&H.call(p)}finally{if(Q)throw Q.error}}return d&&g.set("session_id",String(d)),S={headers:{Accept:"*/*"},method:"GET"},C="".concat(this.getServerUrl(),"?").concat(g.toString()),this.attempts+=1,[4,fetch(C,ht(ht({},S),{signal:c}))];case 2:if(M=$.sent(),M===null)return[2,this.completeRequest({err:ry})];switch(P=new Oc().buildStatus(M.status),P){case hc.Success:return this.attempts=0,[2,this.parseAndStoreConfig(M)];case hc.Failed:return[2,this.retryFetch(c,d)];default:return[2,this.completeRequest({err:WA})]}case 3:return j=$.sent(),F=j,c.aborted?[2,this.completeRequest({err:iy})]:[2,this.completeRequest({err:(X=F.message)!==null&&X!==void 0?X:ry})];case 4:return[2]}})})},this.retryFetch=function(c,d){return ot(o,void 0,void 0,function(){var g=this;return at(this,function(p){switch(p.label){case 0:return[4,new Promise(function(m){return setTimeout(m,g.attempts*g.retryTimeout)})];case 1:return p.sent(),[2,this.fetchRemoteConfig(c,d)]}})})},this.parseAndStoreConfig=function(c){return ot(o,void 0,void 0,function(){var d;return at(this,function(g){switch(g.label){case 0:return[4,c.json()];case 1:return d=g.sent(),this.completeRequest({success:tS}),[2,d]}})})},this.localConfig=i,this.configKeys=s}return r.prototype.getServerUrl=function(){return this.localConfig.serverZone===fc.STAGING?iS:this.localConfig.serverZone===fc.EU?rS:nS},r.prototype.completeRequest=function(t){var i=t.err,s=t.success;if(i)throw new Error(i);s&&this.localConfig.loggerProvider.log(s)},r}(),sS=function(r){var t=r.localConfig,i=r.configKeys;return ot(void 0,void 0,void 0,function(){return at(this,function(s){return[2,new aS({localConfig:t,configKeys:i})]})})},oS=sS,uS=function(){function r(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return r.prototype.initialize=function(){return ot(this,void 0,void 0,function(){var t;return at(this,function(i){switch(i.label){case 0:return t=this,[4,oS({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=i.sent(),[2]}})})},r.prototype.generateJoinedConfig=function(){return ot(this,void 0,void 0,function(){var t,i,s,o,c,d,g;return at(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),i=this.remoteConfigFetch,i?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:i=p.sent(),p.label=2;case 2:return t=i,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(t,null,2)),t&&"autocapture"in t&&(typeof t.autocapture=="boolean"&&(this.config.autocapture=t.autocapture),typeof t.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=t.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=ht({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},t.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=ht(ht({},this.config.autocapture),t.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(o=(g=this.config).requestMetadata)!==null&&o!==void 0||(g.requestMetadata=new C0),!((c=this.remoteConfigFetch)===null||c===void 0)&&c.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((d=this.remoteConfigFetch)===null||d===void 0)&&d.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return s=p.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",s),[3,4];case 4:return[2,this.config]}})})},r}(),lS=function(r){return ot(void 0,void 0,void 0,function(){var t;return at(this,function(i){switch(i.label){case 0:return t=new uS(r),[4,t.initialize()];case 1:return i.sent(),[2,t]}})})},cS="@amplitude/plugin-autocapture-browser",gd="[Amplitude] Element Clicked",fS="[Amplitude] Element Changed",hS="[Amplitude] Element ID",dS="[Amplitude] Element Class",k0="[Amplitude] Element Tag",z0="[Amplitude] Element Text",vS="[Amplitude] Element Hierarchy",gS="[Amplitude] Element Href",pS="[Amplitude] Element Position Left",mS="[Amplitude] Element Position Top",yS="[Amplitude] Element Aria Label",_S="[Amplitude] Element Attributes",B0="[Amplitude] Element Selector",ES="[Amplitude] Element Parent Label",q0="[Amplitude] Page URL",TS="[Amplitude] Page Title",bS="[Amplitude] Viewport Height",AS="[Amplitude] Viewport Width",ec="https://app.amplitude.com",SS="https://app.eu.amplitude.com",wS="https://apps.stag2.amplitude.com",RS={US:ec,EU:SS,STAGING:wS},CS="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",pd="amp-visual-tagging-selector-highlight";function Jt(r){return typeof r=="function"}function H0(r){var t=function(s){Error.call(s),s.stack=new Error().stack},i=r(t);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var td=H0(function(r){return function(i){r(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function md(r,t){if(r){var i=r.indexOf(t);0<=i&&r.splice(i,1)}}var Nc=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,i,s,o,c;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var g=Ae(d),p=g.next();!p.done;p=g.next()){var m=p.value;m.remove(this)}}catch(j){t={error:j}}finally{try{p&&!p.done&&(i=g.return)&&i.call(g)}finally{if(t)throw t.error}}else d.remove(this);var E=this.initialTeardown;if(Jt(E))try{E()}catch(j){c=j instanceof td?j.errors:[j]}var S=this._finalizers;if(S){this._finalizers=null;try{for(var C=Ae(S),M=C.next();!M.done;M=C.next()){var P=M.value;try{ay(P)}catch(j){c=c??[],j instanceof td?c=he(he([],zt(c)),zt(j.errors)):c.push(j)}}}catch(j){s={error:j}}finally{try{M&&!M.done&&(o=C.return)&&o.call(C)}finally{if(s)throw s.error}}}if(c)throw new td(c)}},r.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)ay(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}},r.prototype._hasParent=function(t){var i=this._parentage;return i===t||Array.isArray(i)&&i.includes(t)},r.prototype._addParent=function(t){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t},r.prototype._removeParent=function(t){var i=this._parentage;i===t?this._parentage=null:Array.isArray(i)&&md(i,t)},r.prototype.remove=function(t){var i=this._finalizers;i&&md(i,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();Nc.EMPTY;function j0(r){return r instanceof Nc||r&&"closed"in r&&Jt(r.remove)&&Jt(r.add)&&Jt(r.unsubscribe)}function ay(r){Jt(r)?r():r.unsubscribe()}var DS={Promise:void 0},IS={setTimeout:function(r,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setTimeout.apply(void 0,he([r,t],zt(i)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function G0(r){IS.setTimeout(function(){throw r})}function yd(){}function OS(r){r()}var Bd=function(r){Sn(t,r);function t(i){var s=r.call(this)||this;return s.isStopped=!1,i?(s.destination=i,j0(i)&&i.add(s)):s.destination=VS,s}return t.create=function(i,s,o){return new _d(i,s,o)},t.prototype.next=function(i){this.isStopped||this._next(i)},t.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(i){this.destination.next(i)},t.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Nc),NS=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var i=this.partialObserver;if(i.next)try{i.next(t)}catch(s){jl(s)}},r.prototype.error=function(t){var i=this.partialObserver;if(i.error)try{i.error(t)}catch(s){jl(s)}else jl(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(i){jl(i)}},r}(),_d=function(r){Sn(t,r);function t(i,s,o){var c=r.call(this)||this,d;return Jt(i)||!i?d={next:i??void 0,error:s??void 0,complete:o??void 0}:d=i,c.destination=new NS(d),c}return t}(Bd);function jl(r){G0(r)}function MS(r){throw r}var VS={closed:!0,next:yd,error:MS,complete:yd},qd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function F0(r){return r}function US(r){return r.length===0?F0:r.length===1?r[0]:function(i){return r.reduce(function(s,o){return o(s)},i)}}var wn=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var i=new r;return i.source=this,i.operator=t,i},r.prototype.subscribe=function(t,i,s){var o=this,c=xS(t)?t:new _d(t,i,s);return OS(function(){var d=o,g=d.operator,p=d.source;c.add(g?g.call(c,p):p?o._subscribe(c):o._trySubscribe(c))}),c},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(i){t.error(i)}},r.prototype.forEach=function(t,i){var s=this;return i=sy(i),new i(function(o,c){var d=new _d({next:function(g){try{t(g)}catch(p){c(p),d.unsubscribe()}},error:c,complete:o});s.subscribe(d)})},r.prototype._subscribe=function(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)},r.prototype[qd]=function(){return this},r.prototype.pipe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return US(t)(this)},r.prototype.toPromise=function(t){var i=this;return t=sy(t),new t(function(s,o){var c;i.subscribe(function(d){return c=d},function(d){return o(d)},function(){return s(c)})})},r.create=function(t){return new r(t)},r}();function sy(r){var t;return(t=r??DS.Promise)!==null&&t!==void 0?t:Promise}function LS(r){return r&&Jt(r.next)&&Jt(r.error)&&Jt(r.complete)}function xS(r){return r&&r instanceof Bd||LS(r)&&j0(r)}function PS(r){return Jt(r==null?void 0:r.lift)}function Wn(r){return function(t){if(PS(t))return t.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function An(r,t,i,s,o){return new kS(r,t,i,s,o)}var kS=function(r){Sn(t,r);function t(i,s,o,c,d,g){var p=r.call(this,i)||this;return p.onFinalize=d,p.shouldUnsubscribe=g,p._next=s?function(m){try{s(m)}catch(E){i.error(E)}}:r.prototype._next,p._error=c?function(m){try{c(m)}catch(E){i.error(E)}finally{this.unsubscribe()}}:r.prototype._error,p._complete=o?function(){try{o()}catch(m){i.error(m)}finally{this.unsubscribe()}}:r.prototype._complete,p}return t.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;r.prototype.unsubscribe.call(this),!s&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},t}(Bd),zS={now:function(){return Date.now()}},BS=function(r){Sn(t,r);function t(i,s){return r.call(this)||this}return t.prototype.schedule=function(i,s){return this},t}(Nc),oy={setInterval:function(r,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setInterval.apply(void 0,he([r,t],zt(i)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},qS=function(r){Sn(t,r);function t(i,s){var o=r.call(this,i,s)||this;return o.scheduler=i,o.work=s,o.pending=!1,o}return t.prototype.schedule=function(i,s){var o;if(s===void 0&&(s=0),this.closed)return this;this.state=i;var c=this.id,d=this.scheduler;return c!=null&&(this.id=this.recycleAsyncId(d,c,s)),this.pending=!0,this.delay=s,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(d,this.id,s),this},t.prototype.requestAsyncId=function(i,s,o){return o===void 0&&(o=0),oy.setInterval(i.flush.bind(i,this),o)},t.prototype.recycleAsyncId=function(i,s,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return s;s!=null&&oy.clearInterval(s)},t.prototype.execute=function(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(i,s);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(i,s){var o=!1,c;try{this.work(i)}catch(d){o=!0,c=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c},t.prototype.unsubscribe=function(){if(!this.closed){var i=this,s=i.id,o=i.scheduler,c=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,md(c,this),s!=null&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},t}(BS),uy=function(){function r(t,i){i===void 0&&(i=r.now),this.schedulerActionCtor=t,this.now=i}return r.prototype.schedule=function(t,i,s){return i===void 0&&(i=0),new this.schedulerActionCtor(this,t).schedule(s,i)},r.now=zS.now,r}(),HS=function(r){Sn(t,r);function t(i,s){s===void 0&&(s=uy.now);var o=r.call(this,i,s)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(i){var s=this.actions;if(this._active){s.push(i);return}var o;this._active=!0;do if(o=i.execute(i.state,i.delay))break;while(i=s.shift());if(this._active=!1,o){for(;i=s.shift();)i.unsubscribe();throw o}},t}(uy),Mc=new HS(qS),jS=Mc,Hd=new wn(function(r){return r.complete()});function Q0(r){return r&&Jt(r.schedule)}function Y0(r){return r[r.length-1]}function GS(r){return Q0(Y0(r))?r.pop():void 0}function FS(r,t){return typeof Y0(r)=="number"?r.pop():t}var jd=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function X0(r){return Jt(r==null?void 0:r.then)}function K0(r){return Jt(r[qd])}function $0(r){return Symbol.asyncIterator&&Jt(r==null?void 0:r[Symbol.asyncIterator])}function Z0(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function QS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var J0=QS();function W0(r){return Jt(r==null?void 0:r[J0])}function t_(r){return vb(this,arguments,function(){var i,s,o,c;return at(this,function(d){switch(d.label){case 0:i=r.getReader(),d.label=1;case 1:d.trys.push([1,,9,10]),d.label=2;case 2:return[4,Cs(i.read())];case 3:return s=d.sent(),o=s.value,c=s.done,c?[4,Cs(void 0)]:[3,5];case 4:return[2,d.sent()];case 5:return[4,Cs(o)];case 6:return[4,d.sent()];case 7:return d.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function e_(r){return Jt(r==null?void 0:r.getReader)}function ti(r){if(r instanceof wn)return r;if(r!=null){if(K0(r))return YS(r);if(jd(r))return XS(r);if(X0(r))return KS(r);if($0(r))return n_(r);if(W0(r))return $S(r);if(e_(r))return ZS(r)}throw Z0(r)}function YS(r){return new wn(function(t){var i=r[qd]();if(Jt(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(r){return new wn(function(t){for(var i=0;i<r.length&&!t.closed;i++)t.next(r[i]);t.complete()})}function KS(r){return new wn(function(t){r.then(function(i){t.closed||(t.next(i),t.complete())},function(i){return t.error(i)}).then(null,G0)})}function $S(r){return new wn(function(t){var i,s;try{for(var o=Ae(r),c=o.next();!c.done;c=o.next()){var d=c.value;if(t.next(d),t.closed)return}}catch(g){i={error:g}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}t.complete()})}function n_(r){return new wn(function(t){JS(r,t).catch(function(i){return t.error(i)})})}function ZS(r){return n_(t_(r))}function JS(r,t){var i,s,o,c;return ot(this,void 0,void 0,function(){var d,g;return at(this,function(p){switch(p.label){case 0:p.trys.push([0,5,6,11]),i=gb(r),p.label=1;case 1:return[4,i.next()];case 2:if(s=p.sent(),!!s.done)return[3,4];if(d=s.value,t.next(d),t.closed)return[2];p.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return g=p.sent(),o={error:g},[3,11];case 6:return p.trys.push([6,,9,10]),s&&!s.done&&(c=i.return)?[4,c.call(i)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Pr(r,t,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var c=t.schedule(function(){i(),o?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(c),!o)return c}function i_(r,t){return t===void 0&&(t=0),Wn(function(i,s){i.subscribe(An(s,function(o){return Pr(s,r,function(){return s.next(o)},t)},function(){return Pr(s,r,function(){return s.complete()},t)},function(o){return Pr(s,r,function(){return s.error(o)},t)}))})}function r_(r,t){return t===void 0&&(t=0),Wn(function(i,s){s.add(r.schedule(function(){return i.subscribe(s)},t))})}function WS(r,t){return ti(r).pipe(r_(t),i_(t))}function t1(r,t){return ti(r).pipe(r_(t),i_(t))}function e1(r,t){return new wn(function(i){var s=0;return t.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}function n1(r,t){return new wn(function(i){var s;return Pr(i,t,function(){s=r[J0](),Pr(i,t,function(){var o,c,d;try{o=s.next(),c=o.value,d=o.done}catch(g){i.error(g);return}d?i.complete():i.next(c)},0,!0)}),function(){return Jt(s==null?void 0:s.return)&&s.return()}})}function a_(r,t){if(!r)throw new Error("Iterable cannot be null");return new wn(function(i){Pr(i,t,function(){var s=r[Symbol.asyncIterator]();Pr(i,t,function(){s.next().then(function(o){o.done?i.complete():i.next(o.value)})},0,!0)})})}function i1(r,t){return a_(t_(r),t)}function r1(r,t){if(r!=null){if(K0(r))return WS(r,t);if(jd(r))return e1(r,t);if(X0(r))return t1(r,t);if($0(r))return a_(r,t);if(W0(r))return n1(r,t);if(e_(r))return i1(r,t)}throw Z0(r)}function a1(r,t){return t?r1(r,t):ti(r)}function s_(r){return r instanceof Date&&!isNaN(r)}var s1=H0(function(r){return function(i){i===void 0&&(i=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function o1(r,t){var i=s_(r)?{first:r}:typeof r=="number"?{each:r}:r,s=i.first,o=i.each,c=i.with,d=c===void 0?u1:c,g=i.scheduler,p=g===void 0?Mc:g,m=i.meta,E=m===void 0?null:m;if(s==null&&o==null)throw new TypeError("No timeout provided.");return Wn(function(S,C){var M,P,j=null,F=0,Q=function(H){P=Pr(C,p,function(){try{M.unsubscribe(),ti(d({meta:E,lastValue:j,seen:F})).subscribe(C)}catch(X){C.error(X)}},H)};M=S.subscribe(An(C,function(H){P==null||P.unsubscribe(),F++,C.next(j=H),o>0&&Q(o)},void 0,void 0,function(){P!=null&&P.closed||P==null||P.unsubscribe(),j=null})),!F&&Q(s!=null?typeof s=="number"?s:+s-p.now():o)})}function u1(r){throw new s1(r)}function _i(r,t){return Wn(function(i,s){var o=0;i.subscribe(An(s,function(c){s.next(r.call(t,c,o++))}))})}var l1=Array.isArray;function c1(r,t){return l1(t)?r.apply(void 0,he([],zt(t))):r(t)}function f1(r){return _i(function(t){return c1(r,t)})}function h1(r,t,i,s,o,c,d,g){var p=[],m=0,E=0,S=!1,C=function(){S&&!p.length&&!m&&t.complete()},M=function(j){return m<s?P(j):p.push(j)},P=function(j){m++;var F=!1;ti(i(j,E++)).subscribe(An(t,function(Q){t.next(Q)},function(){F=!0},void 0,function(){if(F)try{m--;for(var Q=function(){var H=p.shift();d||P(H)};p.length&&m<s;)Q();C()}catch(H){t.error(H)}}))};return r.subscribe(An(t,M,function(){S=!0,C()})),function(){}}function Vc(r,t,i){return i===void 0&&(i=1/0),Jt(t)?Vc(function(s,o){return _i(function(c,d){return t(s,c,o,d)})(ti(r(s,o)))},i):(typeof t=="number"&&(i=t),Wn(function(s,o){return h1(s,o,r,i)}))}function d1(r){return r===void 0&&(r=1/0),Vc(F0,r)}var v1=["addListener","removeListener"],g1=["addEventListener","removeEventListener"],p1=["on","off"];function Jo(r,t,i,s){if(Jt(i)&&(s=i,i=void 0),s)return Jo(r,t,i).pipe(f1(s));var o=zt(_1(r)?g1.map(function(g){return function(p){return r[g](t,p,i)}}):m1(r)?v1.map(ly(r,t)):y1(r)?p1.map(ly(r,t)):[],2),c=o[0],d=o[1];if(!c&&jd(r))return Vc(function(g){return Jo(g,t,i)})(ti(r));if(!c)throw new TypeError("Invalid event target");return new wn(function(g){var p=function(){for(var m=[],E=0;E<arguments.length;E++)m[E]=arguments[E];return g.next(1<m.length?m:m[0])};return c(p),function(){return d(p)}})}function ly(r,t){return function(i){return function(s){return r[i](t,s)}}}function m1(r){return Jt(r.addListener)&&Jt(r.removeListener)}function y1(r){return Jt(r.on)&&Jt(r.off)}function _1(r){return Jt(r.addEventListener)&&Jt(r.removeEventListener)}function E1(r,t,i){i===void 0&&(i=jS);var s=-1;return t!=null&&(Q0(t)?i=t:s=t),new wn(function(o){var c=s_(r)?0-i.now():r;c<0&&(c=0);var d=0;return i.schedule(function(){o.closed||(o.next(d++),0<=s?this.schedule(void 0,s):o.complete())},c)})}function o_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=GS(r),s=FS(r,1/0),o=r;return o.length?o.length===1?ti(o[0]):d1(s)(a1(o,i)):Hd}function kr(r,t){return Wn(function(i,s){var o=0;i.subscribe(An(s,function(c){return r.call(t,c,o++)&&s.next(c)}))})}function T1(r){return Wn(function(t,i){var s=[];return t.subscribe(An(i,function(o){return s.push(o)},function(){i.next(s),i.complete()})),ti(r).subscribe(An(i,function(){var o=s;s=[],i.next(o)},yd)),function(){s=null}})}function b1(r,t){return t===void 0&&(t=Mc),Wn(function(i,s){var o=null,c=null,d=null,g=function(){if(o){o.unsubscribe(),o=null;var m=c;c=null,s.next(m)}};function p(){var m=d+r,E=t.now();if(E<m){o=this.schedule(void 0,m-E),s.add(o);return}g()}i.subscribe(An(s,function(m){c=m,d=t.now(),o||(o=t.schedule(p,r),s.add(o))},function(){g(),s.complete()},void 0,function(){c=o=null}))})}function u_(r){return r<=0?function(){return Hd}:Wn(function(t,i){var s=0;t.subscribe(An(i,function(o){++s<=r&&(i.next(o),r<=s&&i.complete())}))})}function A1(r){return _i(function(){return r})}function S1(r,t){return Vc(function(i,s){return ti(r(i,s)).pipe(u_(1),A1(i))})}function w1(r,t){t===void 0&&(t=Mc);var i=E1(r,t);return S1(function(){return i})}function R1(){return Wn(function(r,t){var i,s=!1;r.subscribe(An(t,function(o){var c=i;i=o,s&&t.next([c,o]),s=!0}))})}function C1(r,t){return Wn(function(i,s){var o=null,c=0,d=!1,g=function(){return d&&!o&&s.complete()};i.subscribe(An(s,function(p){o==null||o.unsubscribe();var m=0,E=c++;ti(r(p,E)).subscribe(o=An(s,function(S){return s.next(t?t(p,S,E,m++):S)},function(){o=null,g()}))},function(){d=!0,g()}))})}var Ti,Gd;function D1(r,t){if(r.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(r.tagName.toLowerCase()==="html")return"html";var i={root:document.body,idName:function(c){return!0},className:function(c){return!0},tagName:function(c){return!0},attr:function(c,d){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};Ti=ht(ht({},i),t),Gd=I1(Ti.root,i);var s=Gl(r,"all",function(){return Gl(r,"two",function(){return Gl(r,"one",function(){return Gl(r,"none")})})});if(s){var o=f_(h_(s,r));return o.length>0&&(s=o[0]),Uc(s)}else throw new Error("Selector was not found.")}function I1(r,t){return r.nodeType===Node.DOCUMENT_NODE?r:r===t.root?r.ownerDocument:r}function Gl(r,t,i){for(var s=null,o=[],c=r,d=0,g=function(){var m,E,S=Ql(O1(c))||Ql.apply(void 0,he([],zt(N1(c)),!1))||Ql.apply(void 0,he([],zt(M1(c)),!1))||Ql(V1(c))||[hy()],C=U1(c);if(t=="all")C&&(S=S.concat(S.filter(ed).map(function(Q){return Fl(Q,C)})));else if(t=="two")S=S.slice(0,1),C&&(S=S.concat(S.filter(ed).map(function(Q){return Fl(Q,C)})));else if(t=="one"){var M=zt(S=S.slice(0,1),1),P=M[0];C&&ed(P)&&(S=[Fl(P,C)])}else t=="none"&&(S=[hy()],C&&(S=[Fl(S[0],C)]));try{for(var j=(m=void 0,Ae(S)),F=j.next();!F.done;F=j.next()){var P=F.value;P.level=d}}catch(Q){m={error:Q}}finally{try{F&&!F.done&&(E=j.return)&&E.call(j)}finally{if(m)throw m.error}}if(o.push(S),o.length>=Ti.seedMinLength&&(s=cy(o,i),s))return"break";c=c.parentElement,d++};c;){var p=g();if(p==="break")break}return s||(s=cy(o,i)),!s&&i?i():s}function cy(r,t){var i,s,o=r.reduce(function(m,E){return m*E.length},1);if(o>Ti.threshold)return t?t():null;var c=f_(c_(r));try{for(var d=Ae(c),g=d.next();!g.done;g=d.next()){var p=g.value;if(l_(p))return p}}catch(m){i={error:m}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return null}function Uc(r){for(var t=r[0],i=t.name,s=1;s<r.length;s++){var o=r[s].level||0;t.level===o-1?i="".concat(r[s].name," > ").concat(i):i="".concat(r[s].name," ").concat(i),t=r[s]}return i}function fy(r){return r.map(function(t){return t.penalty}).reduce(function(t,i){return t+i},0)}function l_(r){var t=Uc(r);switch(Gd.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function O1(r){var t=r.getAttribute("id");return t&&Ti.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function N1(r){var t=Array.from(r.attributes).filter(function(i){return Ti.attr(i.name,i.value)});return t.map(function(i){return{name:"[".concat(CSS.escape(i.name),'="').concat(CSS.escape(i.value),'"]'),penalty:.5}})}function M1(r){var t=Array.from(r.classList).filter(Ti.className);return t.map(function(i){return{name:"."+CSS.escape(i),penalty:1}})}function V1(r){var t=r.tagName.toLowerCase();return Ti.tagName(t)?{name:t,penalty:2}:null}function hy(){return{name:"*",penalty:3}}function U1(r){var t=r.parentNode;if(!t)return null;var i=t.firstChild;if(!i)return null;for(var s=0;i&&(i.nodeType===Node.ELEMENT_NODE&&s++,i!==r);)i=i.nextSibling;return s}function Fl(r,t){return{name:r.name+":nth-child(".concat(t,")"),penalty:r.penalty+1}}function ed(r){return r.name!=="html"&&!r.name.startsWith("#")}function Ql(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=r.filter(L1);return i.length>0?i:null}function L1(r){return r!=null}function c_(r,t){var i,s,o,c,d,g;return t===void 0&&(t=[]),at(this,function(p){switch(p.label){case 0:if(!(r.length>0))return[3,9];p.label=1;case 1:p.trys.push([1,6,7,8]),i=Ae(r[0]),s=i.next(),p.label=2;case 2:return s.done?[3,5]:(o=s.value,[5,Ae(c_(r.slice(1,r.length),t.concat(o)))]);case 3:p.sent(),p.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return c=p.sent(),d={error:c},[3,8];case 7:try{s&&!s.done&&(g=i.return)&&g.call(i)}finally{if(d)throw d.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:p.sent(),p.label=11;case 11:return[2]}})}function f_(r){return he([],zt(r),!1).sort(function(t,i){return fy(t)-fy(i)})}function h_(r,t,i){var s,o,c;return i===void 0&&(i={counter:0,visited:new Map}),at(this,function(d){switch(d.label){case 0:if(!(r.length>2&&r.length>Ti.optimizedMinLength))return[3,5];s=1,d.label=1;case 1:return s<r.length-1?i.counter>Ti.maxNumberOfTries?[2]:(i.counter+=1,o=he([],zt(r),!1),o.splice(s,1),c=Uc(o),i.visited.has(c)?[2]:l_(o)&&x1(o,t)?[4,o]:[3,4]):[3,5];case 2:return d.sent(),i.visited.set(c,!0),[5,Ae(h_(o,t,i))];case 3:d.sent(),d.label=4;case 4:return s++,[3,1];case 5:return[2]}})}function x1(r,t){return Gd.querySelector(Uc(r))===t}var P1=["input","select","textarea"],nd=function(r,t){return function(i,s){var o,c,d,g=r.pageUrlAllowlist,p=r.shouldTrackEventResolver,m=(c=(o=s==null?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase)===null||c===void 0?void 0:c.call(o);if(!m)return!1;if(p)return p(i,s);if(!z1(window.location.href,g))return!1;var E=String(s==null?void 0:s.getAttribute("type"))||"";if(typeof E=="string")switch(E.toLowerCase()){case"hidden":return!1;case"password":return!1}if(t){var S=t.some(function(M){var P;return!!(!((P=s==null?void 0:s.matches)===null||P===void 0)&&P.call(s,M))});if(!S)return!1}switch(m){case"input":case"select":case"textarea":return i==="change"||i==="click";default:{var C=(d=window==null?void 0:window.getComputedStyle)===null||d===void 0?void 0:d.call(window,s);return C&&C.getPropertyValue("cursor")==="pointer"&&i==="click"?!0:i==="click"}}}},d_=function(r){if(r==null)return!1;if(typeof r=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((r||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(r))return!1}return!0},k1=function(r){return!!r&&r.nodeType===3},v_=function(r){var t,i,s,o=(i=(t=r==null?void 0:r.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||i===void 0?void 0:i.call(t),c=r instanceof HTMLElement?((s=r.getAttribute("contenteditable"))===null||s===void 0?void 0:s.toLowerCase())==="true":!1;return!P1.includes(o)&&!c},Fd=function(r){var t="";return v_(r)&&r.childNodes&&r.childNodes.length&&r.childNodes.forEach(function(i){var s="";k1(i)?i.textContent&&(s=i.textContent):s=Fd(i),t+=s.split(/(\s+)/).filter(d_).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},g_=function(r,t){var i,s,o="";try{return o=D1(r,{className:function(E){return E!==pd},maxNumberOfTries:1e3}),o}catch(E){if(t){var c=E;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(c.toString()))}}var d=(s=(i=r==null?void 0:r.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);d&&(o=d);var g=r.getAttribute("id"),p=r.getAttribute("class");if(g)o="#".concat(g);else if(p){var m=p.split(" ").filter(function(E){return E!==pd}).join(".");m&&(o="".concat(o,".").concat(m))}return o},z1=function(r,t){return!t||!t.length?!0:t.some(function(i){return typeof i=="string"?r===i:r.match(i)})},B1=function(r,t){return r.getAttributeNames().reduce(function(i,s){if(s.startsWith(t)){var o=s.replace(t,""),c=r.getAttribute(s);o&&(i[o]=c||"")}return i},{})},q1=function(r){return r==null||typeof r=="object"&&Object.keys(r).length===0||typeof r=="string"&&r.trim().length===0},p_=function(r){return Object.keys(r).reduce(function(t,i){var s=r[i];return q1(s)||(t[i]=s),t},{})},m_=function(r){var t=r.parentElement;if(!t)return"";var i;try{i=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{i=null}if(i){var s=i.textContent||"";return d_(s)?s:""}return m_(t)},Qd=function(r,t){return r?t.some(function(i){var s;return(s=r==null?void 0:r.matches)===null||s===void 0?void 0:s.call(r,i)})?r:Qd(r==null?void 0:r.parentElement,t):null},H1=function(r,t){var i,s,o;if(!r)return{};var c=(o=(s=r==null?void 0:r.tagName)===null||s===void 0?void 0:s.toLowerCase)===null||o===void 0?void 0:o.call(s),d=g_(r,t),g=(i={},i[k0]=c,i[z0]=Fd(r),i[B0]=d,i[q0]=window.location.href.split("?")[0],i);return p_(g)},j1=function(r){return new Promise(function(t,i){var s;try{var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.addEventListener("load",function(){t({status:!0})},{once:!0}),o.addEventListener("error",function(){i({status:!1,message:"Failed to load the script ".concat(r)})}),(s=document.head)===null||s===void 0||s.appendChild(o)}catch(c){i(c)}})};function G1(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var Yd=function(r){return!(r.event.target===null||!r.closestTrackedAncestor)},F1=function(){function r(t){var i=t===void 0?{}:t,s=i.origin,o=s===void 0?ec:s,c=this;this.endpoint=ec,this.requestCallbacks={},this.onSelect=function(d){c.notify({action:"element-selected",data:d})},this.onTrack=function(d,g){d==="selector-mode-changed"?c.notify({action:"track-selector-mode-changed",data:g}):d==="selector-moved"&&c.notify({action:"track-selector-moved",data:g})},this.endpoint=o}return r.prototype.notify=function(t){var i,s,o,c;(s=(i=this.logger)===null||i===void 0?void 0:i.debug)===null||s===void 0||s.call(i,"Message sent: ",JSON.stringify(t)),(c=(o=window.opener)===null||o===void 0?void 0:o.postMessage)===null||c===void 0||c.call(o,t,this.endpoint)},r.prototype.sendRequest=function(t,i,s){var o=this;s===void 0&&(s={timeout:15e3});var c=G1(),d={id:c,action:t,args:i},g=new Promise(function(p,m){o.requestCallbacks[c]={resolve:p,reject:m},o.notify(d),(s==null?void 0:s.timeout)>0&&setTimeout(function(){m(new Error("".concat(t," timed out (id: ").concat(c,")"))),delete o.requestCallbacks[c]},s.timeout)});return g},r.prototype.handleResponse=function(t){var i;if(!this.requestCallbacks[t.id]){(i=this.logger)===null||i===void 0||i.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},r.prototype.setup=function(t){var i=this,s=t===void 0?{}:t,o=s.logger,c=s.endpoint,d=s.isElementSelectable,g=s.cssSelectorAllowlist,p=s.actionClickAllowlist;this.logger=o,c&&this.endpoint===ec&&(this.endpoint=c);var m=null;window.addEventListener("message",function(E){var S,C,M,P,j;if((C=(S=i.logger)===null||S===void 0?void 0:S.debug)===null||C===void 0||C.call(S,"Message received: ",JSON.stringify(E)),i.endpoint===E.origin){var F=E==null?void 0:E.data,Q=F==null?void 0:F.action;if(Q)if("id"in F)(P=(M=i.logger)===null||M===void 0?void 0:M.debug)===null||P===void 0||P.call(M,"Received Response to previous request: ",JSON.stringify(E)),i.handleResponse(F);else if(Q==="ping")i.notify({action:"pong"});else if(Q==="initialize-visual-tagging-selector"){var H=F==null?void 0:F.data;j1(CS).then(function(){var X;m=(X=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||X===void 0?void 0:X.call(window,{getEventTagProps:H1,isElementSelectable:function($){return d?d((H==null?void 0:H.actionType)||"click",$):!0},onTrack:i.onTrack,onSelect:i.onSelect,visualHighlightClass:pd,messenger:i,cssSelectorAllowlist:g,actionClickAllowlist:p}),i.notify({action:"selector-loaded"})}).catch(function(){var X;(X=i.logger)===null||X===void 0||X.warn("Failed to initialize visual tagging selector")})}else Q==="close-visual-tagging-selector"&&((j=m==null?void 0:m.close)===null||j===void 0||j.call(m))}}),this.notify({action:"page-loaded"})},r}(),Q1=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],Y1=["type"],X1=["svg","path","g"],K1=["password","hidden"],$1=128,Z1=1024;function J1(r){var t,i,s,o,c,d;if(r===null)return null;var g=String(r.tagName).toLowerCase(),p={tag:g},m=Array.from((o=(s=r.parentElement)===null||s===void 0?void 0:s.children)!==null&&o!==void 0?o:[]);m.length&&(p.index=m.indexOf(r),p.indexOfType=m.filter(function($){return $.tagName===r.tagName}).indexOf(r));var E=(d=(c=r.previousElementSibling)===null||c===void 0?void 0:c.tagName)===null||d===void 0?void 0:d.toLowerCase();E&&(p.prevSib=String(E));var S=r.getAttribute("id");S&&(p.id=String(S));var C=Array.from(r.classList);C.length&&(p.classes=C);var M={},P=Array.from(r.attributes),j=P.filter(function($){return!Q1.includes($.name)}),F=!v_(r);if(!K1.includes(String(r.getAttribute("type")))&&!X1.includes(g))try{for(var Q=Ae(j),H=Q.next();!H.done;H=Q.next()){var X=H.value;F&&!Y1.includes(X.name)||(M[X.name]=String(X.value).substring(0,$1))}}catch($){t={error:$}}finally{try{H&&!H.done&&(i=Q.return)&&i.call(Q)}finally{if(t)throw t.error}}return Object.keys(M).length&&(p.attrs=M),p}function W1(r){var t=[];if(!r)return t;t.push(r);for(var i=r.parentElement;i&&i.tagName!=="HTML";)t.push(i),i=i.parentElement;return t}var tw=function(r){var t=[];if(!r)return[];var i=W1(r);return t=ew(i.map(function(s){return J1(s)}),Z1),t};function ew(r,t){for(var i=0,s=0;s<r.length;s++){var o=r[s];if(o===null)i+=4;else{var c=nc(o);i+=c?Array.from(c).length:4}if(i>t)return r.slice(0,s)}return r}function nc(r,t){t===void 0&&(t=!1);try{if(r==null)return t?"None":null;if(typeof r=="string")return t?(r=r.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),r.includes('"')?"'".concat(r,"'"):r.includes("'")?'"'.concat(r.replace(/'/g,"\\'"),'"'):"'".concat(r,"'")):r;if(typeof r=="boolean")return r?"True":"False";if(Array.isArray(r)){var i=r.map(function(c){return nc(c,!0)});return"[".concat(i.join(", "),"]")}else if(typeof r=="object"){var s=Object.entries(r).filter(function(c){var d=zt(c,1),g=d[0];return g!=null}).map(function(c){var d=zt(c,2),g=d[0],p=d[1];return"".concat(String(nc(g,!0)),": ").concat(String(nc(p,!0)))}),o="{".concat(s.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return r.toString()}catch{return null}}var nw=5;function iw(r){var t=r.amplitude,i=r.allObservables,s=r.options,o=r.shouldTrackEvent,c=i.clickObservable,d=c.pipe(R1(),kr(function(E){var S=zt(E,2),C=S[0],M=S[1],P=C.event.target!==M.event.target,j=Math.abs(M.event.screenX-C.event.screenX)<=20&&Math.abs(M.event.screenY-C.event.screenY)<=20;return P&&!j})),g=c.pipe(b1(s.debounceTime),_i(function(){return"timeout"})),p=o_(d,g),m=c.pipe(w1(0),kr(Yd),kr(function(E){return o("click",E.closestTrackedAncestor)}),T1(p));return m.subscribe(function(E){var S,C,M=(E.length>=nw,gd);try{for(var P=Ae(E),j=P.next();!j.done;j=P.next()){var F=j.value;t==null||t.track(M,F.targetElementProperties)}}catch(Q){S={error:Q}}finally{try{j&&!j.done&&(C=P.return)&&C.call(P)}finally{if(S)throw S.error}}})}function rw(r){var t=r.amplitude,i=r.allObservables,s=r.getEventProperties,o=r.shouldTrackEvent,c=i.changeObservable,d=c.pipe(kr(Yd),kr(function(g){return o("change",g.closestTrackedAncestor)}));return d.subscribe(function(g){t==null||t.track(fS,s("change",g.closestTrackedAncestor))})}function aw(r){var t=r.amplitude,i=r.allObservables,s=r.options,o=r.getEventProperties,c=r.shouldTrackEvent,d=r.shouldTrackActionClick,g=i.clickObservable,p=i.mutationObservable,m=i.navigateObservable,E=g.pipe(kr(function(P){return!c("click",P.closestTrackedAncestor)}),_i(function(P){var j=Qd(P.event.target,s.actionClickAllowlist);return P.closestTrackedAncestor=j,P.closestTrackedAncestor!==null&&(P.targetElementProperties=o(P.type,P.closestTrackedAncestor)),P}),kr(Yd),kr(function(P){return d("click",P.closestTrackedAncestor)})),S=[p];m&&S.push(m);var C=o_.apply(void 0,he([],zt(S),!1)),M=E.pipe(C1(function(P){return C.pipe(u_(1),o1({first:500,with:function(){return Hd}}),_i(function(){return P}))}));return M.subscribe(function(P){t==null||t.track(gd,o("click",P.closestTrackedAncestor))})}var Rs;(function(r){r.ClickObservable="clickObservable",r.ChangeObservable="changeObservable",r.NavigateObservable="navigateObservable",r.MutationObservable="mutationObservable"})(Rs||(Rs={}));function sw(r){return r.type==="click"||r.type==="change"}var ow=function(r){var t,i,s;r===void 0&&(r={});var o=r.dataAttributePrefix,c=o===void 0?oA:o,d=r.visualTaggingOptions,g=d===void 0?{enabled:!0,messenger:new F1}:d;r.cssSelectorAllowlist=(t=r.cssSelectorAllowlist)!==null&&t!==void 0?t:sA,r.actionClickAllowlist=(i=r.actionClickAllowlist)!==null&&i!==void 0?i:uA,r.debounceTime=(s=r.debounceTime)!==null&&s!==void 0?s:0;var p=cS,m="enrichment",E=[],S=void 0,C=function(){var H,X=Jo(document,"click",{capture:!0}).pipe(_i(function(N){return P(N,"click")})),$=Jo(document,"change",{capture:!0}).pipe(_i(function(N){return P(N,"change")})),nt;window.navigation&&(nt=Jo(window.navigation,"navigate").pipe(_i(function(N){return P(N,"navigate")})));var st=new wn(function(N){var w=new MutationObserver(function(A){N.next(A)});return w.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return w.disconnect()}}).pipe(_i(function(N){return P(N,"mutation")}));return H={},H[Rs.ClickObservable]=X,H[Rs.ChangeObservable]=$,H[Rs.NavigateObservable]=nt,H[Rs.MutationObservable]=st,H},M=function(H,X){var $,nt,st,N=(st=(nt=X==null?void 0:X.tagName)===null||nt===void 0?void 0:nt.toLowerCase)===null||st===void 0?void 0:st.call(nt),w=typeof X.getBoundingClientRect=="function"?X.getBoundingClientRect():{left:null,top:null},A=X.getAttribute("aria-label"),O=B1(X,c),V=m_(X),x=g_(X,S),I=($={},$[hS]=X.getAttribute("id")||"",$[dS]=X.getAttribute("class"),$[vS]=tw(X),$[k0]=N,$[z0]=Fd(X),$[pS]=w.left==null?null:Math.round(w.left),$[mS]=w.top==null?null:Math.round(w.top),$[yS]=A,$[_S]=O,$[B0]=x,$[ES]=V,$[q0]=window.location.href.split("?")[0],$[TS]=typeof document<"u"&&document.title||"",$[bS]=window.innerHeight,$[AS]=window.innerWidth,$);return N==="a"&&H==="click"&&X instanceof HTMLAnchorElement&&(I[gS]=X.href),p_(I)},P=function(H,X){var $={event:H,timestamp:Date.now(),type:X};if(sw($)&&$.event.target!==null){var nt=Qd($.event.target,r.cssSelectorAllowlist);return nt&&($.closestTrackedAncestor=nt,$.targetElementProperties=M($.type,nt)),$}return $},j=function(H,X){return ot(void 0,void 0,void 0,function(){var $,nt,st,N,w,A,O,V,x,I;return at(this,function(Gt){return S=H.loggerProvider,typeof document>"u"?[2]:($=nd(r,r.cssSelectorAllowlist),nt=nd(r,r.actionClickAllowlist),st=C(),N=iw({allObservables:st,options:r,amplitude:X,shouldTrackEvent:$}),E.push(N),w=rw({allObservables:st,getEventProperties:M,amplitude:X,shouldTrackEvent:$}),E.push(w),A=aw({allObservables:st,options:r,getEventProperties:M,amplitude:X,shouldTrackEvent:$,shouldTrackActionClick:nt}),E.push(A),(x=H==null?void 0:H.loggerProvider)===null||x===void 0||x.log("".concat(p," has been successfully added.")),window.opener&&g.enabled&&(O=r.cssSelectorAllowlist,V=r.actionClickAllowlist,(I=g.messenger)===null||I===void 0||I.setup(ht(ht({logger:H==null?void 0:H.loggerProvider},(H==null?void 0:H.serverZone)&&{endpoint:RS[H.serverZone]}),{isElementSelectable:nd(r,he(he([],zt(O),!1),zt(V),!1)),cssSelectorAllowlist:O,actionClickAllowlist:V}))),[2])})})},F=function(H){return ot(void 0,void 0,void 0,function(){return at(this,function(X){return[2,H]})})},Q=function(){return ot(void 0,void 0,void 0,function(){var H,X,$,nt,st;return at(this,function(N){try{for(H=Ae(E),X=H.next();!X.done;X=H.next())$=X.value,$.unsubscribe()}catch(w){nt={error:w}}finally{try{X&&!X.done&&(st=H.return)&&st.call(H)}finally{if(nt)throw nt.error}}return[2]})})};return{name:p,type:m,setup:j,execute:F,teardown:Q}},uw="utm_campaign",lw="utm_content",cw="utm_id",fw="utm_medium",hw="utm_source",dw="utm_term",dy="dclid",vy="fbclid",gy="gbraid",py="gclid",my="ko_click_id",yy="li_fat_id",_y="msclkid",Ey="rtd_cid",Ty="ttclid",by="twclid",Ay="wbraid",Xd={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Sy=function(r){var t=r.split(".");return t.length<=2?r:t.slice(t.length-2,t.length).join(".")},vw=function(r){return Object.values(r).every(function(t){return!t})},gw=function(r,t,i,s,o){o===void 0&&(o=!0),r.referrer;var c=r.referring_domain,d=hd(r,["referrer","referring_domain"]),g=t||{};g.referrer;var p=g.referring_domain,m=hd(g,["referrer","referring_domain"]);if(pw(i.excludeReferrers,r.referring_domain))return s.debug("This is not a new campaign because ".concat(r.referring_domain," is in the exclude referrer list.")),!1;if(!o&&vw(r)&&t)return s.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var E=JSON.stringify(d)!==JSON.stringify(m),S=Sy(c||"")!==Sy(p||""),C=!t||E||S;return C?s.debug("This is a new campaign. An $identify event will be sent."):s.debug("This is not a new campaign because it's the same as the previous one."),C},pw=function(r,t){return r===void 0&&(r=[]),t===void 0&&(t=""),r.some(function(i){return i instanceof RegExp?i.test(t):i===t})},mw=function(r,t){var i=ht(ht({},Xd),r),s=Object.entries(i).reduce(function(o,c){var d,g=zt(c,2),p=g[0],m=g[1];return o.setOnce("initial_".concat(p),(d=m??t.initialEmptyValue)!==null&&d!==void 0?d:"EMPTY"),m?o.set(p,m):o.unset(p)},new oc);return S0(s)},yw=function(r){var t=r;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},_w=function(){function r(){}return r.prototype.parse=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){return[2,ht(ht(ht(ht({},Xd),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},r.prototype.getUtmParam=function(){var t=uc(),i=t[uw],s=t[lw],o=t[cw],c=t[fw],d=t[hw],g=t[dw];return{utm_campaign:i,utm_content:s,utm_id:o,utm_medium:c,utm_source:d,utm_term:g}},r.prototype.getReferrer=function(){var t,i,s={referrer:void 0,referring_domain:void 0};try{s.referrer=document.referrer||void 0,s.referring_domain=(i=(t=s.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&i!==void 0?i:void 0}catch{}return s},r.prototype.getClickIds=function(){var t,i=uc();return t={},t[dy]=i[dy],t[vy]=i[vy],t[gy]=i[gy],t[py]=i[py],t[my]=i[my],t[yy]=i[yy],t[_y]=i[_y],t[Ey]=i[Ey],t[Ty]=i[Ty],t[by]=i[by],t[Ay]=i[Ay],t},r}(),Ew=function(){function r(t,i){var s;this.shouldTrackNewCampaign=!1,this.options=ht({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:yw((s=i.cookieOptions)===null||s===void 0?void 0:s.domain)},t),this.storage=i.cookieStorage,this.storageKey=iA(i.apiKey,"MKTG"),this.currentCampaign=Xd,this.sessionTimeout=i.sessionTimeout,this.lastEventTime=i.lastEventTime,this.logger=i.loggerProvider,i.loggerProvider.log("Installing web attribution tracking.")}return r.prototype.init=function(){return ot(this,void 0,void 0,function(){var t,i;return at(this,function(s){switch(s.label){case 0:return[4,this.fetchCampaign()];case 1:return i=zt.apply(void 0,[s.sent(),2]),this.currentCampaign=i[0],this.previousCampaign=i[1],t=this.lastEventTime?D0(this.sessionTimeout,this.lastEventTime):!0,gw(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},r.prototype.fetchCampaign=function(){return ot(this,void 0,void 0,function(){return at(this,function(t){switch(t.label){case 0:return[4,Promise.all([new _w().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},r.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var i=mw(this.currentCampaign,this.options);return t&&(i.event_id=t),i},r.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},r}(),Tw=function(r){Sn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(i,s,o){i===void 0&&(i="");var c,d;return arguments.length>2?(c=s,d=o):typeof s=="string"?(c=s,d=void 0):(c=s==null?void 0:s.userId,d=s),fn(this._init(ht(ht({},d),{userId:c,apiKey:i})))},t.prototype._init=function(i){return ot(this,void 0,void 0,function(){var s,o,c,d,g,p,m=this,E,S,C;return at(this,function(M){switch(M.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,VA(i.apiKey,i,this)]);case 1:return s=M.sent(),i.fetchRemoteConfig?[4,lS(s)]:[3,4];case 2:return o=M.sent(),[4,o.generateJoinedConfig()];case 3:s=M.sent(),M.label=4;case 4:return[4,r.prototype._init.call(this,s)];case 5:return M.sent(),this.logBrowserOptions(s),O0(this.config.defaultTracking)?(c=dA(this.config),this.webAttribution=new Ew(c,this.config),[4,this.webAttribution.init()]):[3,7];case 6:M.sent(),M.label=7;case 7:return d=uc(),g=Number.isNaN(Number(d.ampSessionId))?void 0:Number(d.ampSessionId),this.setSessionId((C=(S=(E=i.sessionId)!==null&&E!==void 0?E:g)!==null&&S!==void 0?S:this.config.sessionId)!==null&&C!==void 0?C:Date.now()),p=iu(i.instanceName),p.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===aA?[3,9]:[4,this.add(JA()).promise];case 8:M.sent(),M.label=9;case 9:return[4,this.add(new zb).promise];case 10:return M.sent(),[4,this.add(new yA).promise];case 11:return M.sent(),[4,this.add(new $b).promise];case 12:return M.sent(),ZA(this.config),lA(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add($A()).promise]):[3,14];case 13:M.sent(),M.label=14;case 14:return cA(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(KA()).promise]):[3,16];case 15:M.sent(),M.label=16;case 16:return N0(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(FA(hA(this.config))).promise]):[3,18];case 17:M.sent(),M.label=18;case 18:return M0(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(ow(fA(this.config))).promise]):[3,20];case 19:M.sent(),M.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return M.sent(),p.eventBridge.setEventReceiver(function(P){m.track(P.eventType,P.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.userId},t.prototype.setUserId=function(i){if(!this.config){this.q.push(this.setUserId.bind(this,i));return}this.config.loggerProvider.debug("function setUserId: ",i),(i!==this.config.userId||i===void 0)&&(this.config.userId=i,Xb(i,this.config.instanceName))},t.prototype.getDeviceId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.deviceId},t.prototype.setDeviceId=function(i){if(!this.config){this.q.push(this.setDeviceId.bind(this,i));return}this.config.loggerProvider.debug("function setDeviceId: ",i),this.config.deviceId=i,Kb(i,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(Ps()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.sessionId},t.prototype.setSessionId=function(i){var s,o=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,i)),fn(Promise.resolve());if(i===this.config.sessionId)return fn(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",i);var c=this.getSessionId(),d=this.config.lastEventTime,g=(s=this.config.lastEventId)!==null&&s!==void 0?s:-1;this.config.sessionId=i,this.config.lastEventTime=void 0,this.config.pageCounter=0,xm(this.config.defaultTracking)&&(c&&d&&o.push(this.track(zm,void 0,{device_id:this.previousSessionDeviceId,event_id:++g,session_id:c,time:d+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var p=this.trackCampaignEventIfNeeded(++g,o);return xm(this.config.defaultTracking)&&o.push(this.track(km,void 0,{event_id:p?++g:g,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,fn(Promise.all(o))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(i){if(!this.config){this.q.push(this.setTransport.bind(this,i));return}this.config.transportProvider=L0(i)},t.prototype.identify=function(i,s){if(Kh(i)){var o=i._q;i._q=[],i=Xh(new oc,o)}return s!=null&&s.user_id&&this.setUserId(s.user_id),s!=null&&s.device_id&&this.setDeviceId(s.device_id),r.prototype.identify.call(this,i,s)},t.prototype.groupIdentify=function(i,s,o,c){if(Kh(o)){var d=o._q;o._q=[],o=Xh(new oc,d)}return r.prototype.groupIdentify.call(this,i,s,o,c)},t.prototype.revenue=function(i,s){if(Kh(i)){var o=i._q;i._q=[],i=Xh(new Ub,o)}return r.prototype.revenue.call(this,i,s)},t.prototype.trackCampaignEventIfNeeded=function(i,s){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var o=this.webAttribution.generateCampaignEvent(i);return s?s.push(this.track(o).promise):this.track(o),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(i){return ot(this,void 0,void 0,function(){var s,o,c;return at(this,function(d){return s=Date.now(),o=D0(this.config.sessionTimeout,this.config.lastEventTime),c=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),i.event_type!==km&&i.event_type!==zm&&(!i.session_id||i.session_id===this.getSessionId())&&(o||c?(this.setSessionId(s),c&&this.config.loggerProvider.log("Created a new session for new campaign.")):o||this.trackCampaignEventIfNeeded()),[2,r.prototype.process.call(this,i)]})})},t.prototype.logBrowserOptions=function(i){try{var s=ht(ht({},i),{apiKey:i.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(s))}catch(o){this.config.loggerProvider.error("Error logging browser config",o)}},t}(Vb),bw=function(){var r=new Tw;return{init:_e(r.init.bind(r),"init",me(r),ye(r,["config"])),add:_e(r.add.bind(r),"add",me(r),ye(r,["config.apiKey","timeline.plugins"])),remove:_e(r.remove.bind(r),"remove",me(r),ye(r,["config.apiKey","timeline.plugins"])),track:_e(r.track.bind(r),"track",me(r),ye(r,["config.apiKey","timeline.queue.length"])),logEvent:_e(r.logEvent.bind(r),"logEvent",me(r),ye(r,["config.apiKey","timeline.queue.length"])),identify:_e(r.identify.bind(r),"identify",me(r),ye(r,["config.apiKey","timeline.queue.length"])),groupIdentify:_e(r.groupIdentify.bind(r),"groupIdentify",me(r),ye(r,["config.apiKey","timeline.queue.length"])),setGroup:_e(r.setGroup.bind(r),"setGroup",me(r),ye(r,["config.apiKey","timeline.queue.length"])),revenue:_e(r.revenue.bind(r),"revenue",me(r),ye(r,["config.apiKey","timeline.queue.length"])),flush:_e(r.flush.bind(r),"flush",me(r),ye(r,["config.apiKey","timeline.queue.length"])),getUserId:_e(r.getUserId.bind(r),"getUserId",me(r),ye(r,["config","config.userId"])),setUserId:_e(r.setUserId.bind(r),"setUserId",me(r),ye(r,["config","config.userId"])),getDeviceId:_e(r.getDeviceId.bind(r),"getDeviceId",me(r),ye(r,["config","config.deviceId"])),setDeviceId:_e(r.setDeviceId.bind(r),"setDeviceId",me(r),ye(r,["config","config.deviceId"])),reset:_e(r.reset.bind(r),"reset",me(r),ye(r,["config","config.userId","config.deviceId"])),getSessionId:_e(r.getSessionId.bind(r),"getSessionId",me(r),ye(r,["config"])),setSessionId:_e(r.setSessionId.bind(r),"setSessionId",me(r),ye(r,["config"])),extendSession:_e(r.extendSession.bind(r),"extendSession",me(r),ye(r,["config"])),setOptOut:_e(r.setOptOut.bind(r),"setOptOut",me(r),ye(r,["config"])),setTransport:_e(r.setTransport.bind(r),"setTransport",me(r),ye(r,["config"]))}};const y_=bw();var Aw=y_.init,Sw=y_.track;const ww=()=>{};var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Rw=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|m>>6,M=m&63;p||(M=64,d||(C=64)),s.push(i[E],i[S],i[C],i[M])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(__(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Rw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const m=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||m==null||S==null)throw new Cw;const C=c<<2|g>>4;if(s.push(C),m!==64){const M=g<<4&240|m>>2;if(s.push(M),S!==64){const P=m<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dw=function(r){const t=__(r);return E_.encodeByteArray(t,!0)},dc=function(r){return Dw(r).replace(/\./g,"")},Iw=function(r){try{return E_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=()=>Ow().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process>"u"||typeof wy>"u")return;const r=wy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Vw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Iw(r[1]);return t&&JSON.parse(t)},Kd=()=>{try{return ww()||Nw()||Mw()||Vw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Uw=r=>{var t,i;return(i=(t=Kd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},Lw=r=>{const t=Uw(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},T_=()=>{var r;return(r=Kd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zw(){var r;const t=(r=Kd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Hw(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="FirebaseError";class ks extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=jw,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b_.prototype.create)}}class b_{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Gw(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ks(o,g,s)}}function Gw(r,t){return r.replace(Fw,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Fw=/\{\$([^}]+)}/g;function vc(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=t[o];if(Ry(c)&&Ry(d)){if(!vc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ry(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){return r&&r._delegate?r._delegate:r}class ru{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new xw;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xw(t))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Aa){return this.instances.has(t)}getOptions(t=Aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Yw(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Aa){return this.component?this.component.multipleInstances?t:Aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yw(r){return r===Aa?void 0:r}function Xw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Qw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const $w={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},Zw=xt.INFO,Jw={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Ww=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Jw[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class A_{constructor(t){this.name=t,this._logLevel=Zw,this._logHandler=Ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$w[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const t2=(r,t)=>t.some(i=>r instanceof i);let Cy,Dy;function e2(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S_=new WeakMap,Ed=new WeakMap,w_=new WeakMap,id=new WeakMap,$d=new WeakMap;function i2(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(zr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S_.set(i,r)}).catch(()=>{}),$d.set(t,r),t}function r2(r){if(Ed.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ed.set(r,t)}let Td={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ed.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function a2(r){Td=r(Td)}function s2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(rd(this),t,...i);return w_.set(s,t.sort?t.sort():[t]),zr(s)}:n2().includes(r)?function(...t){return r.apply(rd(this),t),zr(S_.get(this))}:function(...t){return zr(r.apply(rd(this),t))}}function o2(r){return typeof r=="function"?s2(r):(r instanceof IDBTransaction&&r2(r),t2(r,e2())?new Proxy(r,Td):r)}function zr(r){if(r instanceof IDBRequest)return i2(r);if(id.has(r))return id.get(r);const t=o2(r);return t!==r&&(id.set(r,t),$d.set(t,r)),t}const rd=r=>$d.get(r);function u2(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=zr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(zr(d.result),p.oldVersion,p.newVersion,zr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const l2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],ad=new Map;function Iy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ad.get(t))return ad.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=c2.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||l2.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(g.shift())),(await Promise.all([m[i](...g),o&&p.done]))[0]};return ad.set(t,c),c}a2(r=>({...r,get:(t,i,s)=>Iy(t,i)||r.get(t,i,s),has:(t,i)=>!!Iy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(h2(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function h2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bd="@firebase/app",Oy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new A_("@firebase/app"),d2="@firebase/app-compat",v2="@firebase/analytics-compat",g2="@firebase/analytics",p2="@firebase/app-check-compat",m2="@firebase/app-check",y2="@firebase/auth",_2="@firebase/auth-compat",E2="@firebase/database",T2="@firebase/data-connect",b2="@firebase/database-compat",A2="@firebase/functions",S2="@firebase/functions-compat",w2="@firebase/installations",R2="@firebase/installations-compat",C2="@firebase/messaging",D2="@firebase/messaging-compat",I2="@firebase/performance",O2="@firebase/performance-compat",N2="@firebase/remote-config",M2="@firebase/remote-config-compat",V2="@firebase/storage",U2="@firebase/storage-compat",L2="@firebase/firestore",x2="@firebase/vertexai",P2="@firebase/firestore-compat",k2="firebase",z2="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",B2={[bd]:"fire-core",[d2]:"fire-core-compat",[g2]:"fire-analytics",[v2]:"fire-analytics-compat",[m2]:"fire-app-check",[p2]:"fire-app-check-compat",[y2]:"fire-auth",[_2]:"fire-auth-compat",[E2]:"fire-rtdb",[T2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[A2]:"fire-fn",[S2]:"fire-fn-compat",[w2]:"fire-iid",[R2]:"fire-iid-compat",[C2]:"fire-fcm",[D2]:"fire-fcm-compat",[I2]:"fire-perf",[O2]:"fire-perf-compat",[N2]:"fire-rc",[M2]:"fire-rc-compat",[V2]:"fire-gcs",[U2]:"fire-gcs-compat",[L2]:"fire-fst",[P2]:"fire-fst-compat",[x2]:"fire-vertex","fire-js":"fire-js",[k2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,q2=new Map,Sd=new Map;function Ny(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function mc(r){const t=r.name;if(Sd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,r);for(const i of pc.values())Ny(i,r);for(const i of q2.values())Ny(i,r);return!0}function H2(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function j2(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new b_("app","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=z2;function R_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ad,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(i||(i=T_()),!i)throw Br.create("no-options");const c=pc.get(o);if(c){if(vc(i,c.options)&&vc(s,c.config))return c;throw Br.create("duplicate-app",{appName:o})}const d=new Kw(o);for(const p of Sd.values())d.addComponent(p);const g=new F2(i,s,d);return pc.set(o,g),g}function Y2(r=Ad){const t=pc.get(r);if(!t&&r===Ad&&T_())return R_();if(!t)throw Br.create("no-app",{appName:r});return t}function Is(r,t,i){var s;let o=(s=B2[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(g.join(" "));return}mc(new ru(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-heartbeat-database",K2=1,au="firebase-heartbeat-store";let sd=null;function C_(){return sd||(sd=u2(X2,K2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(au)}catch(i){console.warn(i)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),sd}async function $2(r){try{const i=(await C_()).transaction(au),s=await i.objectStore(au).get(D_(r));return await i.done,s}catch(t){if(t instanceof ks)Ji.warn(t.message);else{const i=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(i.message)}}}async function My(r,t){try{const s=(await C_()).transaction(au,"readwrite");await s.objectStore(au).put(t,D_(r)),await s.done}catch(i){if(i instanceof ks)Ji.warn(i.message);else{const s=Br.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ji.warn(s.message)}}}function D_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1024,J2=30;class W2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>J2){const d=nR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Vy(),{heartbeatsToSend:s,unsentEntries:o}=tR(this._heartbeatsCache.heartbeats),c=dc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ji.warn(i),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function tR(r,t=Z2){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Uy(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class eR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?Hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Uy(r){return dc(JSON.stringify({version:2,heartbeats:r})).length}function nR(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){mc(new ru("platform-logger",t=>new f2(t),"PRIVATE")),mc(new ru("heartbeat",t=>new W2(t),"PRIVATE")),Is(bd,Oy,r),Is(bd,Oy,"esm2017"),Is("fire-js","")}iR("");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zd;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function A(){}A.prototype=w.prototype,N.D=w.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(O,V,x){for(var I=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)I[Gt-2]=arguments[Gt];return w.prototype[V].apply(O,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,A){A||(A=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(V=0;16>V;++V)O[V]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=N.g[0],A=N.g[1],V=N.g[2];var x=N.g[3],I=w+(x^A&(V^x))+O[0]+3614090360&4294967295;w=A+(I<<7&4294967295|I>>>25),I=x+(V^w&(A^V))+O[1]+3905402710&4294967295,x=w+(I<<12&4294967295|I>>>20),I=V+(A^x&(w^A))+O[2]+606105819&4294967295,V=x+(I<<17&4294967295|I>>>15),I=A+(w^V&(x^w))+O[3]+3250441966&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(x^A&(V^x))+O[4]+4118548399&4294967295,w=A+(I<<7&4294967295|I>>>25),I=x+(V^w&(A^V))+O[5]+1200080426&4294967295,x=w+(I<<12&4294967295|I>>>20),I=V+(A^x&(w^A))+O[6]+2821735955&4294967295,V=x+(I<<17&4294967295|I>>>15),I=A+(w^V&(x^w))+O[7]+4249261313&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(x^A&(V^x))+O[8]+1770035416&4294967295,w=A+(I<<7&4294967295|I>>>25),I=x+(V^w&(A^V))+O[9]+2336552879&4294967295,x=w+(I<<12&4294967295|I>>>20),I=V+(A^x&(w^A))+O[10]+4294925233&4294967295,V=x+(I<<17&4294967295|I>>>15),I=A+(w^V&(x^w))+O[11]+2304563134&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(x^A&(V^x))+O[12]+1804603682&4294967295,w=A+(I<<7&4294967295|I>>>25),I=x+(V^w&(A^V))+O[13]+4254626195&4294967295,x=w+(I<<12&4294967295|I>>>20),I=V+(A^x&(w^A))+O[14]+2792965006&4294967295,V=x+(I<<17&4294967295|I>>>15),I=A+(w^V&(x^w))+O[15]+1236535329&4294967295,A=V+(I<<22&4294967295|I>>>10),I=w+(V^x&(A^V))+O[1]+4129170786&4294967295,w=A+(I<<5&4294967295|I>>>27),I=x+(A^V&(w^A))+O[6]+3225465664&4294967295,x=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(x^w))+O[11]+643717713&4294967295,V=x+(I<<14&4294967295|I>>>18),I=A+(x^w&(V^x))+O[0]+3921069994&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^x&(A^V))+O[5]+3593408605&4294967295,w=A+(I<<5&4294967295|I>>>27),I=x+(A^V&(w^A))+O[10]+38016083&4294967295,x=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(x^w))+O[15]+3634488961&4294967295,V=x+(I<<14&4294967295|I>>>18),I=A+(x^w&(V^x))+O[4]+3889429448&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^x&(A^V))+O[9]+568446438&4294967295,w=A+(I<<5&4294967295|I>>>27),I=x+(A^V&(w^A))+O[14]+3275163606&4294967295,x=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(x^w))+O[3]+4107603335&4294967295,V=x+(I<<14&4294967295|I>>>18),I=A+(x^w&(V^x))+O[8]+1163531501&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(V^x&(A^V))+O[13]+2850285829&4294967295,w=A+(I<<5&4294967295|I>>>27),I=x+(A^V&(w^A))+O[2]+4243563512&4294967295,x=w+(I<<9&4294967295|I>>>23),I=V+(w^A&(x^w))+O[7]+1735328473&4294967295,V=x+(I<<14&4294967295|I>>>18),I=A+(x^w&(V^x))+O[12]+2368359562&4294967295,A=V+(I<<20&4294967295|I>>>12),I=w+(A^V^x)+O[5]+4294588738&4294967295,w=A+(I<<4&4294967295|I>>>28),I=x+(w^A^V)+O[8]+2272392833&4294967295,x=w+(I<<11&4294967295|I>>>21),I=V+(x^w^A)+O[11]+1839030562&4294967295,V=x+(I<<16&4294967295|I>>>16),I=A+(V^x^w)+O[14]+4259657740&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^x)+O[1]+2763975236&4294967295,w=A+(I<<4&4294967295|I>>>28),I=x+(w^A^V)+O[4]+1272893353&4294967295,x=w+(I<<11&4294967295|I>>>21),I=V+(x^w^A)+O[7]+4139469664&4294967295,V=x+(I<<16&4294967295|I>>>16),I=A+(V^x^w)+O[10]+3200236656&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^x)+O[13]+681279174&4294967295,w=A+(I<<4&4294967295|I>>>28),I=x+(w^A^V)+O[0]+3936430074&4294967295,x=w+(I<<11&4294967295|I>>>21),I=V+(x^w^A)+O[3]+3572445317&4294967295,V=x+(I<<16&4294967295|I>>>16),I=A+(V^x^w)+O[6]+76029189&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(A^V^x)+O[9]+3654602809&4294967295,w=A+(I<<4&4294967295|I>>>28),I=x+(w^A^V)+O[12]+3873151461&4294967295,x=w+(I<<11&4294967295|I>>>21),I=V+(x^w^A)+O[15]+530742520&4294967295,V=x+(I<<16&4294967295|I>>>16),I=A+(V^x^w)+O[2]+3299628645&4294967295,A=V+(I<<23&4294967295|I>>>9),I=w+(V^(A|~x))+O[0]+4096336452&4294967295,w=A+(I<<6&4294967295|I>>>26),I=x+(A^(w|~V))+O[7]+1126891415&4294967295,x=w+(I<<10&4294967295|I>>>22),I=V+(w^(x|~A))+O[14]+2878612391&4294967295,V=x+(I<<15&4294967295|I>>>17),I=A+(x^(V|~w))+O[5]+4237533241&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~x))+O[12]+1700485571&4294967295,w=A+(I<<6&4294967295|I>>>26),I=x+(A^(w|~V))+O[3]+2399980690&4294967295,x=w+(I<<10&4294967295|I>>>22),I=V+(w^(x|~A))+O[10]+4293915773&4294967295,V=x+(I<<15&4294967295|I>>>17),I=A+(x^(V|~w))+O[1]+2240044497&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~x))+O[8]+1873313359&4294967295,w=A+(I<<6&4294967295|I>>>26),I=x+(A^(w|~V))+O[15]+4264355552&4294967295,x=w+(I<<10&4294967295|I>>>22),I=V+(w^(x|~A))+O[6]+2734768916&4294967295,V=x+(I<<15&4294967295|I>>>17),I=A+(x^(V|~w))+O[13]+1309151649&4294967295,A=V+(I<<21&4294967295|I>>>11),I=w+(V^(A|~x))+O[4]+4149444226&4294967295,w=A+(I<<6&4294967295|I>>>26),I=x+(A^(w|~V))+O[11]+3174756917&4294967295,x=w+(I<<10&4294967295|I>>>22),I=V+(w^(x|~A))+O[2]+718787259&4294967295,V=x+(I<<15&4294967295|I>>>17),I=A+(x^(V|~w))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var A=w-this.blockSize,O=this.B,V=this.h,x=0;x<w;){if(V==0)for(;x<=A;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<w;)if(O[V++]=N.charCodeAt(x++),V==this.blockSize){o(this,O),V=0;break}}else for(;x<w;)if(O[V++]=N[x++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var A=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.u(N),N=Array(16),w=A=0;4>w;++w)for(var O=0;32>O;O+=8)N[A++]=this.g[w]>>>O&255;return N};function c(N,w){var A=g;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=w(N)}function d(N,w){this.h=w;for(var A=[],O=!0,V=N.length-1;0<=V;V--){var x=N[V]|0;O&&x==w||(A[V]=x,O=!1)}this.g=A}var g={};function p(N){return-128<=N&&128>N?c(N,function(w){return new d([w|0],0>w?-1:0)}):new d([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return F(m(-N));for(var w=[],A=1,O=0;N>=A;O++)w[O]=N/A|0,A*=4294967296;return new d(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return F(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(w,8)),O=S,V=0;V<N.length;V+=8){var x=Math.min(8,N.length-V),I=parseInt(N.substring(V,V+x),w);8>x?(x=m(Math.pow(w,x)),O=O.j(x).add(m(I))):(O=O.j(A),O=O.add(m(I)))}return O}var S=p(0),C=p(1),M=p(16777216);r=d.prototype,r.m=function(){if(j(this))return-F(this).m();for(var N=0,w=1,A=0;A<this.g.length;A++){var O=this.i(A);N+=(0<=O?O:4294967296+O)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(j(this))return"-"+F(this).toString(N);for(var w=m(Math.pow(N,6)),A=this,O="";;){var V=$(A,w).g;A=Q(A,V.j(w));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=V,P(A))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function j(N){return N.h==-1}r.l=function(N){return N=Q(this,N),j(N)?-1:P(N)?0:1};function F(N){for(var w=N.g.length,A=[],O=0;O<w;O++)A[O]=~N.g[O];return new d(A,~N.h).add(C)}r.abs=function(){return j(this)?F(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],O=0,V=0;V<=w;V++){var x=O+(this.i(V)&65535)+(N.i(V)&65535),I=(x>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=I>>>16,x&=65535,I&=65535,A[V]=I<<16|x}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Q(N,w){return N.add(F(w))}r.j=function(N){if(P(this)||P(N))return S;if(j(this))return j(N)?F(this).j(F(N)):F(F(this).j(N));if(j(N))return F(this.j(F(N)));if(0>this.l(M)&&0>N.l(M))return m(this.m()*N.m());for(var w=this.g.length+N.g.length,A=[],O=0;O<2*w;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var x=this.i(O)>>>16,I=this.i(O)&65535,Gt=N.i(V)>>>16,Ft=N.i(V)&65535;A[2*O+2*V]+=I*Ft,H(A,2*O+2*V),A[2*O+2*V+1]+=x*Ft,H(A,2*O+2*V+1),A[2*O+2*V+1]+=I*Gt,H(A,2*O+2*V+1),A[2*O+2*V+2]+=x*Gt,H(A,2*O+2*V+2)}for(O=0;O<w;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=w;O<2*w;O++)A[O]=0;return new d(A,0)};function H(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function X(N,w){this.g=N,this.h=w}function $(N,w){if(P(w))throw Error("division by zero");if(P(N))return new X(S,S);if(j(N))return w=$(F(N),w),new X(F(w.g),F(w.h));if(j(w))return w=$(N,F(w)),new X(F(w.g),w.h);if(30<N.g.length){if(j(N)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var A=C,O=w;0>=O.l(N);)A=nt(A),O=nt(O);var V=st(A,1),x=st(O,1);for(O=st(O,2),A=st(A,2);!P(O);){var I=x.add(O);0>=I.l(N)&&(V=V.add(A),x=I),O=st(O,1),A=st(A,1)}return w=Q(N,V.j(w)),new X(V,w)}for(V=S;0<=N.l(w);){for(A=Math.max(1,Math.floor(N.m()/w.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=m(A),I=x.j(w);j(I)||0<I.l(N);)A-=O,x=m(A),I=x.j(w);P(x)&&(x=C),V=V.add(x),N=Q(N,I)}return new X(V,N)}r.A=function(N){return $(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)&N.i(O);return new d(A,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)|N.i(O);return new d(A,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)^N.i(O);return new d(A,this.h^N.h)};function nt(N){for(var w=N.g.length+1,A=[],O=0;O<w;O++)A[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(A,N.h)}function st(N,w){var A=w>>5;w%=32;for(var O=N.g.length-A,V=[],x=0;x<O;x++)V[x]=0<w?N.i(x+A)>>>w|N.i(x+A+1)<<32-w:N.i(x+A);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=E,Zd=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,Zo,O_,ic,wd,N_,M_,V_;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,v,y){return l==Array.prototype||l==Object.prototype||(l[v]=y.value),l};function i(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yl=="object"&&Yl];for(var v=0;v<l.length;++v){var y=l[v];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(l,v){if(v)t:{var y=s;l=l.split(".");for(var b=0;b<l.length-1;b++){var z=l[b];if(!(z in y))break t;y=y[z]}l=l[l.length-1],b=y[l],v=v(b),v!=b&&v!=null&&t(y,l,{configurable:!0,writable:!0,value:v})}}function c(l,v){l instanceof String&&(l+="");var y=0,b=!1,z={next:function(){if(!b&&y<l.length){var G=y++;return{value:v(G,l[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(l){return l||function(){return c(this,function(v,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(l){var v=typeof l;return v=v!="object"?v:l?Array.isArray(l)?"array":v:"null",v=="array"||v=="object"&&typeof l.length=="number"}function m(l){var v=typeof l;return v=="object"&&l!=null||v=="function"}function E(l,v,y){return l.call.apply(l.bind,arguments)}function S(l,v,y){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),l.apply(v,z)}}return function(){return l.apply(v,arguments)}}function C(l,v,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function M(l,v){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function P(l,v){function y(){}y.prototype=v.prototype,l.aa=v.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(b,z,G){for(var it=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)it[Mt-2]=arguments[Mt];return v.prototype[z].apply(b,it)}}function j(l){const v=l.length;if(0<v){const y=Array(v);for(let b=0;b<v;b++)y[b]=l[b];return y}return[]}function F(l,v){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(p(b)){const z=l.length||0,G=b.length||0;l.length=z+G;for(let it=0;it<G;it++)l[z+it]=b[it]}else l.push(b)}}class Q{constructor(v,y){this.i=v,this.j=y,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(l){return/^[\s\xa0]*$/.test(l)}function X(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function $(l){return $[" "](l),l}$[" "]=function(){};var nt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function st(l,v,y){for(const b in l)v.call(y,l[b],b,l)}function N(l,v){for(const y in l)v.call(void 0,l[y],y,l)}function w(l){const v={};for(const y in l)v[y]=l[y];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(l,v){let y,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(y in b)l[y]=b[y];for(let G=0;G<A.length;G++)y=A[G],Object.prototype.hasOwnProperty.call(b,y)&&(l[y]=b[y])}}function V(l){var v=1;l=l.split(":");const y=[];for(;0<v&&l.length;)y.push(l.shift()),v--;return l.length&&y.push(l.join(":")),y}function x(l){g.setTimeout(()=>{throw l},0)}function I(){var l=Ct;let v=null;return l.g&&(v=l.g,l.g=l.g.next,l.g||(l.h=null),v.next=null),v}class Gt{constructor(){this.h=this.g=null}add(v,y){const b=Ft.get();b.set(v,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Ft=new Q(()=>new rt,l=>l.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,y){this.h=v,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,vt=!1,Ct=new Gt,D=()=>{const l=g.Promise.resolve(void 0);mt=()=>{l.then(tt)}};var tt=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(y){x(y)}var v=Ft;v.j(l),100>v.h&&(v.h++,l.next=v.g,v.g=l)}vt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(l,v){this.type=l,this.g=this.target=v,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,v=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};g.addEventListener("test",y,v),g.removeEventListener("test",y,v)}catch{}return l}();function Tt(l,v){if(ut.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=v,v=l.relatedTarget){if(nt){t:{try{$(v.nodeName);var z=!0;break t}catch{}z=!1}z||(v=null)}}else y=="mouseover"?v=l.fromElement:y=="mouseout"&&(v=l.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Et[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Tt.aa.h.call(this)}}P(Tt,ut);var Et={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Kt(l,v,y,b,z){this.listener=l,this.proxy=null,this.src=v,this.type=y,this.capture=!!b,this.ha=z,this.key=++Ot,this.da=this.fa=!1}function Pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Se(l){this.src=l,this.g={},this.h=0}Se.prototype.add=function(l,v,y,b,z){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var it=de(l,v,b,z);return-1<it?(v=l[it],y||(v.fa=!1)):(v=new Kt(v,this.src,G,!!b,z),v.fa=y,l.push(v)),v};function vn(l,v){var y=v.type;if(y in l.g){var b=l.g[y],z=Array.prototype.indexOf.call(b,v,void 0),G;(G=0<=z)&&Array.prototype.splice.call(b,z,1),G&&(Pt(v),l.g[y].length==0&&(delete l.g[y],l.h--))}}function de(l,v,y,b){for(var z=0;z<l.length;++z){var G=l[z];if(!G.da&&G.listener==v&&G.capture==!!y&&G.ha==b)return z}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),tr={};function Si(l,v,y,b,z){if(Array.isArray(v)){for(var G=0;G<v.length;G++)Si(l,v[G],y,b,z);return null}return y=_u(y),l&&l[te]?l.K(v,y,m(b)?!!b.capture:!1,z):qs(l,v,y,!1,b,z)}function qs(l,v,y,b,z,G){if(!v)throw Error("Invalid event type");var it=m(z)?!!z.capture:!!z,Mt=Hs(l);if(Mt||(l[Wi]=Mt=new Se(l)),y=Mt.add(v,y,b,it,G),y.proxy)return y;if(b=Va(),y.proxy=b,b.src=l,b.listener=y,l.addEventListener)lt||(z=it),z===void 0&&(z=!1),l.addEventListener(v.toString(),b,z);else if(l.attachEvent)l.attachEvent(La(v.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Va(){function l(y){return v.call(l.src,l.listener,y)}const v=jc;return l}function Ua(l,v,y,b,z){if(Array.isArray(v))for(var G=0;G<v.length;G++)Ua(l,v[G],y,b,z);else b=m(b)?!!b.capture:!!b,y=_u(y),l&&l[te]?(l=l.i,v=String(v).toString(),v in l.g&&(G=l.g[v],y=de(G,y,b,z),-1<y&&(Pt(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete l.g[v],l.h--)))):l&&(l=Hs(l))&&(v=l.g[v.toString()],l=-1,v&&(l=de(v,y,b,z)),(y=-1<l?v[l]:null)&&Fr(y))}function Fr(l){if(typeof l!="number"&&l&&!l.da){var v=l.src;if(v&&v[te])vn(v.i,l);else{var y=l.type,b=l.proxy;v.removeEventListener?v.removeEventListener(y,b,l.capture):v.detachEvent?v.detachEvent(La(y),b):v.addListener&&v.removeListener&&v.removeListener(b),(y=Hs(v))?(vn(y,l),y.h==0&&(y.src=null,v[Wi]=null)):Pt(l)}}}function La(l){return l in tr?tr[l]:tr[l]="on"+l}function jc(l,v){if(l.da)l=!0;else{v=new Tt(v,this);var y=l.listener,b=l.ha||l.src;l.fa&&Fr(l),l=y.call(b,v)}return l}function Hs(l){return l=l[Wi],l instanceof Se?l:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(l){return typeof l=="function"?l:(l[un]||(l[un]=function(v){return l.handleEvent(v)}),l[un])}function we(){ft.call(this),this.i=new Se(this),this.M=this,this.F=null}P(we,ft),we.prototype[te]=!0,we.prototype.removeEventListener=function(l,v,y,b){Ua(this,l,v,y,b)};function Ne(l,v){var y,b=l.F;if(b)for(y=[];b;b=b.F)y.push(b);if(l=l.M,b=v.type||v,typeof v=="string")v=new ut(v,l);else if(v instanceof ut)v.target=v.target||l;else{var z=v;v=new ut(b,l),O(v,z)}if(z=!0,y)for(var G=y.length-1;0<=G;G--){var it=v.g=y[G];z=wi(it,b,!0,v)&&z}if(it=v.g=l,z=wi(it,b,!0,v)&&z,z=wi(it,b,!1,v)&&z,y)for(G=0;G<y.length;G++)it=v.g=y[G],z=wi(it,b,!1,v)&&z}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var l=this.i,v;for(v in l.g){for(var y=l.g[v],b=0;b<y.length;b++)Pt(y[b]);delete l.g[v],l.h--}}this.F=null},we.prototype.K=function(l,v,y,b){return this.i.add(String(l),v,!1,y,b)},we.prototype.L=function(l,v,y,b){return this.i.add(String(l),v,!0,y,b)};function wi(l,v,y,b){if(v=l.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,G=0;G<v.length;++G){var it=v[G];if(it&&!it.da&&it.capture==y){var Mt=it.listener,Ce=it.ha||it.src;it.fa&&vn(l.i,it),z=Mt.call(Ce,b)!==!1&&z}}return z&&!b.defaultPrevented}function Eu(l,v,y){if(typeof l=="function")y&&(l=C(l,y));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:g.setTimeout(l,v||0)}function js(l){l.g=Eu(()=>{l.g=null,l.i&&(l.i=!1,js(l))},l.l);const v=l.h;l.h=null,l.m.apply(null,v)}class Gc extends ft{constructor(v,y){super(),this.m=v,this.l=y,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(l){ft.call(this),this.h=l,this.g={}}P(Qr,ft);var er=[];function Ke(l){st(l.g,function(v,y){this.g.hasOwnProperty(y)&&Fr(v)},l),l.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Ke(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=g.JSON.stringify,ei=g.JSON.parse,nn=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Fs(){}Fs.prototype.h=null;function Tu(l){return l.h||(l.h=l.i())}function bu(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ut.call(this,"d")}P(nr,ut);function Hn(){ut.call(this,"c")}P(Hn,ut);var Rn={},ir=null;function xa(){return ir=ir||new we}Rn.La="serverreachability";function Qs(l){ut.call(this,Rn.La,l)}P(Qs,ut);function rr(l){const v=xa();Ne(v,new Qs(v))}Rn.STAT_EVENT="statevent";function Pa(l,v){ut.call(this,Rn.STAT_EVENT,l),this.stat=v}P(Pa,ut);function ce(l){const v=xa();Ne(v,new Pa(v,l))}Rn.Ma="timingevent";function Au(l,v){ut.call(this,Rn.Ma,l),this.size=v}P(Au,ut);function ar(l,v){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},v)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function Su(l,v,y,b,z,G){l.info(function(){if(l.g)if(G)for(var it="",Mt=G.split("&"),Ce=0;Ce<Mt.length;Ce++){var Vt=Mt[Ce].split("=");if(1<Vt.length){var Ue=Vt[0];Vt=Vt[1];var De=Ue.split("_");it=2<=De.length&&De[1]=="type"?it+(Ue+"="+Vt+"&"):it+(Ue+"=redacted&")}}else it=null;else it=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+v+`
`+y+`
`+it})}function wu(l,v,y,b,z,G,it){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+v+`
`+y+`
`+G+" "+it})}function or(l,v,y,b){l.info(function(){return"XMLHTTP TEXT ("+v+"): "+Me(l,y)+(b?" "+b:"")})}function ii(l,v){l.info(function(){return"TIMEOUT: "+v})}sr.prototype.info=function(){};function Me(l,v){if(!l.g)return v;if(!v)return null;try{var y=JSON.parse(v);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var b=y[l];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var it=1;it<z.length;it++)z[it]=""}}}}return Gs(y)}catch{return v}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function ka(){}P(ka,Fs),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},Yr=new ka;function ri(l,v,y,b){this.j=l,this.i=v,this.l=y,this.R=b||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}var ur={},Xr={};function jn(l,v,y){l.L=1,l.v=Zr(ae(v)),l.m=y,l.P=!0,Ci(l,null)}function Ci(l,v){l.F=Date.now(),ne(l),l.A=ae(l.v);var y=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Oi(y.i,"t",b),l.C=0,y=l.j.J,l.h=new Ys,l.g=zu(l.j,y?v:null,!l.m),0<l.O&&(l.M=new Gc(C(l.Y,l,l.g),l.O)),v=l.U,y=l.g,b=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(er[0]=z.toString()),z=er);for(var G=0;G<z.length;G++){var it=Si(y,z[G],b||v.handleEvent,!1,v.h||v);if(!it)break;v.g[it.key]=it}v=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,v)):(l.u="GET",l.g.ea(l.A,l.u,null,v)),rr(),Su(l.i,l.u,l.A,l.l,l.R,l.m)}ri.prototype.ca=function(l){l=l.target;const v=this.M;v&&Nn(l)==3?v.j():this.Y(l)},ri.prototype.Y=function(l){try{if(l==this.g)t:{const De=Nn(this.g);var v=this.g.Ba();const Ui=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||De!=4||v==7||(v==8||0>=Ui?rr(3):rr(2)),za(this);var y=this.g.Z();this.X=y;e:if(lr(this)){var b=Nu(this.g);l="";var z=b.length,G=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),gn(this);var it="";break e}this.h.i=new g.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,l+=this.h.i.decode(b[v],{stream:!(G&&v==z-1)});b.length=0,this.h.g+=l,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=y==200,wu(this.i,this.u,this.A,this.l,this.R,De,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ce=this.g;if((Mt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Mt)){var Vt=Mt;break e}}Vt=null}if(y=Vt)or(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,y);else{this.o=!1,this.s=3,ce(12),ln(this),gn(this);break t}}if(this.P){y=!0;let qe;for(;!this.J&&this.C<it.length;)if(qe=cr(this,it),qe==Xr){De==4&&(this.s=4,ce(14),y=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==ur){this.s=4,ce(15),or(this.i,this.l,it,"[Invalid Chunk]"),y=!1;break}else or(this.i,this.l,qe,null),pn(this,qe);if(lr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||it.length!=0||this.h.h||(this.s=1,ce(16),y=!1),this.o=this.o&&y,!y)or(this.i,this.l,it,"[Invalid Chunked Response]"),ln(this),gn(this);else if(0<it.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ra(Ue),Ue.M=!0,ce(11))}}else or(this.i,this.l,it,null),pn(this,it);De==4&&ln(this),this.o&&!this.J&&(De==4?xu(this.j,this):(this.o=!1,ne(this)))}else $c(this.g),y==400&&0<it.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),ln(this),gn(this)}}}catch{}finally{}};function lr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function cr(l,v){var y=l.C,b=v.indexOf(`
`,y);return b==-1?Xr:(y=Number(v.substring(y,b)),isNaN(y)?ur:(b+=1,b+y>v.length?Xr:(v=v.slice(b,b+y),l.C=b+y,v)))}ri.prototype.cancel=function(){this.J=!0,ln(this)};function ne(l){l.S=Date.now()+l.I,Xs(l,l.I)}function Xs(l,v){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ar(C(l.ba,l),v)}function za(l){l.B&&(g.clearTimeout(l.B),l.B=null)}ri.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ii(this.i,this.A),this.L!=2&&(rr(),ce(17)),ln(this),this.s=2,gn(this)):Xs(this,this.S-l)};function gn(l){l.j.G==0||l.J||xu(l.j,l)}function ln(l){za(l);var v=l.M;v&&typeof v.ma=="function"&&v.ma(),l.M=null,Ke(l.U),l.g&&(v=l.g,l.g=null,v.abort(),v.ma())}function pn(l,v){try{var y=l.j;if(y.G!=0&&(y.g==l||fr(y.h,l))){if(!l.K&&fr(y.h,l)&&y.G==3){try{var b=y.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ka(y),Ya(y);else break t;ao(y),ce(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ar(C(y.Za,y),6e3));if(1>=Ru(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vi(y,11)}else if((l.K||y.g==l)&&Ka(y),!H(v))for(z=y.Da.g.parse(v),v=0;v<z.length;v++){let Vt=z[v];if(y.T=Vt[0],Vt=Vt[1],y.G==2)if(Vt[0]=="c"){y.K=Vt[1],y.ia=Vt[2];const Ue=Vt[3];Ue!=null&&(y.la=Ue,y.j.info("VER="+y.la));const De=Vt[4];De!=null&&(y.Aa=De,y.j.info("SVER="+y.Aa));const Ui=Vt[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(b=1.5*Ui,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const qe=l.g;if(qe){const fi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var G=b.h;G.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(hr(G,G.h),G.h=null))}if(b.D){const oo=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(b.ya=oo,Bt(b.I,b.D,oo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var it=l;if(b.qa=ku(b,b.J?b.ia:null,b.W),it.K){Cn(b.h,it);var Mt=it,Ce=b.L;Ce&&(Mt.I=Ce),Mt.B&&(za(Mt),ne(Mt)),b.g=it}else Uu(b);0<y.i.length&&Xa(y)}else Vt[0]!="stop"&&Vt[0]!="close"||Vi(y,7);else y.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Vi(y,7):io(y):Vt[0]!="noop"&&y.l&&y.l.ta(Vt),y.v=0)}}rr(4)}catch{}}var Fc=class{constructor(l,v){this.g=l,this.map=v}};function Ks(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ru(l){return l.h?1:l.g?l.g.size:0}function fr(l,v){return l.h?l.h==v:l.g?l.g.has(v):!1}function hr(l,v){l.g?l.g.add(v):l.h=v}function Cn(l,v){l.h&&l.h==v?l.h=null:l.g&&l.g.has(v)&&l.g.delete(v)}Ks.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function rn(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let v=l.i;for(const y of l.g.values())v=v.concat(y.D);return v}return j(l.i)}function Cu(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(p(l)){for(var v=[],y=l.length,b=0;b<y;b++)v.push(l[b]);return v}v=[],y=0;for(b in l)v[y++]=l[b];return v}function Qc(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(p(l)||typeof l=="string"){var v=[];l=l.length;for(var y=0;y<l;y++)v.push(y);return v}v=[],y=0;for(const b in l)v[y++]=b;return v}}}function Kr(l,v){if(l.forEach&&typeof l.forEach=="function")l.forEach(v,void 0);else if(p(l)||typeof l=="string")Array.prototype.forEach.call(l,v,void 0);else for(var y=Qc(l),b=Cu(l),z=b.length,G=0;G<z;G++)v.call(void 0,b[G],y&&y[G],l)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(l,v){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var b=l[y].indexOf("="),z=null;if(0<=b){var G=l[y].substring(0,b);z=l[y].substring(b+1)}else G=l[y];v(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Di(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Di){this.h=l.h,dr(this,l.j),this.o=l.o,this.g=l.g,$r(this,l.s),this.l=l.l;var v=l.i,y=new ai;y.i=v.i,v.g&&(y.g=new Map(v.g),y.h=v.h),qa(this,y),this.m=l.m}else l&&(v=String(l).match(Zs))?(this.h=!1,dr(this,v[1]||"",!0),this.o=vr(v[2]||""),this.g=vr(v[3]||"",!0),$r(this,v[4]),this.l=vr(v[5]||"",!0),qa(this,v[6]||"",!0),this.m=vr(v[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Di.prototype.toString=function(){var l=[],v=this.j;v&&l.push(Dn(v,Js,!0),":");var y=this.g;return(y||v=="file")&&(l.push("//"),(v=this.o)&&l.push(Dn(v,Js,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Dn(y,y.charAt(0)=="/"?Ws:Du,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Dn(y,Kc)),l.join("")};function ae(l){return new Di(l)}function dr(l,v,y){l.j=y?vr(v,!0):v,l.j&&(l.j=l.j.replace(/:$/,""))}function $r(l,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);l.s=v}else l.s=null}function qa(l,v,y){v instanceof ai?(l.i=v,to(l.i,l.h)):(y||(v=Dn(v,Xc)),l.i=new ai(v,l.h))}function Bt(l,v,y){l.i.set(v,y)}function Zr(l){return Bt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function vr(l,v){return l?v?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Dn(l,v,y){return typeof l=="string"?(l=encodeURI(l).replace(v,Yc),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Yc(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Js=/[#\/\?@]/g,Du=/[#\?:]/g,Ws=/[#\?]/g,Xc=/[#\?@]/g,Kc=/#/g;function ai(l,v){this.h=this.g=null,this.i=l||null,this.j=!!v}function In(l){l.g||(l.g=new Map,l.h=0,l.i&&Ba(l.i,function(v,y){l.add(decodeURIComponent(v.replace(/\+/g," ")),y)}))}r=ai.prototype,r.add=function(l,v){In(this),this.i=null,l=Ni(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(v),this.h+=1,this};function Ha(l,v){In(l),v=Ni(l,v),l.g.has(v)&&(l.i=null,l.h-=l.g.get(v).length,l.g.delete(v))}function Ii(l,v){return In(l),v=Ni(l,v),l.g.has(v)}r.forEach=function(l,v){In(this),this.g.forEach(function(y,b){y.forEach(function(z){l.call(v,z,b,this)},this)},this)},r.na=function(){In(this);const l=Array.from(this.g.values()),v=Array.from(this.g.keys()),y=[];for(let b=0;b<v.length;b++){const z=l[b];for(let G=0;G<z.length;G++)y.push(v[b])}return y},r.V=function(l){In(this);let v=[];if(typeof l=="string")Ii(this,l)&&(v=v.concat(this.g.get(Ni(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)v=v.concat(l[y])}return v},r.set=function(l,v){return In(this),this.i=null,l=Ni(this,l),Ii(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[v]),this.h+=1,this},r.get=function(l,v){return l?(l=this.V(l),0<l.length?String(l[0]):v):v};function Oi(l,v,y){Ha(l,v),0<y.length&&(l.i=null,l.g.set(Ni(l,v),j(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],v=Array.from(this.g.keys());for(var y=0;y<v.length;y++){var b=v[y];const G=encodeURIComponent(String(b)),it=this.V(b);for(b=0;b<it.length;b++){var z=G;it[b]!==""&&(z+="="+encodeURIComponent(String(it[b]))),l.push(z)}}return this.i=l.join("&")};function Ni(l,v){return v=String(v),l.j&&(v=v.toLowerCase()),v}function to(l,v){v&&!l.j&&(In(l),l.i=null,l.g.forEach(function(y,b){var z=b.toLowerCase();b!=z&&(Ha(this,b),Oi(this,z,y))},l)),l.j=v}function Iu(l,v){const y=new sr;if(g.Image){const b=new Image;b.onload=M(On,y,"TestLoadImage: loaded",!0,v,b),b.onerror=M(On,y,"TestLoadImage: error",!1,v,b),b.onabort=M(On,y,"TestLoadImage: abort",!1,v,b),b.ontimeout=M(On,y,"TestLoadImage: timeout",!1,v,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else v(!1)}function Jr(l,v){const y=new sr,b=new AbortController,z=setTimeout(()=>{b.abort(),On(y,"TestPingServer: timeout",!1,v)},1e4);fetch(l,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?On(y,"TestPingServer: ok",!0,v):On(y,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),On(y,"TestPingServer: error",!1,v)})}function On(l,v,y,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(y)}catch{}}function Wr(){this.g=new nn}function si(l,v,y){const b=y||"";try{Kr(l,function(z,G){let it=z;m(z)&&(it=Gs(z)),v.push(b+G+"="+encodeURIComponent(it))})}catch(z){throw v.push(b+"type="+encodeURIComponent("_badmap")),z}}function gr(l){this.l=l.Ub||null,this.j=l.eb||!1}P(gr,Fs),gr.prototype.g=function(){return new Mi(this.l,this.j)},gr.prototype.i=function(l){return function(){return l}}({});function Mi(l,v){we.call(this),this.D=l,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Mi,we),r=Mi.prototype,r.open=function(l,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=v,this.readyState=1,ui(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(v.body=l),(this.D||g).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var v=l.value?l.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!l.done}))&&(this.response=this.responseText+=v)}l.done?oi(this):ui(this),this.readyState==3&&eo(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,oi(this))},r.Qa=function(l){this.g&&(this.response=l,oi(this))},r.ga=function(){this.g&&oi(this)};function oi(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ui(l)}r.setRequestHeader=function(l,v){this.u.append(l,v)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],v=this.h.entries();for(var y=v.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=v.next();return l.join(`\r
`)};function ui(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function no(l){let v="";return st(l,function(y,b){v+=b,v+=":",v+=y,v+=`\r
`}),v}function Ve(l,v,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=no(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Bt(l,v,y))}function jt(l){we.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(jt,we);var ja=/^https?$/i,ta=["POST","PUT"];r=jt.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,v,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);v=v?v.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Tu(this.o):Tu(Yr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(v,String(l),!0),this.B=!1}catch(G){Ou(this,G);return}if(l=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)y.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())y.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),z=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ta,v,void 0))||b||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of y)this.g.setRequestHeader(G,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){Ou(this,G)}};function Ou(l,v){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=v,l.m=5,Ga(l),li(l)}function Ga(l){l.A||(l.A=!0,Ne(l,"complete"),Ne(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ne(this,"complete"),Ne(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},r.bb=function(){Fa(this)};function Fa(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Nn(l)!=4||l.Z()!=2)){if(l.u&&Nn(l)==4)Eu(l.Ea,0,l);else if(Ne(l,"readystatechange"),Nn(l)==4){l.h=!1;try{const it=l.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var y;if(!(y=v)){var b;if(b=it===0){var z=String(l.D).match(Zs)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),b=!ja.test(z?z.toLowerCase():"")}y=b}if(y)Ne(l,"complete"),Ne(l,"success");else{l.m=6;try{var G=2<Nn(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",Ga(l)}}finally{li(l)}}}}function li(l,v){if(l.g){ea(l);const y=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,v||Ne(l,"ready");try{y.onreadystatechange=b}catch{}}}function ea(l){l.I&&(g.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Nn(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var v=this.g.responseText;return l&&v.indexOf(l)==0&&(v=v.substring(l.length)),ei(v)}};function Nu(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(l){const v={};l=(l.g&&2<=Nn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(H(l[b]))continue;var y=V(l[b]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=v[z]||[];v[z]=G,G.push(y)}N(v,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(l,v,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||v}function Qa(l){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,l),this.cb=na("retryDelaySeedMs",1e4,l),this.Wa=na("forwardChannelMaxRetries",2,l),this.wa=na("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(l&&l.concurrentRequestLimit),this.Da=new Wr,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qa.prototype,r.la=8,r.G=1,r.connect=function(l,v,y,b){ce(0),this.W=l,this.H=v||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),Xa(this)};function io(l){if(Mu(l),l.G==3){var v=l.U++,y=ae(l.I);if(Bt(y,"SID",l.K),Bt(y,"RID",v),Bt(y,"TYPE","terminate"),ia(l,y),v=new ri(l,l.j,v),v.L=2,v.v=Zr(ae(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(v.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=v.v,y=!0),y||(v.g=zu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ne(v)}Pu(l)}function Ya(l){l.g&&(ra(l),l.g.cancel(),l.g=null)}function Mu(l){Ya(l),l.u&&(g.clearTimeout(l.u),l.u=null),Ka(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Xa(l){if(!$s(l.h)&&!l.s){l.s=!0;var v=l.Ga;mt||D(),vt||(mt(),vt=!0),Ct.add(v,l),l.B=0}}function Zc(l,v){return Ru(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=v.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ar(C(l.Ga,l,v),so(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new ri(this,this.j,l);let G=this.o;if(this.S&&(G?(G=w(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var v=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=y;break t}if(v===4096||y===this.i.length-1){v=y+1;break t}}v=1e3}else v=1e3;v=Vu(this,z,v),y=ae(this.I),Bt(y,"RID",l),Bt(y,"CVER",22),this.D&&Bt(y,"X-HTTP-Session-Id",this.D),ia(this,y),G&&(this.O?v="headers="+encodeURIComponent(String(no(G)))+"&"+v:this.m&&Ve(y,this.m,G)),hr(this.h,z),this.Ua&&Bt(y,"TYPE","init"),this.P?(Bt(y,"$req",v),Bt(y,"SID","null"),z.T=!0,jn(z,y,null)):jn(z,y,v),this.G=2}}else this.G==3&&(l?ro(this,l):this.i.length==0||$s(this.h)||ro(this))};function ro(l,v){var y;v?y=v.l:y=l.U++;const b=ae(l.I);Bt(b,"SID",l.K),Bt(b,"RID",y),Bt(b,"AID",l.T),ia(l,b),l.m&&l.o&&Ve(b,l.m,l.o),y=new ri(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),v&&(l.i=v.D.concat(l.i)),v=Vu(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),hr(l.h,y),jn(y,b,v)}function ia(l,v){l.H&&st(l.H,function(y,b){Bt(v,b,y)}),l.l&&Kr({},function(y,b){Bt(v,b,y)})}function Vu(l,v,y){y=Math.min(l.i.length,y);var b=l.l?C(l.l.Na,l.l,l):null;t:{var z=l.i;let G=-1;for(;;){const it=["count="+y];G==-1?0<y?(G=z[0].g,it.push("ofs="+G)):G=0:it.push("ofs="+G);let Mt=!0;for(let Ce=0;Ce<y;Ce++){let Vt=z[Ce].g;const Ue=z[Ce].map;if(Vt-=G,0>Vt)G=Math.max(0,z[Ce].g-100),Mt=!1;else try{si(Ue,it,"req"+Vt+"_")}catch{b&&b(Ue)}}if(Mt){b=it.join("&");break t}}}return l=l.i.splice(0,y),v.D=l,b}function Uu(l){if(!l.g&&!l.u){l.Y=1;var v=l.Fa;mt||D(),vt||(mt(),vt=!0),Ct.add(v,l),l.v=0}}function ao(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ar(C(l.Fa,l),so(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ar(C(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ya(this),Lu(this))};function ra(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Lu(l){l.g=new ri(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var v=ae(l.qa);Bt(v,"RID","rpc"),Bt(v,"SID",l.K),Bt(v,"AID",l.T),Bt(v,"CI",l.F?"0":"1"),!l.F&&l.ja&&Bt(v,"TO",l.ja),Bt(v,"TYPE","xmlhttp"),ia(l,v),l.m&&l.o&&Ve(v,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Zr(ae(v)),y.m=null,y.P=!0,Ci(y,l)}r.Za=function(){this.C!=null&&(this.C=null,Ya(this),ao(this),ce(19))};function Ka(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function xu(l,v){var y=null;if(l.g==v){Ka(l),ra(l),l.g=null;var b=2}else if(fr(l.h,v))y=v.D,Cn(l.h,v),b=1;else return;if(l.G!=0){if(v.o)if(b==1){y=v.m?v.m.length:0,v=Date.now()-v.F;var z=l.B;b=xa(),Ne(b,new Au(b,y)),Xa(l)}else Uu(l);else if(z=v.s,z==3||z==0&&0<v.X||!(b==1&&Zc(l,v)||b==2&&ao(l)))switch(y&&0<y.length&&(v=l.h,v.i=v.i.concat(y)),z){case 1:Vi(l,5);break;case 4:Vi(l,10);break;case 3:Vi(l,6);break;default:Vi(l,2)}}}function so(l,v){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*v}function Vi(l,v){if(l.j.info("Error code "+v),v==2){var y=C(l.fb,l),b=l.Xa;const z=!b;b=new Di(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||dr(b,"https"),Zr(b),z?Iu(b.toString(),y):Jr(b.toString(),y)}else ce(2);l.G=0,l.l&&l.l.sa(v),Pu(l),Mu(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Pu(l){if(l.G=0,l.ka=[],l.l){const v=rn(l.h);(v.length!=0||l.i.length!=0)&&(F(l.ka,v),F(l.ka,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.ra()}}function ku(l,v,y){var b=y instanceof Di?ae(y):new Di(y);if(b.g!="")v&&(b.g=v+"."+b.g),$r(b,b.s);else{var z=g.location;b=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var G=new Di(null);b&&dr(G,b),v&&(G.g=v),z&&$r(G,z),y&&(G.l=y),b=G}return y=l.D,v=l.ya,y&&v&&Bt(b,y,v),Bt(b,"VER",l.la),ia(l,b),b}function zu(l,v,y){if(v&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=l.Ca&&!l.pa?new jt(new gr({eb:y})):new jt(l.pa),v.Ha(l.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $a(){}$a.prototype.g=function(l,v){return new an(l,v)};function an(l,v){we.call(this),this.g=new Qa(v),this.l=l,this.h=v&&v.messageUrlParams||null,l=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(l?l["X-WebChannel-Content-Type"]=v.messageContentType:l={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(l?l["X-WebChannel-Client-Profile"]=v.va:l={"X-WebChannel-Client-Profile":v.va}),this.g.S=l,(l=v&&v.Sb)&&!H(l)&&(this.g.m=l),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,l=this.h,l!==null&&v in l&&(l=this.h,v in l&&delete l[v])),this.j=new ci(this)}P(an,we),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){io(this.g)},an.prototype.o=function(l){var v=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Gs(l),l=y);v.i.push(new Fc(v.Ya++,l)),v.G==3&&Xa(v)},an.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,an.aa.N.call(this)};function qu(l){nr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var v=l.__sm__;if(v){t:{for(const y in v){l=y;break t}l=void 0}(this.i=l)&&(l=this.i,v=v!==null&&l in v?v[l]:void 0),this.data=v}else this.data=l}P(qu,nr);function Hu(){Hn.call(this),this.status=1}P(Hu,Hn);function ci(l){this.g=l}P(ci,Bu),ci.prototype.ua=function(){Ne(this.g,"a")},ci.prototype.ta=function(l){Ne(this.g,new qu(l))},ci.prototype.sa=function(l){Ne(this.g,new Hu)},ci.prototype.ra=function(){Ne(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,V_=function(){return new $a},M_=function(){return xa()},N_=Rn,wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,ic=Re,Ri.COMPLETE="complete",O_=Ri,bu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",we.prototype.listen=we.prototype.K,Zo=bu,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,I_=jt}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",Py="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new A_("@firebase/firestore");function Ss(){return Ca.logLevel}function dt(r,...t){if(Ca.logLevel<=xt.DEBUG){const i=t.map(Jd);Ca.debug(`Firestore (${zs}): ${r}`,...i)}}function Da(r,...t){if(Ca.logLevel<=xt.ERROR){const i=t.map(Jd);Ca.error(`Firestore (${zs}): ${r}`,...i)}}function Lc(r,...t){if(Ca.logLevel<=xt.WARN){const i=t.map(Jd);Ca.warn(`Firestore (${zs}): ${r}`,...i)}}function Jd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r="Unexpected state"){const t=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+r;throw Da(t),new Error(t)}function le(r,t){r||It()}function Wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends ks{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class aR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class sR{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){le(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wa,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wa)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(le(typeof s.accessToken=="string"),new U_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string"),new tn(t)}}class oR{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uR{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new oR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,j2(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){le(this.o===void 0);const s=c=>{c.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,dt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ky(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(le(typeof i.token=="string"),this.R=i.token,new ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Rd(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return kt(s,o);{const c=fR(),d=hR(c.encode(zy(r,i)),c.encode(zy(t,i)));return d!==0?d:kt(s,o)}}i+=s>65535?2:1}return kt(r.length,t.length)}function zy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function hR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return kt(r[i],t[i]);return kt(r.length,t.length)}function Ms(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,qy=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*qy);return new Be(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<By)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-By;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(t){return new ee(t)}static min(){return new ee(new Be(0,0))}static max(){return new ee(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="__name__";class yi{constructor(t,i,s){i===void 0?i=0:i>t.length&&It(),s===void 0?s=t.length-i:s>t.length-i&&It(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=yi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const s=yi.isNumericId(t),o=yi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(t).compare(yi.extractNumericId(i)):Rd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zd.fromString(t.substring(4,t.length-2))}}class be extends yi{construct(t,i,s){return new be(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new be(i)}static emptyPath(){return new be([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends yi{construct(t,i,s){return new Ye(t,i,s)}static isValidIdentifier(t){return dR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Ye([Hy])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new _t(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new _t(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new _t(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(be.fromString(t))}static fromName(t){return new wt(be.fromString(t).popFirst(5))}static empty(){return new wt(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return be.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new be(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function vR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ee.fromTimestamp(s===1e9?new Be(i+1,0):new Be(i,s));return new qr(o,wt.empty(),t)}function gR(r){return new qr(r.readTime,r.key,su)}class qr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new qr(ee.min(),wt.empty(),su)}static max(){return new qr(ee.max(),wt.empty(),su)}}function pR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=wt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==mR)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,s)=>{i(t)})}static reject(t){return new J((i,s)=>{s(t)})}static waitFor(t){return new J((i,s)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new J((s,o)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const m=p;i(t[m]).next(E=>{d[m]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(t,i){return new J((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function _R(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}tv.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function nv(r){return r==null}function yc(r){return r===0&&1/r==-1/0}function ER(r){return typeof r=="number"&&Number.isInteger(r)&&!yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="";function TR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=jy(t)),t=bR(r.get(i),t);return jy(t)}function bR(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case x_:i+="";break;default:i+=c}}return i}function jy(r){return r+x_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Bs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function P_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new dn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xl(this.root,t,this.comparator,!0)}}class Xl{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Fe(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const t=this.left.check();if(t!==this.right.check())throw It();return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(t,i,s,o,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.comparator=t,this.data=new dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(t){return new Fy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Xe(this.comparator);return i.data=t,i}}class Fy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Zn([])}unionWith(t){let i=new Xe(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ms(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AR("Invalid base64 string: "+c):c}}(t);return new bi(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new bi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(le(!!r),typeof r=="string"){let t=0;const i=SR.exec(r);if(le(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Qe(r.seconds),nanos:Qe(r.nanos)}}function Qe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vs(r){return typeof r=="string"?bi.fromBase64String(r):bi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="server_timestamp",z_="__type__",B_="__previous_value__",q_="__local_write_time__";function iv(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[z_])===null||i===void 0?void 0:i.stringValue)===k_}function rv(r){const t=r.mapValue.fields[B_];return iv(t)?rv(t):t}function _c(r){const t=Ia(r.mapValue.fields[q_].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,i,s,o,c,d,g,p,m){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=m}}const Ec="(default)";class Tc{constructor(t,i){this.projectId=t,this.database=i||Ec}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",RR="__max__",Kl={mapValue:{}},j_="__vector__",Cd="value";function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?iv(r)?4:DR(r)?9007199254740991:CR(r)?10:11:It()}function Ai(r,t){if(r===t)return!0;const i=Oa(r);if(i!==Oa(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _c(r).isEqual(_c(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ia(o.timestampValue),g=Ia(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Vs(o.bytesValue).isEqual(Vs(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return Qe(o.geoPointValue.latitude)===Qe(c.geoPointValue.latitude)&&Qe(o.geoPointValue.longitude)===Qe(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Qe(o.integerValue)===Qe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Qe(o.doubleValue),g=Qe(c.doubleValue);return d===g?yc(d)===yc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ms(r.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ai(d[p],g[p])))return!1;return!0}(r,t);default:return It()}}function ou(r,t){return(r.values||[]).find(i=>Ai(i,t))!==void 0}function Us(r,t){if(r===t)return 0;const i=Oa(r),s=Oa(t);if(i!==s)return kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=Qe(c.integerValue||c.doubleValue),p=Qe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Qy(r.timestampValue,t.timestampValue);case 4:return Qy(_c(r),_c(t));case 5:return Rd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Vs(c),p=Vs(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let m=0;m<g.length&&m<p.length;m++){const E=kt(g[m],p[m]);if(E!==0)return E}return kt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=kt(Qe(c.latitude),Qe(d.latitude));return g!==0?g:kt(Qe(c.longitude),Qe(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Yy(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,m,E;const S=c.fields||{},C=d.fields||{},M=(g=S[Cd])===null||g===void 0?void 0:g.arrayValue,P=(p=C[Cd])===null||p===void 0?void 0:p.arrayValue,j=kt(((m=M==null?void 0:M.values)===null||m===void 0?void 0:m.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:Yy(M,P)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Kl.mapValue&&d===Kl.mapValue)return 0;if(c===Kl.mapValue)return 1;if(d===Kl.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),m=d.fields||{},E=Object.keys(m);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const C=Rd(p[S],E[S]);if(C!==0)return C;const M=Us(g[p[S]],m[E[S]]);if(M!==0)return M}return kt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw It()}}function Qy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=Ia(r),s=Ia(t),o=kt(i.seconds,s.seconds);return o!==0?o:kt(i.nanos,s.nanos)}function Yy(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Us(i[o],s[o]);if(c)return c}return kt(i.length,s.length)}function Ls(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Vs(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return wt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Dd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Dd(i.fields[d])}`;return o+"}"}(r.mapValue):It()}function rc(r){switch(Oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rv(r);return t?16+rc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+rc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Bs(s.fields,(c,d)=>{o+=c.length+rc(d)}),o}(r.mapValue);default:throw It()}}function Id(r){return!!r&&"integerValue"in r}function av(r){return!!r&&"arrayValue"in r}function ac(r){return!!r&&"mapValue"in r}function CR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[H_])===null||i===void 0?void 0:i.stringValue)===j_}function Wo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Bs(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Wo(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Wo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function DR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!ac(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wo(i)}setAll(t){let i=Ye.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Wo(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ai(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Bs(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new $n(Wo(this.value))}}function G_(r){const t=[];return Bs(r.fields,(i,s)=>{const o=new Ye([i]);if(ac(s)){const c=G_(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,i,s,o,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xn(t,0,ee.min(),ee.min(),ee.min(),$n.empty(),0)}static newFoundDocument(t,i,s,o){return new Xn(t,1,i,ee.min(),s,o,0)}static newNoDocument(t,i){return new Xn(t,2,i,ee.min(),ee.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new Xn(t,3,i,ee.min(),ee.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i){this.position=t,this.inclusive=i}}function Xy(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=wt.comparator(wt.fromName(d.referenceValue),i.key):s=Us(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ky(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i="asc"){this.field=t,this.dir=i}}function IR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class ze extends F_{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new NR(t,i,s):i==="array-contains"?new UR(t,s):i==="in"?new LR(t,s):i==="not-in"?new xR(t,s):i==="array-contains-any"?new PR(t,s):new ze(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new MR(t,s):new VR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Us(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Us(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends F_{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Hr(t,i)}matches(t){return Q_(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Q_(r){return r.op==="and"}function Y_(r){return OR(r)&&Q_(r)}function OR(r){for(const t of r.filters)if(t instanceof Hr)return!1;return!0}function Od(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+Ls(r.value);if(Y_(r))return r.filters.map(t=>Od(t)).join(",");{const t=r.filters.map(i=>Od(i)).join(",");return`${r.op}(${t})`}}function X_(r,t){return r instanceof ze?function(s,o){return o instanceof ze&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(r,t):r instanceof Hr?function(s,o){return o instanceof Hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&X_(d,o.filters[g]),!0):!1}(r,t):void It()}function K_(r){return r instanceof ze?function(i){return`${i.field.canonicalString()} ${i.op} ${Ls(i.value)}`}(r):r instanceof Hr?function(i){return i.op.toString()+" {"+i.getFilters().map(K_).join(" ,")+"}"}(r):"Filter"}class NR extends ze{constructor(t,i,s){super(t,i,s),this.key=wt.fromName(s.referenceValue)}matches(t){const i=wt.comparator(t.key,this.key);return this.matchesComparison(i)}}class MR extends ze{constructor(t,i){super(t,"in",i),this.keys=$_("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class VR extends ze{constructor(t,i){super(t,"not-in",i),this.keys=$_("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function $_(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>wt.fromName(s.referenceValue))}class UR extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return av(i)&&ou(i.arrayValue,this.value)}}class LR extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class xR extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!ou(this.value.arrayValue,i)}}class PR extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!av(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i=null,s=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function $y(r,t=null,i=[],s=[],o=null,c=null,d=null){return new kR(r,t,i,s,o,c,d)}function sv(r){const t=Wt(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Od(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),nv(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ls(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ls(s)).join(",")),t.le=i}return t.le}function ov(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!IR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!X_(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ky(r.startAt,t.startAt)&&Ky(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zR(r,t,i,s,o,c,d,g){return new xc(r,t,i,s,o,c,d,g)}function BR(r){return new xc(r)}function Zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qR(r){return r.collectionGroup!==null}function tu(r){const t=Wt(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Xe(Ye.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(g=g.add(m.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Ac(c,s))}),i.has(Ye.keyField().canonicalString())||t.he.push(new Ac(Ye.keyField(),s))}return t.he}function Ra(r){const t=Wt(r);return t.Pe||(t.Pe=HR(t,tu(r))),t.Pe}function HR(r,t){if(r.limitType==="F")return $y(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Ac(o.field,c)});const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Nd(r,t,i){return new xc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Z_(r,t){return ov(Ra(r),Ra(t))&&r.limitType===t.limitType}function J_(r){return`${sv(Ra(r))}|lt:${r.limitType}`}function $o(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>K_(o)).join(", ")}]`),nv(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ls(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ls(o)).join(",")),`Target(${s})`}(Ra(r))}; limitType=${r.limitType})`}function uv(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):wt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of tu(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(d,g,p){const m=Xy(d,g,p);return d.inclusive?m<=0:m<0}(s.startAt,tu(s),o)||s.endAt&&!function(d,g,p){const m=Xy(d,g,p);return d.inclusive?m>=0:m>0}(s.endAt,tu(s),o))}(r,t)}function jR(r){return(t,i)=>{let s=!1;for(const o of tu(r)){const c=GR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function GR(r,t,i){const s=r.field.isKeyField()?wt.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),m=g.data.field(c);return p!==null&&m!==null?Us(p,m):It()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return P_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new dn(wt.comparator);function Sc(){return FR}const W_=new dn(wt.comparator);function $l(...r){let t=W_;for(const i of r)t=t.insert(i.key,i);return t}function tE(r){let t=W_;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Sa(){return eu()}function eE(){return eu()}function eu(){return new Na(r=>r.toString(),(r,t)=>r.isEqual(t))}const QR=new dn(wt.comparator),YR=new Xe(wt.comparator);function en(...r){let t=YR;for(const i of r)t=t.add(i);return t}const XR=new Xe(kt);function KR(){return XR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function nE(r){return{integerValue:""+r}}function $R(r,t){return ER(t)?nE(t):lv(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this._=void 0}}function ZR(r,t,i){return r instanceof uu?function(o,c){const d={fields:{[z_]:{stringValue:k_},[q_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&iv(c)&&(c=rv(c)),c&&(d.fields[B_]=c),{mapValue:d}}(i,t):r instanceof lu?rE(r,t):r instanceof cu?aE(r,t):function(o,c){const d=iE(o,c),g=Jy(d)+Jy(o.Ie);return Id(d)&&Id(o.Ie)?nE(g):lv(o.serializer,g)}(r,t)}function JR(r,t,i){return r instanceof lu?rE(r,t):r instanceof cu?aE(r,t):i}function iE(r,t){return r instanceof wc?function(s){return Id(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class uu extends Pc{}class lu extends Pc{constructor(t){super(),this.elements=t}}function rE(r,t){const i=sE(t);for(const s of r.elements)i.some(o=>Ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class cu extends Pc{constructor(t){super(),this.elements=t}}function aE(r,t){let i=sE(t);for(const s of r.elements)i=i.filter(o=>!Ai(o,s));return{arrayValue:{values:i}}}class wc extends Pc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function Jy(r){return Qe(r.integerValue||r.doubleValue)}function sE(r){return av(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i){this.field=t,this.transform=i}}function tC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof cu&&o instanceof cu?Ms(s.elements,o.elements,Ai):s instanceof wc&&o instanceof wc?Ai(s.Ie,o.Ie):s instanceof uu&&o instanceof uu}(r.transform,t.transform)}class eC{constructor(t,i){this.version=t,this.transformResults=i}}class $i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kc{}function oE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lE(r.key,$i.none()):new gu(r.key,r.data,$i.none());{const i=r.data,s=$n.empty();let o=new Xe(Ye.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ma(r.key,s,new Zn(o.toArray()),$i.none())}}function nC(r,t,i){r instanceof gu?function(o,c,d){const g=o.value.clone(),p=t0(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Ma?function(o,c,d){if(!sc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=t0(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(uE(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function nu(r,t,i,s){return r instanceof gu?function(c,d,g,p){if(!sc(c.precondition,d))return g;const m=c.value.clone(),E=e0(c.fieldTransforms,p,d);return m.setAll(E),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null}(r,t,i,s):r instanceof Ma?function(c,d,g,p){if(!sc(c.precondition,d))return g;const m=e0(c.fieldTransforms,p,d),E=d.data;return E.setAll(uE(c)),E.setAll(m),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(c,d,g){return sc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function iC(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=iE(s.transform,o||null);c!=null&&(i===null&&(i=$n.empty()),i.set(s.field,c))}return i||null}function Wy(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ms(s,o,(c,d)=>tC(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class gu extends kc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends kc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function t0(r,t,i){const s=new Map;le(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);s.set(c.field,JR(d,g,i[o]))}return s}function e0(r,t,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,ZR(c,d,t))}return s}class lE extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rC extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&nC(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=nu(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=nu(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=eE();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=oE(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(ee.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),en())}isEqual(t){return this.batchId===t.batchId&&Ms(this.mutations,t.mutations,(i,s)=>Wy(i,s))&&Ms(this.baseMutations,t.baseMutations,(i,s)=>Wy(i,s))}}class cv{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){le(t.mutations.length===s.length);let o=function(){return QR}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new cv(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function oC(r){switch(r){case et.OK:return It();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return It()}}function uC(r){if(r===void 0)return Da("GRPC error has no .code"),et.UNKNOWN;switch(r){case Ee.OK:return et.OK;case Ee.CANCELLED:return et.CANCELLED;case Ee.UNKNOWN:return et.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return et.INTERNAL;case Ee.UNAVAILABLE:return et.UNAVAILABLE;case Ee.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ee.NOT_FOUND:return et.NOT_FOUND;case Ee.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ee.ABORTED:return et.ABORTED;case Ee.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ee.DATA_LOSS:return et.DATA_LOSS;default:return It()}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zd([4294967295,4294967295],0);class lC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Md(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cC(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function fC(r,t){return Md(r,t.toTimestamp())}function Os(r){return le(!!r),ee.fromTimestamp(function(i){const s=Ia(i);return new Be(s.seconds,s.nanos)}(r))}function cE(r,t){return Vd(r,t).canonicalString()}function Vd(r,t){const i=function(o){return new be(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function hC(r){const t=be.fromString(r);return le(EC(t)),t}function Ud(r,t){return cE(r.databaseId,t.path)}function dC(r){const t=hC(r);return t.length===4?be.emptyPath():gC(t)}function vC(r){return new be(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gC(r){return le(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function n0(r,t,i){return{name:Ud(r,t),fields:i.value.mapValue.fields}}function pC(r,t){let i;if(t instanceof gu)i={update:n0(r,t.key,t.value)};else if(t instanceof lE)i={delete:Ud(r,t.key)};else if(t instanceof Ma)i={update:n0(r,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof rC))return It();i={verify:Ud(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof uu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof wc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw It()}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:fC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:It()}(r,t.precondition)),i}function mC(r,t){return r&&r.length>0?(le(t!==void 0),r.map(i=>function(o,c){let d=o.updateTime?Os(o.updateTime):Os(c);return d.isEqual(ee.min())&&(d=Os(c)),new eC(d,o.transformResults||[])}(i,t))):[]}function yC(r){let t=dC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){le(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(S){const C=fE(S);return C instanceof Hr&&Y_(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(C=>function(P){return new Ac(ws(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(S){let C;return C=typeof S=="object"?S.value:S,nv(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,M=S.values||[];return new bc(M,C)}(i.startAt));let m=null;return i.endAt&&(m=function(S){const C=!S.before,M=S.values||[];return new bc(M,C)}(i.endAt)),zR(t,o,d,c,g,"F",p,m)}function fE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ws(i.unaryFilter.field);return ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ws(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ws(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(r):r.fieldFilter!==void 0?function(i){return ze.create(ws(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Hr.create(i.compositeFilter.filters.map(s=>fE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return It()}}(i.compositeFilter.op))}(r):It()}function ws(r){return Ye.fromServerFormat(r.fieldPath)}function _C(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function EC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.Tt=t}}function bC(r){const t=yC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.Tn=new SC}addToCollectionParentIndex(t,i){return this.Tn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(qr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(qr.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class SC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Xe(be.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Xe(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(hE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new xs(0)}static Kn(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",wC=1048576;function a0([r,t],[i,s]){const o=kt(r,i);return o===0?kt(t,s):o}class RC{constructor(t){this.Hn=t,this.buffer=new Xe(a0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();a0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){dt(r0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vu(i)?dt(r0,"Ignoring IndexedDB error during garbage collection: ",i):await Wd(i)}await this.er(3e5)})}}class DC{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return J.resolve(tv.ae);const s=new RC(i);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(i0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,o,c,d,g,p,m;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(t,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(m=Date.now(),Ss()<=xt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(m-p)+`ms
Total Duration: ${m-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function IC(r,t){return new DC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.changes=new Na(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&nu(s.mutation,o,Zn.empty(),Be.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,en()).next(()=>s))}getLocalViewOfDocuments(t,i,s=en()){const o=Sa();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let d=$l();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Sa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,en()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,o){let c=Sc();const d=eu(),g=function(){return eu()}();return i.forEach((p,m)=>{const E=s.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof Ma)?c=c.insert(m.key,m):E!==void 0?(d.set(m.key,E.mutation.getFieldMask()),nu(E.mutation,m,E.mutation.getFieldMask(),Be.now())):d.set(m.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((m,E)=>d.set(m,E)),i.forEach((m,E)=>{var S;return g.set(m,new NC(E,(S=d.get(m))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(t,i){const s=eu();let o=new dn((d,g)=>d-g),c=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const m=i.get(p);if(m===null)return;let E=s.get(p)||Zn.empty();E=g.applyToLocalView(m,E),s.set(p,E);const S=(o.get(g.batchId)||en()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),m=p.key,E=p.value,S=eE();E.forEach(C=>{if(!c.has(C)){const M=oE(i.get(C),s.get(C));M!==null&&S.set(C,M),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,m,S))}return J.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return wt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):qR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):J.resolve(Sa());let g=su,p=c;return d.next(m=>J.forEach(m,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(t,m,c)).next(()=>this.computeViews(t,p,m,en())).next(E=>({batchId:g,changes:tE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new wt(i)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(t,c).next(g=>J.forEach(g,p=>{const m=function(S,C){return new xc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,m,s,o).next(E=>{E.forEach((S,C)=>{d=d.insert(S,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(d=>{c.forEach((p,m)=>{const E=m.getKey();d.get(E)===null&&(d=d.insert(E,Xn.newInvalidDocument(E)))});let g=$l();return d.forEach((p,m)=>{const E=c.get(p);E!==void 0&&nu(E.mutation,m,Zn.empty(),Be.now()),uv(i,m)&&(g=g.insert(p,m))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return J.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Os(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:bC(o.bundledQuery),readTime:Os(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.overlays=new dn(wt.comparator),this.Rr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Sa();return J.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.Et(t,i,c)}),J.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const o=Sa(),c=i.length+1,d=new wt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,m=p.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new dn((m,E)=>m-E);const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>s){let E=c.get(m.largestBatchId);E===null&&(E=Sa(),c=c.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const g=Sa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,E)=>g.set(m,E)),!(g.size()>=o)););return J.resolve(g)}Et(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new sC(i,s));let c=this.Rr.get(i);c===void 0&&(c=en(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Vr=new Xe(ke.mr),this.gr=new Xe(ke.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new ke(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new ke(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new wt(new be([])),s=new ke(i,t),o=new ke(i,t+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new wt(new be([])),s=new ke(i,t),o=new ke(i,t+1);let c=en();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new ke(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return wt.comparator(t.key,i.key)||kt(t.Cr,i.Cr)}static pr(t,i){return kt(t.Cr,i.Cr)||wt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Xe(ke.mr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aC(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ev:this.Fr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Xe(kt);return i.forEach(o=>{const c=new ke(o,0),d=new ke(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;wt.isDocumentKey(c)||(c=c.child(""));const d=new ke(new wt(c),0);let g=new Xe(kt);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(g=g.add(p.Cr)),!0)},d),J.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){le(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(i.mutations,o=>{const c=new ke(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new ke(i,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.kr=t,this.docs=function(){return new dn(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Xn.newInvalidDocument(i))}getEntries(t,i){let s=Sc();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Sc();const d=i.path,g=new wt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:m,value:{document:E}}=p.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||pR(gR(E),s)<=0||(o.has(E.key)||uv(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,s,o){It()}qr(t,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new kC(this)}getSize(t){return J.resolve(this.size)}}class kC extends OC{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),J.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.persistence=t,this.Qr=new Na(i=>sv(i),ov),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fv,this.targetCount=0,this.Kr=xs.Un()}forEachTarget(t,i){return this.Qr.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),J.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new xs(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.zn(i),J.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),J.waitFor(c).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),J.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new tv(0),this.zr=!1,this.zr=!0,this.jr=new LC,this.referenceDelegate=t(this),this.Hr=new zC(this),this.indexManager=new AC,this.remoteDocumentCache=function(o){return new PC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new TC(i),this.Yr=new VC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new UC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new xC(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){dt("MemoryPersistence","Starting transaction:",t);const o=new BC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class BC extends yR{constructor(t){super(),this.currentSequenceNumber=t}}class hv{constructor(t){this.persistence=t,this.ti=new fv,this.ni=null}static ri(t){return new hv(t)}get ii(){if(this.ni)return this.ni;throw It()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),J.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=wt.fromPath(s);return this.si(t,o).next(c=>{c||i.removeEntry(o,ee.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return J.or([()=>J.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Rc{constructor(t,i){this.persistence=t,this.oi=new Na(s=>TR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=IC(this,i)}static ri(t,i){return new Rc(t,i)}Zr(){}Xr(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return J.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?J.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,c.removeEntry(d,ee.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),J.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rc(t.data.value)),i}ar(t,i,s){return J.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(t,i){let s=en(),o=en();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new dv(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Bw()?8:_R(kw())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new qC;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,s,o){return s.documentReadCount<this.es?(Ss()<=xt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",$o(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Ss()<=xt.DEBUG&&dt("QueryEngine","Query:",$o(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ss()<=xt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",$o(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ra(i))):J.resolve())}rs(t,i){if(Zy(i))return J.resolve(null);let s=Ra(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),s=Ra(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=en(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const m=this.cs(i,g);return this.ls(i,m,d,p.readTime)?this.rs(t,Nd(i,null,"F")):this.hs(t,m,i,p)}))})))}ss(t,i,s,o){return Zy(i)||o.isEqual(ee.min())?J.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?J.resolve(null):(Ss()<=xt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(i)),this.hs(t,d,i,vR(o,su)).next(g=>g))})}cs(t,i){let s=new Xe(jR(t));return i.forEach((o,c)=>{uv(t,c)&&(s=s.add(c))}),s}ls(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,s){return Ss()<=xt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",$o(i)),this.ns.getDocumentsMatchingQuery(t,i,qr.min(),s)}hs(t,i,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="LocalStore";class GC{constructor(t,i,s,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new dn(kt),this.Is=new Na(c=>sv(c),ov),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function FC(r,t,i,s){return new GC(r,t,i,s)}async function vE(r,t){const i=Wt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=en();for(const m of o){d.push(m.batchId);for(const E of m.mutations)p=p.add(E.key)}for(const m of c){g.push(m.batchId);for(const E of m.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(m=>({Rs:m,removedBatchIds:d,addedBatchIds:g}))})})}function QC(r,t){const i=Wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,m,E){const S=m.batch,C=S.keys();let M=J.resolve();return C.forEach(P=>{M=M.next(()=>E.getEntry(p,P)).next(j=>{const F=m.docVersions.get(P);le(F!==null),j.version.compareTo(F)<0&&(S.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),E.addEntry(j)))})}),M.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=en();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(p=p.add(g.batch.mutations[m].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function YC(r){const t=Wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function XC(r,t){const i=Wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=ev),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}class s0{constructor(){this.activeTargetIds=KR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KC{constructor(){this.ho=new s0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new s0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class u0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){dt(o0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){dt(o0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Ld(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="RestConnection",ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,i,s,o,c){const d=Ld(),g=this.bo(t,i.toUriEncodedString());dt(od,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,g,p,s).then(m=>(dt(od,`Received RPC '${t}' ${d}: `,m),m),m=>{throw Lc(od,`RPC '${t}' ${d} failed with error: `,m,"url: ",g,"request:",s),m})}Co(t,i,s,o,c,d){return this.So(t,i,s,o,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const s=ZC[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class tD extends JC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,o){const c=Ld();return new Promise((d,g)=>{const p=new I_;p.setWithCredentials(!0),p.listenOnce(O_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ic.NO_ERROR:const E=p.getResponseJson();dt(Je,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case ic.TIMEOUT:dt(Je,`RPC '${t}' ${c} timed out`),g(new _t(et.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const S=p.getStatus();if(dt(Je,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C==null?void 0:C.error;if(M&&M.status&&M.message){const P=function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Q)>=0?Q:et.UNKNOWN}(M.status);g(new _t(P,M.message))}else g(new _t(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new _t(et.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{dt(Je,`RPC '${t}' ${c} completed.`)}});const m=JSON.stringify(o);dt(Je,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",m,s,15)})}Wo(t,i,s){const o=Ld(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=V_(),g=M_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");dt(Je,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let C=!1,M=!1;const P=new WC({Fo:F=>{M?dt(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(C||(dt(Je,`Opening RPC '${t}' stream ${o} transport.`),S.open(),C=!0),dt(Je,`RPC '${t}' stream ${o} sending:`,F),S.send(F))},Mo:()=>S.close()}),j=(F,Q,H)=>{F.listen(Q,X=>{try{H(X)}catch($){setTimeout(()=>{throw $},0)}})};return j(S,Zo.EventType.OPEN,()=>{M||(dt(Je,`RPC '${t}' stream ${o} transport opened.`),P.Qo())}),j(S,Zo.EventType.CLOSE,()=>{M||(M=!0,dt(Je,`RPC '${t}' stream ${o} transport closed`),P.Uo())}),j(S,Zo.EventType.ERROR,F=>{M||(M=!0,Lc(Je,`RPC '${t}' stream ${o} transport errored:`,F),P.Uo(new _t(et.UNAVAILABLE,"The operation could not be completed")))}),j(S,Zo.EventType.MESSAGE,F=>{var Q;if(!M){const H=F.data[0];le(!!H);const X=H,$=(X==null?void 0:X.error)||((Q=X[0])===null||Q===void 0?void 0:Q.error);if($){dt(Je,`RPC '${t}' stream ${o} received error:`,$);const nt=$.status;let st=function(A){const O=Ee[A];if(O!==void 0)return uC(O)}(nt),N=$.message;st===void 0&&(st=et.INTERNAL,N="Unknown error status: "+nt+" with message "+$.message),M=!0,P.Uo(new _t(st,N)),S.close()}else dt(Je,`RPC '${t}' stream ${o} received:`,H),P.Ko(H)}}),j(g,N_.STAT_EVENT,F=>{F.stat===wd.PROXY?dt(Je,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===wd.NOPROXY&&dt(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r){return new lC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="PersistentStream";class eD{constructor(t,i,s,o,c,d,g,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Da(i.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{t(()=>{const o=new _t(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return dt(l0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(dt(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends eD{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return le(!!t.streamToken),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){le(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=mC(t.writeResults,t.commitTime),s=Os(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=vC(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>pC(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class rD extends iD{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Vd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(et.UNKNOWN,c.toString())})}Co(t,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Vd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _t(et.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Da(i),this.N_=!1):dt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="RemoteStore";class sD{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{yu(this)&&(dt(pu,"Restarting streams for network reachability change."),await async function(p){const m=Wt(p);m.W_.add(4),await mu(m),m.j_.set("Unknown"),m.W_.delete(4),await Bc(m)}(this))})}),this.j_=new aD(s,o)}}async function Bc(r){if(yu(r))for(const t of r.G_)await t(!0)}async function mu(r){for(const t of r.G_)await t(!1)}function yu(r){return Wt(r).W_.size===0}async function pE(r,t,i){if(!vu(t))throw t;r.W_.add(1),await mu(r),r.j_.set("Offline"),i||(i=()=>YC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{dt(pu,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Bc(r)})}function mE(r,t){return t().catch(i=>pE(r,i,t))}async function qc(r){const t=Wt(r),i=jr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:ev;for(;oD(t);)try{const o=await XC(t.localStore,s);if(o===null){t.U_.length===0&&i.P_();break}s=o.batchId,uD(t,o)}catch(o){await pE(t,o)}yE(t)&&_E(t)}function oD(r){return yu(r)&&r.U_.length<10}function uD(r,t){r.U_.push(t);const i=jr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function yE(r){return yu(r)&&!jr(r).u_()&&r.U_.length>0}function _E(r){jr(r).start()}async function lD(r){jr(r).C_()}async function cD(r){const t=jr(r);for(const i of r.U_)t.b_(i.mutations)}async function fD(r,t,i){const s=r.U_.shift(),o=cv.from(s,t,i);await mE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qc(r)}async function hD(r,t){t&&jr(r).S_&&await async function(s,o){if(function(d){return oC(d)&&d!==et.ABORTED}(o.code)){const c=s.U_.shift();jr(s).h_(),await mE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await qc(s)}}(r,t),yE(r)&&_E(r)}async function c0(r,t){const i=Wt(r);i.asyncQueue.verifyOperationInProgress(),dt(pu,"RemoteStore received new credentials");const s=yu(i);i.W_.add(3),await mu(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Bc(i)}async function dD(r,t){const i=Wt(r);t?(i.W_.delete(2),await Bc(i)):t||(i.W_.add(2),await mu(i),i.j_.set("Unknown"))}function jr(r){return r.Y_||(r.Y_=function(i,s,o){const c=Wt(i);return c.M_(),new nD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:lD.bind(null,r),Lo:hD.bind(null,r),D_:cD.bind(null,r),v_:fD.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await qc(r)):(await r.Y_.stop(),r.U_.length>0&&(dt(pu,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,g=new vv(t,i,d,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(r,t){if(Da("AsyncQueue",`${t}: ${r}`),vu(r))return new _t(et.UNAVAILABLE,`${t}: ${r}`);throw r}class vD{constructor(){this.queries=f0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Wt(i),c=o.queries;o.queries=f0(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new _t(et.ABORTED,"Firestore shutting down"))}}function f0(){return new Na(r=>J_(r),Z_)}function gD(r){r.ia.forEach(t=>{t.next()})}var h0,d0;(d0=h0||(h0={}))._a="default",d0.Cache="cache";const pD="SyncEngine";class mD{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Na(g=>J_(g),Z_),this.qa=new Map,this.Qa=new Set,this.$a=new dn(wt.comparator),this.Ua=new Map,this.Ka=new fv,this.Wa={},this.Ga=new Map,this.za=xs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yD(r,t,i){const s=bD(r);try{const o=await function(d,g){const p=Wt(d),m=Be.now(),E=g.reduce((M,P)=>M.add(P.key),en());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=Sc(),j=en();return p.ds.getEntries(M,E).next(F=>{P=F,P.forEach((Q,H)=>{H.isValidDocument()||(j=j.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,P)).next(F=>{S=F;const Q=[];for(const H of g){const X=iC(H,S.get(H.key).overlayedDocument);X!=null&&Q.push(new Ma(H.key,X,G_(X.value.mapValue),$i.exists(!0)))}return p.mutationQueue.addMutationBatch(M,m,Q,g)}).next(F=>{C=F;const Q=F.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(M,F.batchId,Q)})}).then(()=>({batchId:C.batchId,changes:tE(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let m=d.Wa[d.currentUser.toKey()];m||(m=new dn(kt)),m=m.insert(g,p),d.Wa[d.currentUser.toKey()]=m}(s,o.batchId,i),await Hc(s,o.changes),await qc(s.remoteStore)}catch(o){const c=EE(o,"Failed to persist write");i.reject(c)}}function v0(r,t,i){const s=Wt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=Wt(d);p.onlineState=g;let m=!1;p.queries.forEach((E,S)=>{for(const C of S.ta)C.sa(g)&&(m=!0)}),m&&gD(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _D(r,t){const i=Wt(r),s=t.batch.batchId;try{const o=await QC(i.localStore,t);bE(i,s,null),TE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Hc(i,o)}catch(o){await Wd(o)}}async function ED(r,t,i){const s=Wt(r);try{const o=await function(d,g){const p=Wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let E;return p.mutationQueue.lookupMutationBatch(m,g).next(S=>(le(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(m,S))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E)).next(()=>p.localDocuments.getDocuments(m,E))})}(s.localStore,t);bE(s,t,i),TE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Hc(s,o)}catch(o){await Wd(o)}}function TE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function bE(r,t,i){const s=Wt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}async function Hc(r,t,i){const s=Wt(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(m=>{var E;if((m||i)&&s.isPrimaryClient){const S=m?!m.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(m){o.push(m);const S=dv.Yi(p.targetId,m);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,m){const E=Wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(m,C=>J.forEach(C.Hi,M=>E.persistence.referenceDelegate.addReference(S,C.targetId,M)).next(()=>J.forEach(C.Ji,M=>E.persistence.referenceDelegate.removeReference(S,C.targetId,M)))))}catch(S){if(!vu(S))throw S;dt(jC,"Failed to update sequence numbers: "+S)}for(const S of m){const C=S.targetId;if(!S.fromCache){const M=E.Ts.get(C),P=M.snapshotVersion,j=M.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(C,j)}}}(s.localStore,c))}async function TD(r,t){const i=Wt(r);if(!i.currentUser.isEqual(t)){dt(pD,"User change. New user:",t.toKey());const s=await vE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new _t(et.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hc(i,s.Rs)}}function bD(r){const t=Wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ED.bind(null,t),t}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return FC(this.persistence,new HC,t.initialUser,this.serializer)}Xa(t){return new dE(hv.ri,this.serializer)}Za(t){return new KC}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class AD extends Cc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){le(this.persistence.referenceDelegate instanceof Rc);const s=this.persistence.referenceDelegate.garbageCollector;return new CC(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new dE(s=>Rc.ri(s,i),this.serializer)}}class xd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vD}()}createDatastore(t){const i=zc(t.databaseInfo.databaseId),s=function(c){return new tD(c)}(t.databaseInfo);return function(c,d,g,p){return new rD(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,d,g){return new sD(s,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>v0(this.syncEngine,i,0),function(){return u0.D()?new u0:new $C}())}createSyncEngine(t,i){return function(o,c,d,g,p,m,E){const S=new mD(o,c,d,g,p,m);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=Wt(o);dt(pu,"RemoteStore shutting down."),c.W_.add(5),await mu(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class SD{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=L_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{dt(Gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(dt(Gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=EE(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ld(r,t){r.asyncQueue.verifyOperationInProgress(),dt(Gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await vE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function g0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await wD(r);dt(Gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>c0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>c0(t.remoteStore,o)),r._onlineComponents=t}async function wD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Gr,"Using user provided OfflineComponentProvider");try{await ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Lc("Error using user provided cache. Falling back to memory cache: "+i),await ld(r,new Cc)}}else dt(Gr,"Using default OfflineComponentProvider"),await ld(r,new AD(void 0));return r._offlineComponents}async function RD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Gr,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(dt(Gr,"Using default OnlineComponentProvider"),await g0(r,new xd))),r._onlineComponents}function CD(r){return RD(r).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r,t,i){if(!i)throw new _t(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ID(r,t,i,s){if(t===!0&&s===!0)throw new _t(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function m0(r){if(!wt.isDocumentKey(r))throw new _t(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":It()}function Pd(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new _t(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gv(r);throw new _t(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firestore.googleapis.com",y0=!0;class _0{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SE,this.ssl=y0}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:y0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wC)throw new _t(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ID("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pv{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new rR;switch(s.type){case"firstParty":return new uR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=p0.get(i);s&&(dt("ComponentProvider","Removing Datastore"),p0.delete(i),s.terminate())}(this),Promise.resolve()}}function OD(r,t,i,s={}){var o;const c=(r=Pd(r,pv))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==SE&&c.host!==g&&Lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!vc(p,d)&&(r._setSettings(p),s.mockUserToken)){let m,E;if(typeof s.mockUserToken=="string")m=s.mockUserToken,E=tn.MOCK_USER;else{m=Pw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new _t(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(S)}r._authCredentials=new aR(new U_(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mv(this.firestore,t,this._query)}}class Zi{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}}class fu extends mv{constructor(t,i,s){super(t,i,BR(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new wt(t))}withConverter(t){return new fu(this.firestore,t,this._path)}}function ND(r,t,...i){if(r=gc(r),arguments.length===1&&(t=L_.newId()),DD("doc","path",t),r instanceof pv){const s=be.fromString(t,...i);return m0(s),new Zi(r,null,new wt(s))}{if(!(r instanceof Zi||r instanceof fu))throw new _t(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(be.fromString(t,...i));return m0(s),new Zi(r.firestore,r instanceof fu?r.converter:null,new wt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gE(this,"async_queue_retry"),this.Su=()=>{const s=ud();s&&dt(E0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new wa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!vu(t))throw t;dt(E0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Da("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=vv.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&It()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class wE extends pv{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T0(t),this._firestoreClient=void 0,await t}}}function MD(r,t){const i=typeof r=="object"?r:Y2(),s=typeof r=="string"?r:Ec,o=H2(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Lw("firestore");c&&OD(o,...c)}return o}function VD(r){if(r._terminated)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UD(r),r._firestoreClient}function UD(r){var t,i,s;const o=r._freezeSettings(),c=function(g,p,m,E){return new wR(g,p,m,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,AE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new SD(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hu(bi.fromBase64String(t))}catch(i){throw new _t(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new hu(bi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new _t(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new _t(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _t(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=/^__.*__$/;class xD{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ma(t,this.data,this.fieldMask,i,this.fieldTransforms):new gu(t,this.data,i,this.fieldTransforms)}}function IE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class _v{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _v(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Dc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(IE(this.Lu)&&LD.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class PD{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||zc(t)}ju(t,i,s,o=!1){return new _v({Lu:t,methodName:i,zu:s,path:Ye.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kD(r){const t=r._freezeSettings(),i=zc(r._databaseId);return new PD(r._databaseId,!!t.ignoreUndefinedProperties,i)}function zD(r,t,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,o);VE("Data must be an object, but it was:",d,s);const g=NE(s,d);let p,m;if(c.merge)p=new Zn(d.fieldMask),m=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const C=BD(t,S,i);if(!d.contains(C))throw new _t(et.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);jD(E,C)||E.push(C)}p=new Zn(E),m=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,m=d.fieldTransforms;return new xD(new $n(g),p,m)}class Ev extends yv{_toFieldTransform(t){return new WR(t.path,new uu)}isEqual(t){return t instanceof Ev}}function OE(r,t){if(ME(r=gc(r)))return VE("Unsupported field value:",t,r),NE(r,t);if(r instanceof yv)return function(s,o){if(!IE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=OE(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=gc(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $R(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Be.fromDate(s);return{timestampValue:Md(o.serializer,c)}}if(s instanceof Be){const c=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Md(o.serializer,c)}}if(s instanceof CE)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hu)return{bytesValue:cC(o.serializer,s._byteString)};if(s instanceof Zi){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cE(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof DE)return function(d,g){return{mapValue:{fields:{[H_]:{stringValue:j_},[Cd]:{arrayValue:{values:d.toArray().map(m=>{if(typeof m!="number")throw g.Wu("VectorValues must only contain numeric values.");return lv(g.serializer,m)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${gv(s)}`)}(r,t)}function NE(r,t){const i={};return P_(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(r,(s,o)=>{const c=OE(o,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function ME(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof CE||r instanceof hu||r instanceof Zi||r instanceof yv||r instanceof DE)}function VE(r,t,i){if(!ME(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=gv(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function BD(r,t,i){if((t=gc(t))instanceof RE)return t._internalPath;if(typeof t=="string")return HD(r,t);throw Dc("Field path arguments must be of type string or ",r,!1,void 0,i)}const qD=new RegExp("[~\\*/\\[\\]]");function HD(r,t,i){if(t.search(qD)>=0)throw Dc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new RE(...t.split("."))._internalPath}catch{throw Dc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Dc(r,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new _t(et.INVALID_ARGUMENT,g+r+p)}function jD(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r,t,i){let s;return s=r?r.toFirestore(t):t,s}function FD(r,t,i){r=Pd(r,Zi);const s=Pd(r.firestore,wE),o=GD(r.converter,t);return QD(s,[zD(kD(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,$i.none())])}function QD(r,t){return function(s,o){const c=new wa;return s.asyncQueue.enqueueAndForget(async()=>yD(await CD(s),o,c)),c.promise}(VD(r),t)}function YD(){return new Ev("serverTimestamp")}(function(t,i=!0){(function(o){zs=o})(Q2),mc(new ru("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new wE(new sR(s.getProvider("auth-internal")),new lR(d,s.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _t(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(m.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Is(xy,Py,t),Is(xy,Py,"esm2017")})();var XD="firebase",KD="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(XD,KD,"app");const $D={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},ZD=R_($D),JD=MD(ZD),WD=async({email:r})=>{await FD(ND(JD,"user-email",r),{email:r,timestamp:YD()})},tI=({label:r})=>{const[t,i]=cd.useState(""),s=o=>{o.preventDefault(),Sw("Submit Email"),(async()=>{try{await WD({email:t}),alert("  "),i("")}catch(c){alert(" "),console.error(c)}})()};return Kn.jsxs("div",{children:[Kn.jsx("label",{children:r}),Kn.jsxs("form",{onSubmit:s,children:[Kn.jsx("input",{type:"email",value:t,onChange:o=>i(o.target.value)}),Kn.jsx("button",{type:"submit",children:""})]})]})},eI=r=>{const t=cd.useRef(!1);cd.useEffect(()=>{t.current||(t.current=!0,r())})},nI=({children:r})=>(eI(()=>{Aw(void 0,{autocapture:!0})}),Kn.jsx(Kn.Fragment,{children:r}));function iI(){return Kn.jsx(nI,{children:Kn.jsx("div",{children:Kn.jsx(tI,{label:" "})})})}db.createRoot(document.getElementById("root")).render(Kn.jsx(iI,{}));
